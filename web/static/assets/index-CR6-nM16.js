(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();function Lv(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Od={exports:{}},ao={};var cg;function Bv(){if(cg)return ao;cg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(i,o,r){var u=null;if(r!==void 0&&(u=""+r),o.key!==void 0&&(u=""+o.key),"key"in o){r={};for(var f in o)f!=="key"&&(r[f]=o[f])}else r=o;return o=r.ref,{$$typeof:n,type:i,key:u,ref:o!==void 0?o:null,props:r}}return ao.Fragment=e,ao.jsx=a,ao.jsxs=a,ao}var ug;function Hv(){return ug||(ug=1,Od.exports=Bv()),Od.exports}var d=Hv(),Dd={exports:{}},Et={};var dg;function Uv(){if(dg)return Et;dg=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,N={};function k(A,F,lt){this.props=A,this.context=F,this.refs=N,this.updater=lt||j}k.prototype.isReactComponent={},k.prototype.setState=function(A,F){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,F,"setState")},k.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function H(){}H.prototype=k.prototype;function z(A,F,lt){this.props=A,this.context=F,this.refs=N,this.updater=lt||j}var Q=z.prototype=new H;Q.constructor=z,M(Q,k.prototype),Q.isPureReactComponent=!0;var U=Array.isArray;function Z(){}var P={H:null,A:null,T:null,S:null},nt=Object.prototype.hasOwnProperty;function tt(A,F,lt){var ut=lt.ref;return{$$typeof:n,type:A,key:F,ref:ut!==void 0?ut:null,props:lt}}function rt(A,F){return tt(A.type,F,A.props)}function J(A){return typeof A=="object"&&A!==null&&A.$$typeof===n}function V(A){var F={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(lt){return F[lt]})}var ht=/\/+/g;function ot(A,F){return typeof A=="object"&&A!==null&&A.key!=null?V(""+A.key):F.toString(36)}function ct(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Z,Z):(A.status="pending",A.then(function(F){A.status==="pending"&&(A.status="fulfilled",A.value=F)},function(F){A.status==="pending"&&(A.status="rejected",A.reason=F)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function D(A,F,lt,ut,bt){var Nt=typeof A;(Nt==="undefined"||Nt==="boolean")&&(A=null);var ft=!1;if(A===null)ft=!0;else switch(Nt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(A.$$typeof){case n:case e:ft=!0;break;case y:return ft=A._init,D(ft(A._payload),F,lt,ut,bt)}}if(ft)return bt=bt(A),ft=ut===""?"."+ot(A,0):ut,U(bt)?(lt="",ft!=null&&(lt=ft.replace(ht,"$&/")+"/"),D(bt,F,lt,"",function(fe){return fe})):bt!=null&&(J(bt)&&(bt=rt(bt,lt+(bt.key==null||A&&A.key===bt.key?"":(""+bt.key).replace(ht,"$&/")+"/")+ft)),F.push(bt)),1;ft=0;var Tt=ut===""?".":ut+":";if(U(A))for(var gt=0;gt<A.length;gt++)ut=A[gt],Nt=Tt+ot(ut,gt),ft+=D(ut,F,lt,Nt,bt);else if(gt=S(A),typeof gt=="function")for(A=gt.call(A),gt=0;!(ut=A.next()).done;)ut=ut.value,Nt=Tt+ot(ut,gt++),ft+=D(ut,F,lt,Nt,bt);else if(Nt==="object"){if(typeof A.then=="function")return D(ct(A),F,lt,ut,bt);throw F=String(A),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ft}function K(A,F,lt){if(A==null)return A;var ut=[],bt=0;return D(A,ut,"","",function(Nt){return F.call(lt,Nt,bt++)}),ut}function E(A){if(A._status===-1){var F=A._result;F=F(),F.then(function(lt){(A._status===0||A._status===-1)&&(A._status=1,A._result=lt)},function(lt){(A._status===0||A._status===-1)&&(A._status=2,A._result=lt)}),A._status===-1&&(A._status=0,A._result=F)}if(A._status===1)return A._result.default;throw A._result}var Y=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},st={map:K,forEach:function(A,F,lt){K(A,function(){F.apply(this,arguments)},lt)},count:function(A){var F=0;return K(A,function(){F++}),F},toArray:function(A){return K(A,function(F){return F})||[]},only:function(A){if(!J(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Et.Activity=v,Et.Children=st,Et.Component=k,Et.Fragment=a,Et.Profiler=o,Et.PureComponent=z,Et.StrictMode=i,Et.Suspense=m,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Et.__COMPILER_RUNTIME={__proto__:null,c:function(A){return P.H.useMemoCache(A)}},Et.cache=function(A){return function(){return A.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(A,F,lt){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ut=M({},A.props),bt=A.key;if(F!=null)for(Nt in F.key!==void 0&&(bt=""+F.key),F)!nt.call(F,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&F.ref===void 0||(ut[Nt]=F[Nt]);var Nt=arguments.length-2;if(Nt===1)ut.children=lt;else if(1<Nt){for(var ft=Array(Nt),Tt=0;Tt<Nt;Tt++)ft[Tt]=arguments[Tt+2];ut.children=ft}return tt(A.type,bt,ut)},Et.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:r,_context:A},A},Et.createElement=function(A,F,lt){var ut,bt={},Nt=null;if(F!=null)for(ut in F.key!==void 0&&(Nt=""+F.key),F)nt.call(F,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(bt[ut]=F[ut]);var ft=arguments.length-2;if(ft===1)bt.children=lt;else if(1<ft){for(var Tt=Array(ft),gt=0;gt<ft;gt++)Tt[gt]=arguments[gt+2];bt.children=Tt}if(A&&A.defaultProps)for(ut in ft=A.defaultProps,ft)bt[ut]===void 0&&(bt[ut]=ft[ut]);return tt(A,Nt,bt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(A){return{$$typeof:f,render:A}},Et.isValidElement=J,Et.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:E}},Et.memo=function(A,F){return{$$typeof:g,type:A,compare:F===void 0?null:F}},Et.startTransition=function(A){var F=P.T,lt={};P.T=lt;try{var ut=A(),bt=P.S;bt!==null&&bt(lt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Z,Y)}catch(Nt){Y(Nt)}finally{F!==null&&lt.types!==null&&(F.types=lt.types),P.T=F}},Et.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Et.use=function(A){return P.H.use(A)},Et.useActionState=function(A,F,lt){return P.H.useActionState(A,F,lt)},Et.useCallback=function(A,F){return P.H.useCallback(A,F)},Et.useContext=function(A){return P.H.useContext(A)},Et.useDebugValue=function(){},Et.useDeferredValue=function(A,F){return P.H.useDeferredValue(A,F)},Et.useEffect=function(A,F){return P.H.useEffect(A,F)},Et.useEffectEvent=function(A){return P.H.useEffectEvent(A)},Et.useId=function(){return P.H.useId()},Et.useImperativeHandle=function(A,F,lt){return P.H.useImperativeHandle(A,F,lt)},Et.useInsertionEffect=function(A,F){return P.H.useInsertionEffect(A,F)},Et.useLayoutEffect=function(A,F){return P.H.useLayoutEffect(A,F)},Et.useMemo=function(A,F){return P.H.useMemo(A,F)},Et.useOptimistic=function(A,F){return P.H.useOptimistic(A,F)},Et.useReducer=function(A,F,lt){return P.H.useReducer(A,F,lt)},Et.useRef=function(A){return P.H.useRef(A)},Et.useState=function(A){return P.H.useState(A)},Et.useSyncExternalStore=function(A,F,lt){return P.H.useSyncExternalStore(A,F,lt)},Et.useTransition=function(){return P.H.useTransition()},Et.version="19.2.3",Et}var fg;function mf(){return fg||(fg=1,Dd.exports=Uv()),Dd.exports}var C=mf();const gi=Lv(C);var zd={exports:{}},io={},Rd={exports:{}},kd={};var hg;function Vv(){return hg||(hg=1,(function(n){function e(D,K){var E=D.length;D.push(K);t:for(;0<E;){var Y=E-1>>>1,st=D[Y];if(0<o(st,K))D[Y]=K,D[E]=st,E=Y;else break t}}function a(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var K=D[0],E=D.pop();if(E!==K){D[0]=E;t:for(var Y=0,st=D.length,A=st>>>1;Y<A;){var F=2*(Y+1)-1,lt=D[F],ut=F+1,bt=D[ut];if(0>o(lt,E))ut<st&&0>o(bt,lt)?(D[Y]=bt,D[ut]=E,Y=ut):(D[Y]=lt,D[F]=E,Y=F);else if(ut<st&&0>o(bt,E))D[Y]=bt,D[ut]=E,Y=ut;else break t}}return K}function o(D,K){var E=D.sortIndex-K.sortIndex;return E!==0?E:D.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],g=[],y=1,v=null,x=3,S=!1,j=!1,M=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q(D){for(var K=a(g);K!==null;){if(K.callback===null)i(g);else if(K.startTime<=D)i(g),K.sortIndex=K.expirationTime,e(m,K);else break;K=a(g)}}function U(D){if(M=!1,Q(D),!j)if(a(m)!==null)j=!0,Z||(Z=!0,V());else{var K=a(g);K!==null&&ct(U,K.startTime-D)}}var Z=!1,P=-1,nt=5,tt=-1;function rt(){return N?!0:!(n.unstable_now()-tt<nt)}function J(){if(N=!1,Z){var D=n.unstable_now();tt=D;var K=!0;try{t:{j=!1,M&&(M=!1,H(P),P=-1),S=!0;var E=x;try{e:{for(Q(D),v=a(m);v!==null&&!(v.expirationTime>D&&rt());){var Y=v.callback;if(typeof Y=="function"){v.callback=null,x=v.priorityLevel;var st=Y(v.expirationTime<=D);if(D=n.unstable_now(),typeof st=="function"){v.callback=st,Q(D),K=!0;break e}v===a(m)&&i(m),Q(D)}else i(m);v=a(m)}if(v!==null)K=!0;else{var A=a(g);A!==null&&ct(U,A.startTime-D),K=!1}}break t}finally{v=null,x=E,S=!1}K=void 0}}finally{K?V():Z=!1}}}var V;if(typeof z=="function")V=function(){z(J)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,ot=ht.port2;ht.port1.onmessage=J,V=function(){ot.postMessage(null)}}else V=function(){k(J,0)};function ct(D,K){P=k(function(){D(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nt=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(D){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var E=x;x=K;try{return D()}finally{x=E}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var E=x;x=D;try{return K()}finally{x=E}},n.unstable_scheduleCallback=function(D,K,E){var Y=n.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?Y+E:Y):E=Y,D){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=E+st,D={id:y++,callback:K,priorityLevel:D,startTime:E,expirationTime:st,sortIndex:-1},E>Y?(D.sortIndex=E,e(g,D),a(m)===null&&D===a(g)&&(M?(H(P),P=-1):M=!0,ct(U,E-Y))):(D.sortIndex=st,e(m,D),j||S||(j=!0,Z||(Z=!0,V()))),D},n.unstable_shouldYield=rt,n.unstable_wrapCallback=function(D){var K=x;return function(){var E=x;x=K;try{return D.apply(this,arguments)}finally{x=E}}}})(kd)),kd}var mg;function Fv(){return mg||(mg=1,Rd.exports=Vv()),Rd.exports}var Ld={exports:{}},un={};var gg;function Pv(){if(gg)return un;gg=1;var n=mf();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function r(m,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,un.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return r(m,g,null,y)},un.flushSync=function(m){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=g,i.p=y,i.d.f()}},un.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},un.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},un.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,v=f(y,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:S}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},un.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=f(y,g.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},un.requestFormReset=function(m){i.d.r(m)},un.unstable_batchedUpdates=function(m,g){return m(g)},un.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},un.useFormStatus=function(){return u.H.useHostTransitionStatus()},un.version="19.2.3",un}var pg;function qv(){if(pg)return Ld.exports;pg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ld.exports=Pv(),Ld.exports}var yg;function Yv(){if(yg)return io;yg=1;var n=Fv(),e=mf(),a=qv();function i(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function r(t){var s=t,l=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(l=s.return),t=s.return;while(t)}return s.tag===3?l:null}function u(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(r(t)!==t)throw Error(i(188))}function g(t){var s=t.alternate;if(!s){if(s=r(t),s===null)throw Error(i(188));return s!==t?null:t}for(var l=t,c=s;;){var h=l.return;if(h===null)break;var p=h.alternate;if(p===null){if(c=h.return,c!==null){l=c;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===l)return m(h),t;if(p===c)return m(h),s;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=h,c=p;else{for(var b=!1,_=h.child;_;){if(_===l){b=!0,l=h,c=p;break}if(_===c){b=!0,c=h,l=p;break}_=_.sibling}if(!b){for(_=p.child;_;){if(_===l){b=!0,l=p,c=h;break}if(_===c){b=!0,c=p,l=h;break}_=_.sibling}if(!b)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?t:s}function y(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=y(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=J&&t[J]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ht?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case k:return"Profiler";case N:return"StrictMode";case U:return"Suspense";case Z:return"SuspenseList";case tt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case z:return t.displayName||"Context";case H:return(t._context.displayName||"Context")+".Consumer";case Q:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return s=t.displayName||null,s!==null?s:ot(t.type)||"Memo";case nt:s=t._payload,t=t._init;try{return ot(t(s))}catch{}}return null}var ct=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E={pending:!1,data:null,method:null,action:null},Y=[],st=-1;function A(t){return{current:t}}function F(t){0>st||(t.current=Y[st],Y[st]=null,st--)}function lt(t,s){st++,Y[st]=t.current,t.current=s}var ut=A(null),bt=A(null),Nt=A(null),ft=A(null);function Tt(t,s){switch(lt(Nt,s),lt(bt,t),lt(ut,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Dm(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Dm(s),t=zm(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(ut),lt(ut,t)}function gt(){F(ut),F(bt),F(Nt)}function fe(t){t.memoizedState!==null&&lt(ft,t);var s=ut.current,l=zm(s,t.type);s!==l&&(lt(bt,t),lt(ut,l))}function He(t){bt.current===t&&(F(ut),F(bt)),ft.current===t&&(F(ft),to._currentValue=E)}var Ze,$e;function Qe(t){if(Ze===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ze=s&&s[1]||"",$e=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+t+$e}var De=!1;function pt(t,s){if(!t||De)return"";De=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var G=W}Reflect.construct(t,[],it)}else{try{it.call()}catch(W){G=W}t.call(it.prototype)}}else{try{throw Error()}catch(W){G=W}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&G&&typeof W.stack=="string")return[W.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],_=p[1];if(b&&_){var O=b.split(`
`),X=_.split(`
`);for(h=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(c===O.length||h===X.length)for(c=O.length-1,h=X.length-1;1<=c&&0<=h&&O[c]!==X[h];)h--;for(;1<=c&&0<=h;c--,h--)if(O[c]!==X[h]){if(c!==1||h!==1)do if(c--,h--,0>h||O[c]!==X[h]){var et=`
`+O[c].replace(" at new "," at ");return t.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",t.displayName)),et}while(1<=c&&0<=h);break}}}finally{De=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Qe(l):""}function xt(t,s){switch(t.tag){case 26:case 27:case 5:return Qe(t.type);case 16:return Qe("Lazy");case 13:return t.child!==s&&s!==null?Qe("Suspense Fallback"):Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 15:return pt(t.type,!1);case 11:return pt(t.type.render,!1);case 1:return pt(t.type,!0);case 31:return Qe("Activity");default:return""}}function Bt(t){try{var s="",l=null;do s+=xt(t,l),l=t,t=t.return;while(t);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Yt=Object.prototype.hasOwnProperty,Mt=n.unstable_scheduleCallback,Ht=n.unstable_cancelCallback,Ne=n.unstable_shouldYield,Ot=n.unstable_requestPaint,Vt=n.unstable_now,Ft=n.unstable_getCurrentPriorityLevel,Ue=n.unstable_ImmediatePriority,we=n.unstable_UserBlockingPriority,ze=n.unstable_NormalPriority,cn=n.unstable_LowPriority,yn=n.unstable_IdlePriority,en=n.log,vn=n.unstable_setDisableYieldValue,Ve=null,he=null;function nn(t){if(typeof en=="function"&&vn(t),he&&typeof he.setStrictMode=="function")try{he.setStrictMode(Ve,t)}catch{}}var Ce=Math.clz32?Math.clz32:_i,is=Math.log,Si=Math.LN2;function _i(t){return t>>>=0,t===0?32:31-(is(t)/Si|0)|0}var bs=256,Yn=262144,ua=4194304;function On(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ls(t,s,l){var c=t.pendingLanes;if(c===0)return 0;var h=0,p=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var _=c&134217727;return _!==0?(c=_&~p,c!==0?h=On(c):(b&=_,b!==0?h=On(b):l||(l=_&~t,l!==0&&(h=On(l))))):(_=c&~p,_!==0?h=On(_):b!==0?h=On(b):l||(l=c&~t,l!==0&&(h=On(l)))),h===0?0:s!==0&&s!==h&&(s&p)===0&&(p=h&-h,l=s&-s,p>=l||p===32&&(l&4194048)!==0)?s:h}function os(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Bs(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fa(){var t=ua;return ua<<=1,(ua&62914560)===0&&(ua=4194304),t}function _e(t){for(var s=[],l=0;31>l;l++)s.push(t);return s}function Ae(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xs(t,s,l,c,h,p){var b=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var _=t.entanglements,O=t.expirationTimes,X=t.hiddenUpdates;for(l=b&~l;0<l;){var et=31-Ce(l),it=1<<et;_[et]=0,O[et]=-1;var G=X[et];if(G!==null)for(X[et]=null,et=0;et<G.length;et++){var W=G[et];W!==null&&(W.lane&=-536870913)}l&=~it}c!==0&&rs(t,c,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(b&~s))}function rs(t,s,l){t.pendingLanes|=s,t.suspendedLanes&=~s;var c=31-Ce(s);t.entangledLanes|=s,t.entanglements[c]=t.entanglements[c]|1073741824|l&261930}function Ss(t,s){var l=t.entangledLanes|=s;for(t=t.entanglements;l;){var c=31-Ce(l),h=1<<c;h&s|t[c]&s&&(t[c]|=s),l&=~h}}function ji(t,s){var l=s&-s;return l=(l&42)!==0?1:ye(l),(l&(t.suspendedLanes|s))!==0?0:l}function ye(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pa(){var t=K.p;return t!==0?t:(t=window.event,t===void 0?32:ng(t.type))}function Hs(t,s){var l=K.p;try{return K.p=t,s()}finally{K.p=l}}var sn=Math.random().toString(36).slice(2),Xt="__reactFiber$"+sn,me="__reactProps$"+sn,_s="__reactContainer$"+sn,Us="__reactEvents$"+sn,Vs="__reactListeners$"+sn,pl="__reactHandles$"+sn,Ni="__reactResources$"+sn,Fs="__reactMarker$"+sn;function Xn(t){delete t[Xt],delete t[me],delete t[Us],delete t[Vs],delete t[pl]}function js(t){var s=t[Xt];if(s)return s;for(var l=t.parentNode;l;){if(s=l[_s]||l[Xt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(t=Vm(t);t!==null;){if(l=t[Xt])return l;t=Vm(t)}return s}t=l,l=t.parentNode}return null}function xn(t){if(t=t[Xt]||t[_s]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Ps(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(i(33))}function cs(t){var s=t[Ni];return s||(s=t[Ni]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ne(t){t[Fs]=!0}var Dn=new Set,ve={};function Gn(t,s){Ee(t,s),Ee(t+"Capture",s)}function Ee(t,s){for(ve[t]=s,t=0;t<s.length;t++)Dn.add(s[t])}var yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qa={},T={};function yt(t){return Yt.call(T,t)?!0:Yt.call(qa,t)?!1:yl.test(t)?T[t]=!0:(qa[t]=!0,!1)}function St(t,s,l){if(yt(s))if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+l)}}function At(t,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+l)}}function Zt(t,s,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(s,l,""+c)}}function Dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ge(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Lt(t,s,l){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,p=c.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(t,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function zn(t){if(!t._valueTracker){var s=ge(t)?"checked":"value";t._valueTracker=Lt(t,s,""+t[s])}}function Rn(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return t&&(c=ge(t)?t.checked?"true":"false":t.value),t=c,t!==l?(s.setValue(t),!0):!1}function Ie(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var da=/[\n"\\]/g;function se(t){return t.replace(da,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function us(t,s,l,c,h,p,b,_){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),s!=null?b==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Dt(s)):t.value!==""+Dt(s)&&(t.value=""+Dt(s)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),s!=null?Ci(t,b,Dt(s)):l!=null?Ci(t,b,Dt(l)):c!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Dt(_):t.removeAttribute("name")}function wi(t,s,l,c,h,p,b,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),s!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){zn(t);return}l=l!=null?""+Dt(l):"",s=s!=null?""+Dt(s):l,_||s===t.value||(t.value=s),t.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=_?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),zn(t)}function Ci(t,s,l){s==="number"&&Ie(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function qs(t,s,l,c){if(t=t.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<t.length;l++)h=s.hasOwnProperty("$"+t[l].value),t[l].selected!==h&&(t[l].selected=h),h&&c&&(t[l].defaultSelected=!0)}else{for(l=""+Dt(l),s=null,h=0;h<t.length;h++){if(t[h].value===l){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function Ns(t,s,l){if(s!=null&&(s=""+Dt(s),s!==t.value&&(t.value=s),l==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=l!=null?""+Dt(l):""}function Mi(t,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(i(92));if(ct(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Dt(s),t.defaultValue=l,c=t.textContent,c===l&&c!==""&&c!==null&&(t.value=c),zn(t)}function Gt(t,s){if(s){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=s;return}}t.textContent=s}var zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ys(t,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":c?t.setProperty(s,l):typeof l!="number"||l===0||zo.has(s)?s==="float"?t.cssFloat=l:t[s]=(""+l).trim():t[s]=l+"px"}function Qn(t,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(t=t.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&l[h]!==c&&Ys(t,h,c)}else for(var p in s)s.hasOwnProperty(p)&&Ys(t,p,s[p])}function Ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ai(t){return Ro.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function gn(){}var vl=null;function w(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var L=null,$=null;function dt(t){var s=xn(t);if(s&&(t=s.stateNode)){var l=t[me]||null;t:switch(t=s.stateNode,s.type){case"input":if(us(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+se(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==t&&c.form===t.form){var h=c[me]||null;if(!h)throw Error(i(90));us(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===t.form&&Rn(c)}break t;case"textarea":Ns(t,l.value,l.defaultValue);break t;case"select":s=l.value,s!=null&&qs(t,!!l.multiple,s,!1)}}}var jt=!1;function ae(t,s,l){if(jt)return t(s,l);jt=!0;try{var c=t(s);return c}finally{if(jt=!1,(L!==null||$!==null)&&(Sr(),L&&(s=L,t=$,$=L=null,dt(s),t)))for(s=0;s<t.length;s++)dt(t[s])}}function Fe(t,s){var l=t.stateNode;if(l===null)return null;var c=l[me]||null;if(c===null)return null;l=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Ke=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Me=!1;if(Ke)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Me=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Me=!1}var ws=null,Ei=null,ko=null;function zf(){if(ko)return ko;var t,s=Ei,l=s.length,c,h="value"in ws?ws.value:ws.textContent,p=h.length;for(t=0;t<l&&s[t]===h[t];t++);var b=l-t;for(c=1;c<=b&&s[l-c]===h[p-c];c++);return ko=h.slice(t,1<c?1-c:void 0)}function Lo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Bo(){return!0}function Rf(){return!1}function Sn(t){function s(l,c,h,p,b){this._reactName=l,this._targetInst=h,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(l=t[_],this[_]=l?l(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bo:Rf,this.isPropagationStopped=Rf,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),s}var Xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=Sn(Xa),bl=v({},Xa,{view:0,detail:0}),R2=Sn(bl),zc,Rc,xl,Uo=v({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xl&&(xl&&t.type==="mousemove"?(zc=t.screenX-xl.screenX,Rc=t.screenY-xl.screenY):Rc=zc=0,xl=t),zc)},movementY:function(t){return"movementY"in t?t.movementY:Rc}}),kf=Sn(Uo),k2=v({},Uo,{dataTransfer:0}),L2=Sn(k2),B2=v({},bl,{relatedTarget:0}),kc=Sn(B2),H2=v({},Xa,{animationName:0,elapsedTime:0,pseudoElement:0}),U2=Sn(H2),V2=v({},Xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F2=Sn(V2),P2=v({},Xa,{data:0}),Lf=Sn(P2),q2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G2(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=X2[t])?!!s[t]:!1}function Lc(){return G2}var Q2=v({},bl,{key:function(t){if(t.key){var s=q2[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Lo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(t){return t.type==="keypress"?Lo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I2=Sn(Q2),K2=v({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=Sn(K2),W2=v({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),Z2=Sn(W2),$2=v({},Xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),J2=Sn($2),ty=v({},Uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ey=Sn(ty),ny=v({},Xa,{newState:0,oldState:0}),sy=Sn(ny),ay=[9,13,27,32],Bc=Ke&&"CompositionEvent"in window,Sl=null;Ke&&"documentMode"in document&&(Sl=document.documentMode);var iy=Ke&&"TextEvent"in window&&!Sl,Hf=Ke&&(!Bc||Sl&&8<Sl&&11>=Sl),Uf=" ",Vf=!1;function Ff(t,s){switch(t){case"keyup":return ay.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ti=!1;function ly(t,s){switch(t){case"compositionend":return Pf(s);case"keypress":return s.which!==32?null:(Vf=!0,Uf);case"textInput":return t=s.data,t===Uf&&Vf?null:t;default:return null}}function oy(t,s){if(Ti)return t==="compositionend"||!Bc&&Ff(t,s)?(t=zf(),ko=Ei=ws=null,Ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hf&&s.locale!=="ko"?null:s.data;default:return null}}var ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!ry[t.type]:s==="textarea"}function Yf(t,s,l,c){L?$?$.push(c):$=[c]:L=c,s=Ar(s,"onChange"),0<s.length&&(l=new Ho("onChange","change",null,l,c),t.push({event:l,listeners:s}))}var _l=null,jl=null;function cy(t){Cm(t,0)}function Vo(t){var s=Ps(t);if(Rn(s))return t}function Xf(t,s){if(t==="change")return s}var Gf=!1;if(Ke){var Hc;if(Ke){var Uc="oninput"in document;if(!Uc){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),Uc=typeof Qf.oninput=="function"}Hc=Uc}else Hc=!1;Gf=Hc&&(!document.documentMode||9<document.documentMode)}function If(){_l&&(_l.detachEvent("onpropertychange",Kf),jl=_l=null)}function Kf(t){if(t.propertyName==="value"&&Vo(jl)){var s=[];Yf(s,jl,t,w(t)),ae(cy,s)}}function uy(t,s,l){t==="focusin"?(If(),_l=s,jl=l,_l.attachEvent("onpropertychange",Kf)):t==="focusout"&&If()}function dy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vo(jl)}function fy(t,s){if(t==="click")return Vo(s)}function hy(t,s){if(t==="input"||t==="change")return Vo(s)}function my(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ln=typeof Object.is=="function"?Object.is:my;function Nl(t,s){if(Ln(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var l=Object.keys(t),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var h=l[c];if(!Yt.call(s,h)||!Ln(t[h],s[h]))return!1}return!0}function Wf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zf(t,s){var l=Wf(t);t=0;for(var c;l;){if(l.nodeType===3){if(c=t+l.textContent.length,t<=s&&c>=s)return{node:l,offset:s-t};t=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Wf(l)}}function $f(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?$f(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ie(t.document);s instanceof t.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)t=s.contentWindow;else break;s=Ie(t.document)}return s}function Vc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var gy=Ke&&"documentMode"in document&&11>=document.documentMode,Oi=null,Fc=null,wl=null,Pc=!1;function th(t,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pc||Oi==null||Oi!==Ie(c)||(c=Oi,"selectionStart"in c&&Vc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wl&&Nl(wl,c)||(wl=c,c=Ar(Fc,"onSelect"),0<c.length&&(s=new Ho("onSelect","select",null,s,l),t.push({event:s,listeners:c}),s.target=Oi)))}function Ga(t,s){var l={};return l[t.toLowerCase()]=s.toLowerCase(),l["Webkit"+t]="webkit"+s,l["Moz"+t]="moz"+s,l}var Di={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},qc={},eh={};Ke&&(eh=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function Qa(t){if(qc[t])return qc[t];if(!Di[t])return t;var s=Di[t],l;for(l in s)if(s.hasOwnProperty(l)&&l in eh)return qc[t]=s[l];return t}var nh=Qa("animationend"),sh=Qa("animationiteration"),ah=Qa("animationstart"),py=Qa("transitionrun"),yy=Qa("transitionstart"),vy=Qa("transitioncancel"),ih=Qa("transitionend"),lh=new Map,Yc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yc.push("scrollEnd");function ds(t,s){lh.set(t,s),Gn(s,[t])}var Fo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],zi=0,Xc=0;function Po(){for(var t=zi,s=Xc=zi=0;s<t;){var l=In[s];In[s++]=null;var c=In[s];In[s++]=null;var h=In[s];In[s++]=null;var p=In[s];if(In[s++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}p!==0&&oh(l,h,p)}}function qo(t,s,l,c){In[zi++]=t,In[zi++]=s,In[zi++]=l,In[zi++]=c,Xc|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Gc(t,s,l,c){return qo(t,s,l,c),Yo(t)}function Ia(t,s){return qo(t,null,null,s),Yo(t)}function oh(t,s,l){t.lanes|=l;var c=t.alternate;c!==null&&(c.lanes|=l);for(var h=!1,p=t.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,h&&s!==null&&(h=31-Ce(l),t=p.hiddenUpdates,c=t[h],c===null?t[h]=[s]:c.push(s),s.lane=l|536870912),p):null}function Yo(t){if(50<Ql)throw Ql=0,ed=null,Error(i(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ri={};function by(t,s,l,c){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,s,l,c){return new by(t,s,l,c)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xs(t,s){var l=t.alternate;return l===null?(l=Bn(t.tag,s,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=s,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,s=t.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function rh(t,s){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,s=l.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Xo(t,s,l,c,h,p){var b=0;if(c=t,typeof t=="function")Qc(t)&&(b=1);else if(typeof t=="string")b=Nv(t,l,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case tt:return t=Bn(31,l,s,h),t.elementType=tt,t.lanes=p,t;case M:return Ka(l.children,h,p,s);case N:b=8,h|=24;break;case k:return t=Bn(12,l,s,h|2),t.elementType=k,t.lanes=p,t;case U:return t=Bn(13,l,s,h),t.elementType=U,t.lanes=p,t;case Z:return t=Bn(19,l,s,h),t.elementType=Z,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:b=10;break t;case H:b=9;break t;case Q:b=11;break t;case P:b=14;break t;case nt:b=16,c=null;break t}b=29,l=Error(i(130,t===null?"null":typeof t,"")),c=null}return s=Bn(b,l,s,h),s.elementType=t,s.type=c,s.lanes=p,s}function Ka(t,s,l,c){return t=Bn(7,t,c,s),t.lanes=l,t}function Ic(t,s,l){return t=Bn(6,t,null,s),t.lanes=l,t}function ch(t){var s=Bn(18,null,null,0);return s.stateNode=t,s}function Kc(t,s,l){return s=Bn(4,t.children!==null?t.children:[],t.key,s),s.lanes=l,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var uh=new WeakMap;function Kn(t,s){if(typeof t=="object"&&t!==null){var l=uh.get(t);return l!==void 0?l:(s={value:t,source:s,stack:Bt(s)},uh.set(t,s),s)}return{value:t,source:s,stack:Bt(s)}}var ki=[],Li=0,Go=null,Cl=0,Wn=[],Zn=0,fa=null,Cs=1,Ms="";function Gs(t,s){ki[Li++]=Cl,ki[Li++]=Go,Go=t,Cl=s}function dh(t,s,l){Wn[Zn++]=Cs,Wn[Zn++]=Ms,Wn[Zn++]=fa,fa=t;var c=Cs;t=Ms;var h=32-Ce(c)-1;c&=~(1<<h),l+=1;var p=32-Ce(s)+h;if(30<p){var b=h-h%5;p=(c&(1<<b)-1).toString(32),c>>=b,h-=b,Cs=1<<32-Ce(s)+h|l<<h|c,Ms=p+t}else Cs=1<<p|l<<h|c,Ms=t}function Wc(t){t.return!==null&&(Gs(t,1),dh(t,1,0))}function Zc(t){for(;t===Go;)Go=ki[--Li],ki[Li]=null,Cl=ki[--Li],ki[Li]=null;for(;t===fa;)fa=Wn[--Zn],Wn[Zn]=null,Ms=Wn[--Zn],Wn[Zn]=null,Cs=Wn[--Zn],Wn[Zn]=null}function fh(t,s){Wn[Zn++]=Cs,Wn[Zn++]=Ms,Wn[Zn++]=fa,Cs=s.id,Ms=s.overflow,fa=t}var an=null,be=null,Kt=!1,ha=null,$n=!1,$c=Error(i(519));function ma(t){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ml(Kn(s,t)),$c}function hh(t){var s=t.stateNode,l=t.type,c=t.memoizedProps;switch(s[Xt]=t,s[me]=c,l){case"dialog":qt("cancel",s),qt("close",s);break;case"iframe":case"object":case"embed":qt("load",s);break;case"video":case"audio":for(l=0;l<Kl.length;l++)qt(Kl[l],s);break;case"source":qt("error",s);break;case"img":case"image":case"link":qt("error",s),qt("load",s);break;case"details":qt("toggle",s);break;case"input":qt("invalid",s),wi(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":qt("invalid",s);break;case"textarea":qt("invalid",s),Mi(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||Tm(s.textContent,l)?(c.popover!=null&&(qt("beforetoggle",s),qt("toggle",s)),c.onScroll!=null&&qt("scroll",s),c.onScrollEnd!=null&&qt("scrollend",s),c.onClick!=null&&(s.onclick=gn),s=!0):s=!1,s||ma(t,!0)}function mh(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:an=an.return}}function Bi(t){if(t!==an)return!1;if(!Kt)return mh(t),Kt=!0,!1;var s=t.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||pd(t.type,t.memoizedProps)),l=!l),l&&be&&ma(t),mh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));be=Um(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));be=Um(t)}else s===27?(s=be,Aa(t.type)?(t=Sd,Sd=null,be=t):be=s):be=an?ts(t.stateNode.nextSibling):null;return!0}function Wa(){be=an=null,Kt=!1}function Jc(){var t=ha;return t!==null&&(wn===null?wn=t:wn.push.apply(wn,t),ha=null),t}function Ml(t){ha===null?ha=[t]:ha.push(t)}var tu=A(null),Za=null,Qs=null;function ga(t,s,l){lt(tu,s._currentValue),s._currentValue=l}function Is(t){t._currentValue=tu.current,F(tu)}function eu(t,s,l){for(;t!==null;){var c=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),t===l)break;t=t.return}}function nu(t,s,l,c){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var b=h.child;p=p.firstContext;t:for(;p!==null;){var _=p;p=h;for(var O=0;O<s.length;O++)if(_.context===s[O]){p.lanes|=l,_=p.alternate,_!==null&&(_.lanes|=l),eu(p.return,l,t),c||(b=null);break t}p=_.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(i(341));b.lanes|=l,p=b.alternate,p!==null&&(p.lanes|=l),eu(b,l,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Hi(t,s,l,c){t=null;for(var h=s,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var _=h.type;Ln(h.pendingProps.value,b.value)||(t!==null?t.push(_):t=[_])}}else if(h===ft.current){if(b=h.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(to):t=[to])}h=h.return}t!==null&&nu(s,t,l,c),s.flags|=262144}function Qo(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){Za=t,Qs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return gh(Za,t)}function Io(t,s){return Za===null&&$a(t),gh(t,s)}function gh(t,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Qs===null){if(t===null)throw Error(i(308));Qs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Qs=Qs.next=s;return l}var xy=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(l,c){t.push(c)}};this.abort=function(){s.aborted=!0,t.forEach(function(l){return l()})}},Sy=n.unstable_scheduleCallback,_y=n.unstable_NormalPriority,Pe={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function su(){return{controller:new xy,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&Sy(_y,function(){t.controller.abort()})}var El=null,au=0,Ui=0,Vi=null;function jy(t,s){if(El===null){var l=El=[];au=0,Ui=od(),Vi={status:"pending",value:void 0,then:function(c){l.push(c)}}}return au++,s.then(ph,ph),s}function ph(){if(--au===0&&El!==null){Vi!==null&&(Vi.status="fulfilled");var t=El;El=null,Ui=0,Vi=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Ny(t,s){var l=[],c={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return t.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<l.length;h++)(0,l[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),c}var yh=D.S;D.S=function(t,s){tm=Vt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&jy(t,s),yh!==null&&yh(t,s)};var Ja=A(null);function iu(){var t=Ja.current;return t!==null?t:de.pooledCache}function Ko(t,s){s===null?lt(Ja,Ja.current):lt(Ja,s.pool)}function vh(){var t=iu();return t===null?null:{parent:Pe._currentValue,pool:t}}var Fi=Error(i(460)),lu=Error(i(474)),Wo=Error(i(542)),Zo={then:function(){}};function bh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xh(t,s,l){switch(l=t[l],l===void 0?t.push(s):l!==s&&(s.then(gn,gn),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,_h(t),t;default:if(typeof s.status=="string")s.then(gn,gn);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=s,t.status="pending",t.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,_h(t),t}throw ei=s,Fi}}function ti(t){try{var s=t._init;return s(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ei=l,Fi):l}}var ei=null;function Sh(){if(ei===null)throw Error(i(459));var t=ei;return ei=null,t}function _h(t){if(t===Fi||t===Wo)throw Error(i(483))}var Pi=null,Tl=0;function $o(t){var s=Tl;return Tl+=1,Pi===null&&(Pi=[]),xh(Pi,t,s)}function Ol(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Jo(t,s){throw s.$$typeof===x?Error(i(525)):(t=Object.prototype.toString.call(s),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function jh(t){function s(B,R){if(t){var q=B.deletions;q===null?(B.deletions=[R],B.flags|=16):q.push(R)}}function l(B,R){if(!t)return null;for(;R!==null;)s(B,R),R=R.sibling;return null}function c(B){for(var R=new Map;B!==null;)B.key!==null?R.set(B.key,B):R.set(B.index,B),B=B.sibling;return R}function h(B,R){return B=Xs(B,R),B.index=0,B.sibling=null,B}function p(B,R,q){return B.index=q,t?(q=B.alternate,q!==null?(q=q.index,q<R?(B.flags|=67108866,R):q):(B.flags|=67108866,R)):(B.flags|=1048576,R)}function b(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function _(B,R,q,at){return R===null||R.tag!==6?(R=Ic(q,B.mode,at),R.return=B,R):(R=h(R,q),R.return=B,R)}function O(B,R,q,at){var wt=q.type;return wt===M?et(B,R,q.props.children,at,q.key):R!==null&&(R.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===nt&&ti(wt)===R.type)?(R=h(R,q.props),Ol(R,q),R.return=B,R):(R=Xo(q.type,q.key,q.props,null,B.mode,at),Ol(R,q),R.return=B,R)}function X(B,R,q,at){return R===null||R.tag!==4||R.stateNode.containerInfo!==q.containerInfo||R.stateNode.implementation!==q.implementation?(R=Kc(q,B.mode,at),R.return=B,R):(R=h(R,q.children||[]),R.return=B,R)}function et(B,R,q,at,wt){return R===null||R.tag!==7?(R=Ka(q,B.mode,at,wt),R.return=B,R):(R=h(R,q),R.return=B,R)}function it(B,R,q){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ic(""+R,B.mode,q),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case S:return q=Xo(R.type,R.key,R.props,null,B.mode,q),Ol(q,R),q.return=B,q;case j:return R=Kc(R,B.mode,q),R.return=B,R;case nt:return R=ti(R),it(B,R,q)}if(ct(R)||V(R))return R=Ka(R,B.mode,q,null),R.return=B,R;if(typeof R.then=="function")return it(B,$o(R),q);if(R.$$typeof===z)return it(B,Io(B,R),q);Jo(B,R)}return null}function G(B,R,q,at){var wt=R!==null?R.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return wt!==null?null:_(B,R,""+q,at);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===wt?O(B,R,q,at):null;case j:return q.key===wt?X(B,R,q,at):null;case nt:return q=ti(q),G(B,R,q,at)}if(ct(q)||V(q))return wt!==null?null:et(B,R,q,at,null);if(typeof q.then=="function")return G(B,R,$o(q),at);if(q.$$typeof===z)return G(B,R,Io(B,q),at);Jo(B,q)}return null}function W(B,R,q,at,wt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return B=B.get(q)||null,_(R,B,""+at,wt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case S:return B=B.get(at.key===null?q:at.key)||null,O(R,B,at,wt);case j:return B=B.get(at.key===null?q:at.key)||null,X(R,B,at,wt);case nt:return at=ti(at),W(B,R,q,at,wt)}if(ct(at)||V(at))return B=B.get(q)||null,et(R,B,at,wt,null);if(typeof at.then=="function")return W(B,R,q,$o(at),wt);if(at.$$typeof===z)return W(B,R,q,Io(R,at),wt);Jo(R,at)}return null}function vt(B,R,q,at){for(var wt=null,$t=null,_t=R,kt=R=0,It=null;_t!==null&&kt<q.length;kt++){_t.index>kt?(It=_t,_t=null):It=_t.sibling;var Jt=G(B,_t,q[kt],at);if(Jt===null){_t===null&&(_t=It);break}t&&_t&&Jt.alternate===null&&s(B,_t),R=p(Jt,R,kt),$t===null?wt=Jt:$t.sibling=Jt,$t=Jt,_t=It}if(kt===q.length)return l(B,_t),Kt&&Gs(B,kt),wt;if(_t===null){for(;kt<q.length;kt++)_t=it(B,q[kt],at),_t!==null&&(R=p(_t,R,kt),$t===null?wt=_t:$t.sibling=_t,$t=_t);return Kt&&Gs(B,kt),wt}for(_t=c(_t);kt<q.length;kt++)It=W(_t,B,kt,q[kt],at),It!==null&&(t&&It.alternate!==null&&_t.delete(It.key===null?kt:It.key),R=p(It,R,kt),$t===null?wt=It:$t.sibling=It,$t=It);return t&&_t.forEach(function(za){return s(B,za)}),Kt&&Gs(B,kt),wt}function Ct(B,R,q,at){if(q==null)throw Error(i(151));for(var wt=null,$t=null,_t=R,kt=R=0,It=null,Jt=q.next();_t!==null&&!Jt.done;kt++,Jt=q.next()){_t.index>kt?(It=_t,_t=null):It=_t.sibling;var za=G(B,_t,Jt.value,at);if(za===null){_t===null&&(_t=It);break}t&&_t&&za.alternate===null&&s(B,_t),R=p(za,R,kt),$t===null?wt=za:$t.sibling=za,$t=za,_t=It}if(Jt.done)return l(B,_t),Kt&&Gs(B,kt),wt;if(_t===null){for(;!Jt.done;kt++,Jt=q.next())Jt=it(B,Jt.value,at),Jt!==null&&(R=p(Jt,R,kt),$t===null?wt=Jt:$t.sibling=Jt,$t=Jt);return Kt&&Gs(B,kt),wt}for(_t=c(_t);!Jt.done;kt++,Jt=q.next())Jt=W(_t,B,kt,Jt.value,at),Jt!==null&&(t&&Jt.alternate!==null&&_t.delete(Jt.key===null?kt:Jt.key),R=p(Jt,R,kt),$t===null?wt=Jt:$t.sibling=Jt,$t=Jt);return t&&_t.forEach(function(kv){return s(B,kv)}),Kt&&Gs(B,kt),wt}function ue(B,R,q,at){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:t:{for(var wt=q.key;R!==null;){if(R.key===wt){if(wt=q.type,wt===M){if(R.tag===7){l(B,R.sibling),at=h(R,q.props.children),at.return=B,B=at;break t}}else if(R.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===nt&&ti(wt)===R.type){l(B,R.sibling),at=h(R,q.props),Ol(at,q),at.return=B,B=at;break t}l(B,R);break}else s(B,R);R=R.sibling}q.type===M?(at=Ka(q.props.children,B.mode,at,q.key),at.return=B,B=at):(at=Xo(q.type,q.key,q.props,null,B.mode,at),Ol(at,q),at.return=B,B=at)}return b(B);case j:t:{for(wt=q.key;R!==null;){if(R.key===wt)if(R.tag===4&&R.stateNode.containerInfo===q.containerInfo&&R.stateNode.implementation===q.implementation){l(B,R.sibling),at=h(R,q.children||[]),at.return=B,B=at;break t}else{l(B,R);break}else s(B,R);R=R.sibling}at=Kc(q,B.mode,at),at.return=B,B=at}return b(B);case nt:return q=ti(q),ue(B,R,q,at)}if(ct(q))return vt(B,R,q,at);if(V(q)){if(wt=V(q),typeof wt!="function")throw Error(i(150));return q=wt.call(q),Ct(B,R,q,at)}if(typeof q.then=="function")return ue(B,R,$o(q),at);if(q.$$typeof===z)return ue(B,R,Io(B,q),at);Jo(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,R!==null&&R.tag===6?(l(B,R.sibling),at=h(R,q),at.return=B,B=at):(l(B,R),at=Ic(q,B.mode,at),at.return=B,B=at),b(B)):l(B,R)}return function(B,R,q,at){try{Tl=0;var wt=ue(B,R,q,at);return Pi=null,wt}catch(_t){if(_t===Fi||_t===Wo)throw _t;var $t=Bn(29,_t,null,B.mode);return $t.lanes=at,$t.return=B,$t}}}var ni=jh(!0),Nh=jh(!1),pa=!1;function ou(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ru(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ya(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function va(t,s,l){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(te&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=Yo(t),oh(t,null,l),s}return qo(t,c,s,l),Yo(t)}function Dl(t,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=t.pendingLanes,l|=c,s.lanes=l,Ss(t,l)}}function cu(t,s){var l=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var h=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?h=p=b:p=p.next=b,l=l.next}while(l!==null);p===null?h=p=s:p=p.next=s}else h=p=s;l={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=s:t.next=s,l.lastBaseUpdate=s}var uu=!1;function zl(){if(uu){var t=Vi;if(t!==null)throw t}}function Rl(t,s,l,c){uu=!1;var h=t.updateQueue;pa=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var O=_,X=O.next;O.next=null,b===null?p=X:b.next=X,b=O;var et=t.alternate;et!==null&&(et=et.updateQueue,_=et.lastBaseUpdate,_!==b&&(_===null?et.firstBaseUpdate=X:_.next=X,et.lastBaseUpdate=O))}if(p!==null){var it=h.baseState;b=0,et=X=O=null,_=p;do{var G=_.lane&-536870913,W=G!==_.lane;if(W?(Qt&G)===G:(c&G)===G){G!==0&&G===Ui&&(uu=!0),et!==null&&(et=et.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});t:{var vt=t,Ct=_;G=s;var ue=l;switch(Ct.tag){case 1:if(vt=Ct.payload,typeof vt=="function"){it=vt.call(ue,it,G);break t}it=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Ct.payload,G=typeof vt=="function"?vt.call(ue,it,G):vt,G==null)break t;it=v({},it,G);break t;case 2:pa=!0}}G=_.callback,G!==null&&(t.flags|=64,W&&(t.flags|=8192),W=h.callbacks,W===null?h.callbacks=[G]:W.push(G))}else W={lane:G,tag:_.tag,payload:_.payload,callback:_.callback,next:null},et===null?(X=et=W,O=it):et=et.next=W,b|=G;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;W=_,_=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);et===null&&(O=it),h.baseState=O,h.firstBaseUpdate=X,h.lastBaseUpdate=et,p===null&&(h.shared.lanes=0),ja|=b,t.lanes=b,t.memoizedState=it}}function wh(t,s){if(typeof t!="function")throw Error(i(191,t));t.call(s)}function Ch(t,s){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)wh(l[t],s)}var qi=A(null),tr=A(0);function Mh(t,s){t=sa,lt(tr,t),lt(qi,s),sa=t|s.baseLanes}function du(){lt(tr,sa),lt(qi,qi.current)}function fu(){sa=tr.current,F(qi),F(tr)}var Hn=A(null),Jn=null;function ba(t){var s=t.alternate;lt(Re,Re.current&1),lt(Hn,t),Jn===null&&(s===null||qi.current!==null||s.memoizedState!==null)&&(Jn=t)}function hu(t){lt(Re,Re.current),lt(Hn,t),Jn===null&&(Jn=t)}function Ah(t){t.tag===22?(lt(Re,Re.current),lt(Hn,t),Jn===null&&(Jn=t)):xa()}function xa(){lt(Re,Re.current),lt(Hn,Hn.current)}function Un(t){F(Hn),Jn===t&&(Jn=null),F(Re)}var Re=A(0);function er(t){for(var s=t;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||bd(l)||xd(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ks=0,zt=null,re=null,qe=null,nr=!1,Yi=!1,si=!1,sr=0,kl=0,Xi=null,wy=0;function Te(){throw Error(i(321))}function mu(t,s){if(s===null)return!1;for(var l=0;l<s.length&&l<t.length;l++)if(!Ln(t[l],s[l]))return!1;return!0}function gu(t,s,l,c,h,p){return Ks=p,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=t===null||t.memoizedState===null?d0:Tu,si=!1,p=l(c,h),si=!1,Yi&&(p=Th(s,l,c,h)),Eh(t),p}function Eh(t){D.H=Hl;var s=re!==null&&re.next!==null;if(Ks=0,qe=re=zt=null,nr=!1,kl=0,Xi=null,s)throw Error(i(300));t===null||Ye||(t=t.dependencies,t!==null&&Qo(t)&&(Ye=!0))}function Th(t,s,l,c){zt=t;var h=0;do{if(Yi&&(Xi=null),kl=0,Yi=!1,25<=h)throw Error(i(301));if(h+=1,qe=re=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=f0,p=s(l,c)}while(Yi);return p}function Cy(){var t=D.H,s=t.useState()[0];return s=typeof s.then=="function"?Ll(s):s,t=t.useState()[0],(re!==null?re.memoizedState:null)!==t&&(zt.flags|=1024),s}function pu(){var t=sr!==0;return sr=0,t}function yu(t,s,l){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~l}function vu(t){if(nr){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}nr=!1}Ks=0,qe=re=zt=null,Yi=!1,kl=sr=0,Xi=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?zt.memoizedState=qe=t:qe=qe.next=t,qe}function ke(){if(re===null){var t=zt.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var s=qe===null?zt.memoizedState:qe.next;if(s!==null)qe=s,re=t;else{if(t===null)throw zt.alternate===null?Error(i(467)):Error(i(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},qe===null?zt.memoizedState=qe=t:qe=qe.next=t}return qe}function ar(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(t){var s=kl;return kl+=1,Xi===null&&(Xi=[]),t=xh(Xi,t,s),s=zt,(qe===null?s.memoizedState:qe.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?d0:Tu),t}function ir(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ll(t);if(t.$$typeof===z)return ln(t)}throw Error(i(438,String(t)))}function bu(t){var s=null,l=zt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=ar(),zt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(t),c=0;c<t;c++)l[c]=rt;return s.index++,l}function Ws(t,s){return typeof s=="function"?s(t):s}function lr(t){var s=ke();return xu(s,re,t)}function xu(t,s,l){var c=t.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var h=t.baseQueue,p=c.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}s.baseQueue=h=p,c.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{s=h.next;var _=b=null,O=null,X=s,et=!1;do{var it=X.lane&-536870913;if(it!==X.lane?(Qt&it)===it:(Ks&it)===it){var G=X.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),it===Ui&&(et=!0);else if((Ks&G)===G){X=X.next,G===Ui&&(et=!0);continue}else it={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(_=O=it,b=p):O=O.next=it,zt.lanes|=G,ja|=G;it=X.action,si&&l(p,it),p=X.hasEagerState?X.eagerState:l(p,it)}else G={lane:it,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},O===null?(_=O=G,b=p):O=O.next=G,zt.lanes|=it,ja|=it;X=X.next}while(X!==null&&X!==s);if(O===null?b=p:O.next=_,!Ln(p,t.memoizedState)&&(Ye=!0,et&&(l=Vi,l!==null)))throw l;t.memoizedState=p,t.baseState=b,t.baseQueue=O,c.lastRenderedState=p}return h===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Su(t){var s=ke(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=t;var c=l.dispatch,h=l.pending,p=s.memoizedState;if(h!==null){l.pending=null;var b=h=h.next;do p=t(p,b.action),b=b.next;while(b!==h);Ln(p,s.memoizedState)||(Ye=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,c]}function Oh(t,s,l){var c=zt,h=ke(),p=Kt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=s();var b=!Ln((re||h).memoizedState,l);if(b&&(h.memoizedState=l,Ye=!0),h=h.queue,Nu(Rh.bind(null,c,h,t),[t]),h.getSnapshot!==s||b||qe!==null&&qe.memoizedState.tag&1){if(c.flags|=2048,Gi(9,{destroy:void 0},zh.bind(null,c,h,l,s),null),de===null)throw Error(i(349));p||(Ks&127)!==0||Dh(c,s,l)}return l}function Dh(t,s,l){t.flags|=16384,t={getSnapshot:s,value:l},s=zt.updateQueue,s===null?(s=ar(),zt.updateQueue=s,s.stores=[t]):(l=s.stores,l===null?s.stores=[t]:l.push(t))}function zh(t,s,l,c){s.value=l,s.getSnapshot=c,kh(s)&&Lh(t)}function Rh(t,s,l){return l(function(){kh(s)&&Lh(t)})}function kh(t){var s=t.getSnapshot;t=t.value;try{var l=s();return!Ln(t,l)}catch{return!0}}function Lh(t){var s=Ia(t,2);s!==null&&Cn(s,t,2)}function _u(t){var s=pn();if(typeof t=="function"){var l=t;if(t=l(),si){nn(!0);try{l()}finally{nn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:t},s}function Bh(t,s,l,c){return t.baseState=l,xu(t,re,typeof c=="function"?c:Ws)}function My(t,s,l,c,h){if(cr(t))throw Error(i(485));if(t=s.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};D.T!==null?l(!0):p.isTransition=!1,c(p),l=s.pending,l===null?(p.next=s.pending=p,Hh(s,p)):(p.next=l.next,s.pending=l.next=p)}}function Hh(t,s){var l=s.action,c=s.payload,h=t.state;if(s.isTransition){var p=D.T,b={};D.T=b;try{var _=l(h,c),O=D.S;O!==null&&O(b,_),Uh(t,s,_)}catch(X){ju(t,s,X)}finally{p!==null&&b.types!==null&&(p.types=b.types),D.T=p}}else try{p=l(h,c),Uh(t,s,p)}catch(X){ju(t,s,X)}}function Uh(t,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Vh(t,s,c)},function(c){return ju(t,s,c)}):Vh(t,s,l)}function Vh(t,s,l){s.status="fulfilled",s.value=l,Fh(s),t.state=l,s=t.pending,s!==null&&(l=s.next,l===s?t.pending=null:(l=l.next,s.next=l,Hh(t,l)))}function ju(t,s,l){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,Fh(s),s=s.next;while(s!==c)}t.action=null}function Fh(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ph(t,s){return s}function qh(t,s){if(Kt){var l=de.formState;if(l!==null){t:{var c=zt;if(Kt){if(be){e:{for(var h=be,p=$n;h.nodeType!==8;){if(!p){h=null;break e}if(h=ts(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){be=ts(h.nextSibling),c=h.data==="F!";break t}}ma(c)}c=!1}c&&(s=l[0])}}return l=pn(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:s},l.queue=c,l=r0.bind(null,zt,c),c.dispatch=l,c=_u(!1),p=Eu.bind(null,zt,!1,c.queue),c=pn(),h={state:s,dispatch:null,action:t,pending:null},c.queue=h,l=My.bind(null,zt,h,p,l),h.dispatch=l,c.memoizedState=t,[s,l,!1]}function Yh(t){var s=ke();return Xh(s,re,t)}function Xh(t,s,l){if(s=xu(t,s,Ph)[0],t=lr(Ws)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ll(s)}catch(b){throw b===Fi?Wo:b}else c=s;s=ke();var h=s.queue,p=h.dispatch;return l!==s.memoizedState&&(zt.flags|=2048,Gi(9,{destroy:void 0},Ay.bind(null,h,l),null)),[c,p,t]}function Ay(t,s){t.action=s}function Gh(t){var s=ke(),l=re;if(l!==null)return Xh(s,l,t);ke(),s=s.memoizedState,l=ke();var c=l.queue.dispatch;return l.memoizedState=t,[s,c,!1]}function Gi(t,s,l,c){return t={tag:t,create:l,deps:c,inst:s,next:null},s=zt.updateQueue,s===null&&(s=ar(),zt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=t.next=t:(c=l.next,l.next=t,t.next=c,s.lastEffect=t),t}function Qh(){return ke().memoizedState}function or(t,s,l,c){var h=pn();zt.flags|=t,h.memoizedState=Gi(1|s,{destroy:void 0},l,c===void 0?null:c)}function rr(t,s,l,c){var h=ke();c=c===void 0?null:c;var p=h.memoizedState.inst;re!==null&&c!==null&&mu(c,re.memoizedState.deps)?h.memoizedState=Gi(s,p,l,c):(zt.flags|=t,h.memoizedState=Gi(1|s,p,l,c))}function Ih(t,s){or(8390656,8,t,s)}function Nu(t,s){rr(2048,8,t,s)}function Ey(t){zt.flags|=4;var s=zt.updateQueue;if(s===null)s=ar(),zt.updateQueue=s,s.events=[t];else{var l=s.events;l===null?s.events=[t]:l.push(t)}}function Kh(t){var s=ke().memoizedState;return Ey({ref:s,nextImpl:t}),function(){if((te&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function Wh(t,s){return rr(4,2,t,s)}function Zh(t,s){return rr(4,4,t,s)}function $h(t,s){if(typeof s=="function"){t=t();var l=s(t);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Jh(t,s,l){l=l!=null?l.concat([t]):null,rr(4,4,$h.bind(null,s,t),l)}function wu(){}function t0(t,s){var l=ke();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&mu(s,c[1])?c[0]:(l.memoizedState=[t,s],t)}function e0(t,s){var l=ke();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&mu(s,c[1]))return c[0];if(c=t(),si){nn(!0);try{t()}finally{nn(!1)}}return l.memoizedState=[c,s],c}function Cu(t,s,l){return l===void 0||(Ks&1073741824)!==0&&(Qt&261930)===0?t.memoizedState=s:(t.memoizedState=l,t=nm(),zt.lanes|=t,ja|=t,l)}function n0(t,s,l,c){return Ln(l,s)?l:qi.current!==null?(t=Cu(t,l,c),Ln(t,s)||(Ye=!0),t):(Ks&42)===0||(Ks&1073741824)!==0&&(Qt&261930)===0?(Ye=!0,t.memoizedState=l):(t=nm(),zt.lanes|=t,ja|=t,s)}function s0(t,s,l,c,h){var p=K.p;K.p=p!==0&&8>p?p:8;var b=D.T,_={};D.T=_,Eu(t,!1,s,l);try{var O=h(),X=D.S;if(X!==null&&X(_,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var et=Ny(O,c);Bl(t,s,et,Pn(t))}else Bl(t,s,c,Pn(t))}catch(it){Bl(t,s,{then:function(){},status:"rejected",reason:it},Pn())}finally{K.p=p,b!==null&&_.types!==null&&(b.types=_.types),D.T=b}}function Ty(){}function Mu(t,s,l,c){if(t.tag!==5)throw Error(i(476));var h=a0(t).queue;s0(t,h,s,E,l===null?Ty:function(){return i0(t),l(c)})}function a0(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:E},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:l},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function i0(t){var s=a0(t);s.next===null&&(s=t.alternate.memoizedState),Bl(t,s.next.queue,{},Pn())}function Au(){return ln(to)}function l0(){return ke().memoizedState}function o0(){return ke().memoizedState}function Oy(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var l=Pn();t=ya(l);var c=va(s,t,l);c!==null&&(Cn(c,s,l),Dl(c,s,l)),s={cache:su()},t.payload=s;return}s=s.return}}function Dy(t,s,l){var c=Pn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cr(t)?c0(s,l):(l=Gc(t,s,l,c),l!==null&&(Cn(l,t,c),u0(l,s,c)))}function r0(t,s,l){var c=Pn();Bl(t,s,l,c)}function Bl(t,s,l,c){var h={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(cr(t))c0(s,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,_=p(b,l);if(h.hasEagerState=!0,h.eagerState=_,Ln(_,b))return qo(t,s,h,0),de===null&&Po(),!1}catch{}if(l=Gc(t,s,h,c),l!==null)return Cn(l,t,c),u0(l,s,c),!0}return!1}function Eu(t,s,l,c){if(c={lane:2,revertLane:od(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},cr(t)){if(s)throw Error(i(479))}else s=Gc(t,l,c,2),s!==null&&Cn(s,t,2)}function cr(t){var s=t.alternate;return t===zt||s!==null&&s===zt}function c0(t,s){Yi=nr=!0;var l=t.pending;l===null?s.next=s:(s.next=l.next,l.next=s),t.pending=s}function u0(t,s,l){if((l&4194048)!==0){var c=s.lanes;c&=t.pendingLanes,l|=c,s.lanes=l,Ss(t,l)}}var Hl={readContext:ln,use:ir,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};Hl.useEffectEvent=Te;var d0={readContext:ln,use:ir,useCallback:function(t,s){return pn().memoizedState=[t,s===void 0?null:s],t},useContext:ln,useEffect:Ih,useImperativeHandle:function(t,s,l){l=l!=null?l.concat([t]):null,or(4194308,4,$h.bind(null,s,t),l)},useLayoutEffect:function(t,s){return or(4194308,4,t,s)},useInsertionEffect:function(t,s){or(4,2,t,s)},useMemo:function(t,s){var l=pn();s=s===void 0?null:s;var c=t();if(si){nn(!0);try{t()}finally{nn(!1)}}return l.memoizedState=[c,s],c},useReducer:function(t,s,l){var c=pn();if(l!==void 0){var h=l(s);if(si){nn(!0);try{l(s)}finally{nn(!1)}}}else h=s;return c.memoizedState=c.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},c.queue=t,t=t.dispatch=Dy.bind(null,zt,t),[c.memoizedState,t]},useRef:function(t){var s=pn();return t={current:t},s.memoizedState=t},useState:function(t){t=_u(t);var s=t.queue,l=r0.bind(null,zt,s);return s.dispatch=l,[t.memoizedState,l]},useDebugValue:wu,useDeferredValue:function(t,s){var l=pn();return Cu(l,t,s)},useTransition:function(){var t=_u(!1);return t=s0.bind(null,zt,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,l){var c=zt,h=pn();if(Kt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),de===null)throw Error(i(349));(Qt&127)!==0||Dh(c,s,l)}h.memoizedState=l;var p={value:l,getSnapshot:s};return h.queue=p,Ih(Rh.bind(null,c,p,t),[t]),c.flags|=2048,Gi(9,{destroy:void 0},zh.bind(null,c,p,l,s),null),l},useId:function(){var t=pn(),s=de.identifierPrefix;if(Kt){var l=Ms,c=Cs;l=(c&~(1<<32-Ce(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=sr++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=wy++,s="_"+s+"r_"+l.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Au,useFormState:qh,useActionState:qh,useOptimistic:function(t){var s=pn();s.memoizedState=s.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Eu.bind(null,zt,!0,l),l.dispatch=s,[t,s]},useMemoCache:bu,useCacheRefresh:function(){return pn().memoizedState=Oy.bind(null,zt)},useEffectEvent:function(t){var s=pn(),l={impl:t};return s.memoizedState=l,function(){if((te&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Tu={readContext:ln,use:ir,useCallback:t0,useContext:ln,useEffect:Nu,useImperativeHandle:Jh,useInsertionEffect:Wh,useLayoutEffect:Zh,useMemo:e0,useReducer:lr,useRef:Qh,useState:function(){return lr(Ws)},useDebugValue:wu,useDeferredValue:function(t,s){var l=ke();return n0(l,re.memoizedState,t,s)},useTransition:function(){var t=lr(Ws)[0],s=ke().memoizedState;return[typeof t=="boolean"?t:Ll(t),s]},useSyncExternalStore:Oh,useId:l0,useHostTransitionStatus:Au,useFormState:Yh,useActionState:Yh,useOptimistic:function(t,s){var l=ke();return Bh(l,re,t,s)},useMemoCache:bu,useCacheRefresh:o0};Tu.useEffectEvent=Kh;var f0={readContext:ln,use:ir,useCallback:t0,useContext:ln,useEffect:Nu,useImperativeHandle:Jh,useInsertionEffect:Wh,useLayoutEffect:Zh,useMemo:e0,useReducer:Su,useRef:Qh,useState:function(){return Su(Ws)},useDebugValue:wu,useDeferredValue:function(t,s){var l=ke();return re===null?Cu(l,t,s):n0(l,re.memoizedState,t,s)},useTransition:function(){var t=Su(Ws)[0],s=ke().memoizedState;return[typeof t=="boolean"?t:Ll(t),s]},useSyncExternalStore:Oh,useId:l0,useHostTransitionStatus:Au,useFormState:Gh,useActionState:Gh,useOptimistic:function(t,s){var l=ke();return re!==null?Bh(l,re,t,s):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:bu,useCacheRefresh:o0};f0.useEffectEvent=Kh;function Ou(t,s,l,c){s=t.memoizedState,l=l(c,s),l=l==null?s:v({},s,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Du={enqueueSetState:function(t,s,l){t=t._reactInternals;var c=Pn(),h=ya(c);h.payload=s,l!=null&&(h.callback=l),s=va(t,h,c),s!==null&&(Cn(s,t,c),Dl(s,t,c))},enqueueReplaceState:function(t,s,l){t=t._reactInternals;var c=Pn(),h=ya(c);h.tag=1,h.payload=s,l!=null&&(h.callback=l),s=va(t,h,c),s!==null&&(Cn(s,t,c),Dl(s,t,c))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var l=Pn(),c=ya(l);c.tag=2,s!=null&&(c.callback=s),s=va(t,c,l),s!==null&&(Cn(s,t,l),Dl(s,t,l))}};function h0(t,s,l,c,h,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,b):s.prototype&&s.prototype.isPureReactComponent?!Nl(l,c)||!Nl(h,p):!0}function m0(t,s,l,c){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==t&&Du.enqueueReplaceState(s,s.state,null)}function ai(t,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(t=t.defaultProps){l===s&&(l=v({},l));for(var h in t)l[h]===void 0&&(l[h]=t[h])}return l}function g0(t){Fo(t)}function p0(t){console.error(t)}function y0(t){Fo(t)}function ur(t,s){try{var l=t.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function v0(t,s,l){try{var c=t.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function zu(t,s,l){return l=ya(l),l.tag=3,l.payload={element:null},l.callback=function(){ur(t,s)},l}function b0(t){return t=ya(t),t.tag=3,t}function x0(t,s,l,c){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var p=c.value;t.payload=function(){return h(p)},t.callback=function(){v0(s,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){v0(s,l,c),typeof h!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function zy(t,s,l,c,h){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Hi(s,l,h,!0),l=Hn.current,l!==null){switch(l.tag){case 31:case 13:return Jn===null?_r():l.alternate===null&&Oe===0&&(Oe=3),l.flags&=-257,l.flags|=65536,l.lanes=h,c===Zo?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),ad(t,c,h)),!1;case 22:return l.flags|=65536,c===Zo?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),ad(t,c,h)),!1}throw Error(i(435,l.tag))}return ad(t,c,h),_r(),!1}if(Kt)return s=Hn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==$c&&(t=Error(i(422),{cause:c}),Ml(Kn(t,l)))):(c!==$c&&(s=Error(i(423),{cause:c}),Ml(Kn(s,l))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,c=Kn(c,l),h=zu(t.stateNode,c,h),cu(t,h),Oe!==4&&(Oe=2)),!1;var p=Error(i(520),{cause:c});if(p=Kn(p,l),Gl===null?Gl=[p]:Gl.push(p),Oe!==4&&(Oe=2),s===null)return!0;c=Kn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,t=h&-h,l.lanes|=t,t=zu(l.stateNode,c,t),cu(l,t),!1;case 1:if(s=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Na===null||!Na.has(p))))return l.flags|=65536,h&=-h,l.lanes|=h,h=b0(h),x0(h,t,l,c),cu(l,h),!1}l=l.return}while(l!==null);return!1}var Ru=Error(i(461)),Ye=!1;function on(t,s,l,c){s.child=t===null?Nh(s,null,l,c):ni(s,t.child,l,c)}function S0(t,s,l,c,h){l=l.render;var p=s.ref;if("ref"in c){var b={};for(var _ in c)_!=="ref"&&(b[_]=c[_])}else b=c;return $a(s),c=gu(t,s,l,b,p,h),_=pu(),t!==null&&!Ye?(yu(t,s,h),Zs(t,s,h)):(Kt&&_&&Wc(s),s.flags|=1,on(t,s,c,h),s.child)}function _0(t,s,l,c,h){if(t===null){var p=l.type;return typeof p=="function"&&!Qc(p)&&p.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=p,j0(t,s,p,c,h)):(t=Xo(l.type,null,c,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(p=t.child,!Pu(t,h)){var b=p.memoizedProps;if(l=l.compare,l=l!==null?l:Nl,l(b,c)&&t.ref===s.ref)return Zs(t,s,h)}return s.flags|=1,t=Xs(p,c),t.ref=s.ref,t.return=s,s.child=t}function j0(t,s,l,c,h){if(t!==null){var p=t.memoizedProps;if(Nl(p,c)&&t.ref===s.ref)if(Ye=!1,s.pendingProps=c=p,Pu(t,h))(t.flags&131072)!==0&&(Ye=!0);else return s.lanes=t.lanes,Zs(t,s,h)}return ku(t,s,l,c,h)}function N0(t,s,l,c){var h=c.children,p=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,t!==null){for(c=s.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~p}else c=0,s.child=null;return w0(t,s,p,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(s,p!==null?p.cachePool:null),p!==null?Mh(s,p):du(),Ah(s);else return c=s.lanes=536870912,w0(t,s,p!==null?p.baseLanes|l:l,l,c)}else p!==null?(Ko(s,p.cachePool),Mh(s,p),xa(),s.memoizedState=null):(t!==null&&Ko(s,null),du(),xa());return on(t,s,h,l),s.child}function Ul(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function w0(t,s,l,c,h){var p=iu();return p=p===null?null:{parent:Pe._currentValue,pool:p},s.memoizedState={baseLanes:l,cachePool:p},t!==null&&Ko(s,null),du(),Ah(s),t!==null&&Hi(t,s,c,!0),s.childLanes=h,null}function dr(t,s){return s=hr({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function C0(t,s,l){return ni(s,t.child,null,l),t=dr(s,s.pendingProps),t.flags|=2,Un(s),s.memoizedState=null,t}function Ry(t,s,l){var c=s.pendingProps,h=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Kt){if(c.mode==="hidden")return t=dr(s,c),s.lanes=536870912,Ul(null,t);if(hu(s),(t=be)?(t=Hm(t,$n),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:fa!==null?{id:Cs,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},l=ch(t),l.return=s,s.child=l,an=s,be=null)):t=null,t===null)throw ma(s);return s.lanes=536870912,null}return dr(s,c)}var p=t.memoizedState;if(p!==null){var b=p.dehydrated;if(hu(s),h)if(s.flags&256)s.flags&=-257,s=C0(t,s,l);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(i(558));else if(Ye||Hi(t,s,l,!1),h=(l&t.childLanes)!==0,Ye||h){if(c=de,c!==null&&(b=ji(c,l),b!==0&&b!==p.retryLane))throw p.retryLane=b,Ia(t,b),Cn(c,t,b),Ru;_r(),s=C0(t,s,l)}else t=p.treeContext,be=ts(b.nextSibling),an=s,Kt=!0,ha=null,$n=!1,t!==null&&fh(s,t),s=dr(s,c),s.flags|=4096;return s}return t=Xs(t.child,{mode:c.mode,children:c.children}),t.ref=s.ref,s.child=t,t.return=s,t}function fr(t,s){var l=s.ref;if(l===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(t===null||t.ref!==l)&&(s.flags|=4194816)}}function ku(t,s,l,c,h){return $a(s),l=gu(t,s,l,c,void 0,h),c=pu(),t!==null&&!Ye?(yu(t,s,h),Zs(t,s,h)):(Kt&&c&&Wc(s),s.flags|=1,on(t,s,l,h),s.child)}function M0(t,s,l,c,h,p){return $a(s),s.updateQueue=null,l=Th(s,c,l,h),Eh(t),c=pu(),t!==null&&!Ye?(yu(t,s,p),Zs(t,s,p)):(Kt&&c&&Wc(s),s.flags|=1,on(t,s,l,p),s.child)}function A0(t,s,l,c,h){if($a(s),s.stateNode===null){var p=Ri,b=l.contextType;typeof b=="object"&&b!==null&&(p=ln(b)),p=new l(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Du,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},ou(s),b=l.contextType,p.context=typeof b=="object"&&b!==null?ln(b):Ri,p.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Ou(s,l,b,c),p.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Du.enqueueReplaceState(p,p.state,null),Rl(s,c,p,h),zl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(t===null){p=s.stateNode;var _=s.memoizedProps,O=ai(l,_);p.props=O;var X=p.context,et=l.contextType;b=Ri,typeof et=="object"&&et!==null&&(b=ln(et));var it=l.getDerivedStateFromProps;et=typeof it=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,et||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||X!==b)&&m0(s,p,c,b),pa=!1;var G=s.memoizedState;p.state=G,Rl(s,c,p,h),zl(),X=s.memoizedState,_||G!==X||pa?(typeof it=="function"&&(Ou(s,l,it,c),X=s.memoizedState),(O=pa||h0(s,l,O,c,G,X,b))?(et||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),p.props=c,p.state=X,p.context=b,c=O):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,ru(t,s),b=s.memoizedProps,et=ai(l,b),p.props=et,it=s.pendingProps,G=p.context,X=l.contextType,O=Ri,typeof X=="object"&&X!==null&&(O=ln(X)),_=l.getDerivedStateFromProps,(X=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==it||G!==O)&&m0(s,p,c,O),pa=!1,G=s.memoizedState,p.state=G,Rl(s,c,p,h),zl();var W=s.memoizedState;b!==it||G!==W||pa||t!==null&&t.dependencies!==null&&Qo(t.dependencies)?(typeof _=="function"&&(Ou(s,l,_,c),W=s.memoizedState),(et=pa||h0(s,l,et,c,G,W,O)||t!==null&&t.dependencies!==null&&Qo(t.dependencies))?(X||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,W,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,W,O)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=W),p.props=c,p.state=W,p.context=O,c=et):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),c=!1)}return p=c,fr(t,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,t!==null&&c?(s.child=ni(s,t.child,null,h),s.child=ni(s,null,l,h)):on(t,s,l,h),s.memoizedState=p.state,t=s.child):t=Zs(t,s,h),t}function E0(t,s,l,c){return Wa(),s.flags|=256,on(t,s,l,c),s.child}var Lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bu(t){return{baseLanes:t,cachePool:vh()}}function Hu(t,s,l){return t=t!==null?t.childLanes&~l:0,s&&(t|=Fn),t}function T0(t,s,l){var c=s.pendingProps,h=!1,p=(s.flags&128)!==0,b;if((b=p)||(b=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,t===null){if(Kt){if(h?ba(s):xa(),(t=be)?(t=Hm(t,$n),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:fa!==null?{id:Cs,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},l=ch(t),l.return=s,s.child=l,an=s,be=null)):t=null,t===null)throw ma(s);return xd(t)?s.lanes=32:s.lanes=536870912,null}var _=c.children;return c=c.fallback,h?(xa(),h=s.mode,_=hr({mode:"hidden",children:_},h),c=Ka(c,h,l,null),_.return=s,c.return=s,_.sibling=c,s.child=_,c=s.child,c.memoizedState=Bu(l),c.childLanes=Hu(t,b,l),s.memoizedState=Lu,Ul(null,c)):(ba(s),Uu(s,_))}var O=t.memoizedState;if(O!==null&&(_=O.dehydrated,_!==null)){if(p)s.flags&256?(ba(s),s.flags&=-257,s=Vu(t,s,l)):s.memoizedState!==null?(xa(),s.child=t.child,s.flags|=128,s=null):(xa(),_=c.fallback,h=s.mode,c=hr({mode:"visible",children:c.children},h),_=Ka(_,h,l,null),_.flags|=2,c.return=s,_.return=s,c.sibling=_,s.child=c,ni(s,t.child,null,l),c=s.child,c.memoizedState=Bu(l),c.childLanes=Hu(t,b,l),s.memoizedState=Lu,s=Ul(null,c));else if(ba(s),xd(_)){if(b=_.nextSibling&&_.nextSibling.dataset,b)var X=b.dgst;b=X,c=Error(i(419)),c.stack="",c.digest=b,Ml({value:c,source:null,stack:null}),s=Vu(t,s,l)}else if(Ye||Hi(t,s,l,!1),b=(l&t.childLanes)!==0,Ye||b){if(b=de,b!==null&&(c=ji(b,l),c!==0&&c!==O.retryLane))throw O.retryLane=c,Ia(t,c),Cn(b,t,c),Ru;bd(_)||_r(),s=Vu(t,s,l)}else bd(_)?(s.flags|=192,s.child=t.child,s=null):(t=O.treeContext,be=ts(_.nextSibling),an=s,Kt=!0,ha=null,$n=!1,t!==null&&fh(s,t),s=Uu(s,c.children),s.flags|=4096);return s}return h?(xa(),_=c.fallback,h=s.mode,O=t.child,X=O.sibling,c=Xs(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,X!==null?_=Xs(X,_):(_=Ka(_,h,l,null),_.flags|=2),_.return=s,c.return=s,c.sibling=_,s.child=c,Ul(null,c),c=s.child,_=t.child.memoizedState,_===null?_=Bu(l):(h=_.cachePool,h!==null?(O=Pe._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=vh(),_={baseLanes:_.baseLanes|l,cachePool:h}),c.memoizedState=_,c.childLanes=Hu(t,b,l),s.memoizedState=Lu,Ul(t.child,c)):(ba(s),l=t.child,t=l.sibling,l=Xs(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,t!==null&&(b=s.deletions,b===null?(s.deletions=[t],s.flags|=16):b.push(t)),s.child=l,s.memoizedState=null,l)}function Uu(t,s){return s=hr({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function hr(t,s){return t=Bn(22,t,null,s),t.lanes=0,t}function Vu(t,s,l){return ni(s,t.child,null,l),t=Uu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function O0(t,s,l){t.lanes|=s;var c=t.alternate;c!==null&&(c.lanes|=s),eu(t.return,s,l)}function Fu(t,s,l,c,h,p){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:h,treeForkCount:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=l,b.tailMode=h,b.treeForkCount=p)}function D0(t,s,l){var c=s.pendingProps,h=c.revealOrder,p=c.tail;c=c.children;var b=Re.current,_=(b&2)!==0;if(_?(b=b&1|2,s.flags|=128):b&=1,lt(Re,b),on(t,s,c,l),c=Kt?Cl:0,!_&&t!==null&&(t.flags&128)!==0)t:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O0(t,l,s);else if(t.tag===19)O0(t,l,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break t;for(;t.sibling===null;){if(t.return===null||t.return===s)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(l=s.child,h=null;l!==null;)t=l.alternate,t!==null&&er(t)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),Fu(s,!1,h,l,p,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&er(t)===null){s.child=h;break}t=h.sibling,h.sibling=l,l=h,h=t}Fu(s,!0,l,null,p,c);break;case"together":Fu(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Zs(t,s,l){if(t!==null&&(s.dependencies=t.dependencies),ja|=s.lanes,(l&s.childLanes)===0)if(t!==null){if(Hi(t,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(i(153));if(s.child!==null){for(t=s.child,l=Xs(t,t.pendingProps),s.child=l,l.return=s;t.sibling!==null;)t=t.sibling,l=l.sibling=Xs(t,t.pendingProps),l.return=s;l.sibling=null}return s.child}function Pu(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Qo(t)))}function ky(t,s,l){switch(s.tag){case 3:Tt(s,s.stateNode.containerInfo),ga(s,Pe,t.memoizedState.cache),Wa();break;case 27:case 5:fe(s);break;case 4:Tt(s,s.stateNode.containerInfo);break;case 10:ga(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,hu(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ba(s),s.flags|=128,null):(l&s.child.childLanes)!==0?T0(t,s,l):(ba(s),t=Zs(t,s,l),t!==null?t.sibling:null);ba(s);break;case 19:var h=(t.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Hi(t,s,l,!1),c=(l&s.childLanes)!==0),h){if(c)return D0(t,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(Re,Re.current),c)break;return null;case 22:return s.lanes=0,N0(t,s,l,s.pendingProps);case 24:ga(s,Pe,t.memoizedState.cache)}return Zs(t,s,l)}function z0(t,s,l){if(t!==null)if(t.memoizedProps!==s.pendingProps)Ye=!0;else{if(!Pu(t,l)&&(s.flags&128)===0)return Ye=!1,ky(t,s,l);Ye=(t.flags&131072)!==0}else Ye=!1,Kt&&(s.flags&1048576)!==0&&dh(s,Cl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(t=ti(s.elementType),s.type=t,typeof t=="function")Qc(t)?(c=ai(t,c),s.tag=1,s=A0(null,s,t,c,l)):(s.tag=0,s=ku(null,s,t,c,l));else{if(t!=null){var h=t.$$typeof;if(h===Q){s.tag=11,s=S0(null,s,t,c,l);break t}else if(h===P){s.tag=14,s=_0(null,s,t,c,l);break t}}throw s=ot(t)||t,Error(i(306,s,""))}}return s;case 0:return ku(t,s,s.type,s.pendingProps,l);case 1:return c=s.type,h=ai(c,s.pendingProps),A0(t,s,c,h,l);case 3:t:{if(Tt(s,s.stateNode.containerInfo),t===null)throw Error(i(387));c=s.pendingProps;var p=s.memoizedState;h=p.element,ru(t,s),Rl(s,c,null,l);var b=s.memoizedState;if(c=b.cache,ga(s,Pe,c),c!==p.cache&&nu(s,[Pe],l,!0),zl(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=E0(t,s,c,l);break t}else if(c!==h){h=Kn(Error(i(424)),s),Ml(h),s=E0(t,s,c,l);break t}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,be=ts(t.firstChild),an=s,Kt=!0,ha=null,$n=!0,l=Nh(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Wa(),c===h){s=Zs(t,s,l);break t}on(t,s,c,l)}s=s.child}return s;case 26:return fr(t,s),t===null?(l=Ym(s.type,null,s.pendingProps,null))?s.memoizedState=l:Kt||(l=s.type,t=s.pendingProps,c=Er(Nt.current).createElement(l),c[Xt]=s,c[me]=t,rn(c,l,t),ne(c),s.stateNode=c):s.memoizedState=Ym(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return fe(s),t===null&&Kt&&(c=s.stateNode=Fm(s.type,s.pendingProps,Nt.current),an=s,$n=!0,h=be,Aa(s.type)?(Sd=h,be=ts(c.firstChild)):be=h),on(t,s,s.pendingProps.children,l),fr(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Kt&&((h=c=be)&&(c=dv(c,s.type,s.pendingProps,$n),c!==null?(s.stateNode=c,an=s,be=ts(c.firstChild),$n=!1,h=!0):h=!1),h||ma(s)),fe(s),h=s.type,p=s.pendingProps,b=t!==null?t.memoizedProps:null,c=p.children,pd(h,p)?c=null:b!==null&&pd(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=gu(t,s,Cy,null,null,l),to._currentValue=h),fr(t,s),on(t,s,c,l),s.child;case 6:return t===null&&Kt&&((t=l=be)&&(l=fv(l,s.pendingProps,$n),l!==null?(s.stateNode=l,an=s,be=null,t=!0):t=!1),t||ma(s)),null;case 13:return T0(t,s,l);case 4:return Tt(s,s.stateNode.containerInfo),c=s.pendingProps,t===null?s.child=ni(s,null,c,l):on(t,s,c,l),s.child;case 11:return S0(t,s,s.type,s.pendingProps,l);case 7:return on(t,s,s.pendingProps,l),s.child;case 8:return on(t,s,s.pendingProps.children,l),s.child;case 12:return on(t,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,ga(s,s.type,c.value),on(t,s,c.children,l),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,$a(s),h=ln(h),c=c(h),s.flags|=1,on(t,s,c,l),s.child;case 14:return _0(t,s,s.type,s.pendingProps,l);case 15:return j0(t,s,s.type,s.pendingProps,l);case 19:return D0(t,s,l);case 31:return Ry(t,s,l);case 22:return N0(t,s,l,s.pendingProps);case 24:return $a(s),c=ln(Pe),t===null?(h=iu(),h===null&&(h=de,p=su(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=l),h=p),s.memoizedState={parent:c,cache:h},ou(s),ga(s,Pe,h)):((t.lanes&l)!==0&&(ru(t,s),Rl(s,null,null,l),zl()),h=t.memoizedState,p=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),ga(s,Pe,c)):(c=p.cache,ga(s,Pe,c),c!==h.cache&&nu(s,[Pe],l,!0))),on(t,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function $s(t){t.flags|=4}function qu(t,s,l,c,h){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(lm())t.flags|=8192;else throw ei=Zo,lu}else t.flags&=-16777217}function R0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Km(s))if(lm())t.flags|=8192;else throw ei=Zo,lu}function mr(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Fa():536870912,t.lanes|=s,Wi|=s)}function Vl(t,s){if(!Kt)switch(t.tailMode){case"hidden":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function xe(t){var s=t.alternate!==null&&t.alternate.child===t.child,l=0,c=0;if(s)for(var h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)l|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=l,s}function Ly(t,s,l){var c=s.pendingProps;switch(Zc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(s),null;case 1:return xe(s),null;case 3:return l=s.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Is(Pe),gt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Bi(s)?$s(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jc())),xe(s),null;case 26:var h=s.type,p=s.memoizedState;return t===null?($s(s),p!==null?(xe(s),R0(s,p)):(xe(s),qu(s,h,null,c,l))):p?p!==t.memoizedState?($s(s),xe(s),R0(s,p)):(xe(s),s.flags&=-16777217):(t=t.memoizedProps,t!==c&&$s(s),xe(s),qu(s,h,t,c,l)),null;case 27:if(He(s),l=Nt.current,h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&$s(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return xe(s),null}t=ut.current,Bi(s)?hh(s):(t=Fm(h,c,l),s.stateNode=t,$s(s))}return xe(s),null;case 5:if(He(s),h=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==c&&$s(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return xe(s),null}if(p=ut.current,Bi(s))hh(s);else{var b=Er(Nt.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?b.createElement(h,{is:c.is}):b.createElement(h)}}p[Xt]=s,p[me]=c;t:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break t;for(;b.sibling===null;){if(b.return===null||b.return===s)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=p;t:switch(rn(p,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&$s(s)}}return xe(s),qu(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,l),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==c&&$s(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(t=Nt.current,Bi(s)){if(t=s.stateNode,l=s.memoizedProps,c=null,h=an,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}t[Xt]=s,t=!!(t.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Tm(t.nodeValue,l)),t||ma(s,!0)}else t=Er(t).createTextNode(c),t[Xt]=s,s.stateNode=t}return xe(s),null;case 31:if(l=s.memoizedState,t===null||t.memoizedState!==null){if(c=Bi(s),l!==null){if(t===null){if(!c)throw Error(i(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(557));t[Xt]=s}else Wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xe(s),t=!1}else l=Jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return s.flags&256?(Un(s),s):(Un(s),null);if((s.flags&128)!==0)throw Error(i(558))}return xe(s),null;case 13:if(c=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Bi(s),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Xt]=s}else Wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;xe(s),h=!1}else h=Jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Un(s),s):(Un(s),null)}return Un(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,t=t!==null&&t.memoizedState!==null,l&&(c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==h&&(c.flags|=2048)),l!==t&&l&&(s.child.flags|=8192),mr(s,s.updateQueue),xe(s),null);case 4:return gt(),t===null&&dd(s.stateNode.containerInfo),xe(s),null;case 10:return Is(s.type),xe(s),null;case 19:if(F(Re),c=s.memoizedState,c===null)return xe(s),null;if(h=(s.flags&128)!==0,p=c.rendering,p===null)if(h)Vl(c,!1);else{if(Oe!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(p=er(t),p!==null){for(s.flags|=128,Vl(c,!1),t=p.updateQueue,s.updateQueue=t,mr(s,t),s.subtreeFlags=0,t=l,l=s.child;l!==null;)rh(l,t),l=l.sibling;return lt(Re,Re.current&1|2),Kt&&Gs(s,c.treeForkCount),s.child}t=t.sibling}c.tail!==null&&Vt()>br&&(s.flags|=128,h=!0,Vl(c,!1),s.lanes=4194304)}else{if(!h)if(t=er(p),t!==null){if(s.flags|=128,h=!0,t=t.updateQueue,s.updateQueue=t,mr(s,t),Vl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!Kt)return xe(s),null}else 2*Vt()-c.renderingStartTime>br&&l!==536870912&&(s.flags|=128,h=!0,Vl(c,!1),s.lanes=4194304);c.isBackwards?(p.sibling=s.child,s.child=p):(t=c.last,t!==null?t.sibling=p:s.child=p,c.last=p)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Vt(),t.sibling=null,l=Re.current,lt(Re,h?l&1|2:l&1),Kt&&Gs(s,c.treeForkCount),t):(xe(s),null);case 22:case 23:return Un(s),fu(),c=s.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(xe(s),s.subtreeFlags&6&&(s.flags|=8192)):xe(s),l=s.updateQueue,l!==null&&mr(s,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),t!==null&&F(Ja),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Is(Pe),xe(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function By(t,s){switch(Zc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Is(Pe),gt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return He(s),null;case 31:if(s.memoizedState!==null){if(Un(s),s.alternate===null)throw Error(i(340));Wa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Un(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Wa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return F(Re),null;case 4:return gt(),null;case 10:return Is(s.type),null;case 22:case 23:return Un(s),fu(),t!==null&&F(Ja),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Is(Pe),null;case 25:return null;default:return null}}function k0(t,s){switch(Zc(s),s.tag){case 3:Is(Pe),gt();break;case 26:case 27:case 5:He(s);break;case 4:gt();break;case 31:s.memoizedState!==null&&Un(s);break;case 13:Un(s);break;case 19:F(Re);break;case 10:Is(s.type);break;case 22:case 23:Un(s),fu(),t!==null&&F(Ja);break;case 24:Is(Pe)}}function Fl(t,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){c=void 0;var p=l.create,b=l.inst;c=p(),b.destroy=c}l=l.next}while(l!==h)}}catch(_){le(s,s.return,_)}}function Sa(t,s,l){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var p=h.next;c=p;do{if((c.tag&t)===t){var b=c.inst,_=b.destroy;if(_!==void 0){b.destroy=void 0,h=s;var O=l,X=_;try{X()}catch(et){le(h,O,et)}}}c=c.next}while(c!==p)}}catch(et){le(s,s.return,et)}}function L0(t){var s=t.updateQueue;if(s!==null){var l=t.stateNode;try{Ch(s,l)}catch(c){le(t,t.return,c)}}}function B0(t,s,l){l.props=ai(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(c){le(t,s,c)}}function Pl(t,s){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof l=="function"?t.refCleanup=l(c):l.current=c}}catch(h){le(t,s,h)}}function As(t,s){var l=t.ref,c=t.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(h){le(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){le(t,s,h)}else l.current=null}function H0(t){var s=t.type,l=t.memoizedProps,c=t.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(h){le(t,t.return,h)}}function Yu(t,s,l){try{var c=t.stateNode;iv(c,t.type,l,s),c[me]=s}catch(h){le(t,t.return,h)}}function U0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Aa(t.type)||t.tag===4}function Xu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||U0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gu(t,s,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(t),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gn));else if(c!==4&&(c===27&&Aa(t.type)&&(l=t.stateNode,s=null),t=t.child,t!==null))for(Gu(t,s,l),t=t.sibling;t!==null;)Gu(t,s,l),t=t.sibling}function gr(t,s,l){var c=t.tag;if(c===5||c===6)t=t.stateNode,s?l.insertBefore(t,s):l.appendChild(t);else if(c!==4&&(c===27&&Aa(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(gr(t,s,l),t=t.sibling;t!==null;)gr(t,s,l),t=t.sibling}function V0(t){var s=t.stateNode,l=t.memoizedProps;try{for(var c=t.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);rn(s,c,l),s[Xt]=t,s[me]=l}catch(p){le(t,t.return,p)}}var Js=!1,Xe=!1,Qu=!1,F0=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Hy(t,s){if(t=t.containerInfo,md=Lr,t=Jf(t),Vc(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var h=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var b=0,_=-1,O=-1,X=0,et=0,it=t,G=null;e:for(;;){for(var W;it!==l||h!==0&&it.nodeType!==3||(_=b+h),it!==p||c!==0&&it.nodeType!==3||(O=b+c),it.nodeType===3&&(b+=it.nodeValue.length),(W=it.firstChild)!==null;)G=it,it=W;for(;;){if(it===t)break e;if(G===l&&++X===h&&(_=b),G===p&&++et===c&&(O=b),(W=it.nextSibling)!==null)break;it=G,G=it.parentNode}it=W}l=_===-1||O===-1?null:{start:_,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(gd={focusedElem:t,selectionRange:l},Lr=!1,Je=s;Je!==null;)if(s=Je,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Je=t;else for(;Je!==null;){switch(s=Je,p=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)h=t[l],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,l=s,h=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var vt=ai(l.type,h);t=c.getSnapshotBeforeUpdate(vt,p),c.__reactInternalSnapshotBeforeUpdate=t}catch(Ct){le(l,l.return,Ct)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,l=t.nodeType,l===9)vd(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=s.sibling,t!==null){t.return=s.return,Je=t;break}Je=s.return}}function P0(t,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ea(t,l),c&4&&Fl(5,l);break;case 1:if(ea(t,l),c&4)if(t=l.stateNode,s===null)try{t.componentDidMount()}catch(b){le(l,l.return,b)}else{var h=ai(l.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(b){le(l,l.return,b)}}c&64&&L0(l),c&512&&Pl(l,l.return);break;case 3:if(ea(t,l),c&64&&(t=l.updateQueue,t!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ch(t,s)}catch(b){le(l,l.return,b)}}break;case 27:s===null&&c&4&&V0(l);case 26:case 5:ea(t,l),s===null&&c&4&&H0(l),c&512&&Pl(l,l.return);break;case 12:ea(t,l);break;case 31:ea(t,l),c&4&&X0(t,l);break;case 13:ea(t,l),c&4&&G0(t,l),c&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Qy.bind(null,l),hv(t,l))));break;case 22:if(c=l.memoizedState!==null||Js,!c){s=s!==null&&s.memoizedState!==null||Xe,h=Js;var p=Xe;Js=c,(Xe=s)&&!p?na(t,l,(l.subtreeFlags&8772)!==0):ea(t,l),Js=h,Xe=p}break;case 30:break;default:ea(t,l)}}function q0(t){var s=t.alternate;s!==null&&(t.alternate=null,q0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Xn(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var je=null,_n=!1;function ta(t,s,l){for(l=l.child;l!==null;)Y0(t,s,l),l=l.sibling}function Y0(t,s,l){if(he&&typeof he.onCommitFiberUnmount=="function")try{he.onCommitFiberUnmount(Ve,l)}catch{}switch(l.tag){case 26:Xe||As(l,s),ta(t,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||As(l,s);var c=je,h=_n;Aa(l.type)&&(je=l.stateNode,_n=!1),ta(t,s,l),Zl(l.stateNode),je=c,_n=h;break;case 5:Xe||As(l,s);case 6:if(c=je,h=_n,je=null,ta(t,s,l),je=c,_n=h,je!==null)if(_n)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(l.stateNode)}catch(p){le(l,s,p)}else try{je.removeChild(l.stateNode)}catch(p){le(l,s,p)}break;case 18:je!==null&&(_n?(t=je,Lm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),al(t)):Lm(je,l.stateNode));break;case 4:c=je,h=_n,je=l.stateNode.containerInfo,_n=!0,ta(t,s,l),je=c,_n=h;break;case 0:case 11:case 14:case 15:Sa(2,l,s),Xe||Sa(4,l,s),ta(t,s,l);break;case 1:Xe||(As(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&B0(l,s,c)),ta(t,s,l);break;case 21:ta(t,s,l);break;case 22:Xe=(c=Xe)||l.memoizedState!==null,ta(t,s,l),Xe=c;break;default:ta(t,s,l)}}function X0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{al(t)}catch(l){le(s,s.return,l)}}}function G0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{al(t)}catch(l){le(s,s.return,l)}}function Uy(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new F0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new F0),s;default:throw Error(i(435,t.tag))}}function pr(t,s){var l=Uy(t);s.forEach(function(c){if(!l.has(c)){l.add(c);var h=Iy.bind(null,t,c);c.then(h,h)}})}function jn(t,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var h=l[c],p=t,b=s,_=b;t:for(;_!==null;){switch(_.tag){case 27:if(Aa(_.type)){je=_.stateNode,_n=!1;break t}break;case 5:je=_.stateNode,_n=!1;break t;case 3:case 4:je=_.stateNode.containerInfo,_n=!0;break t}_=_.return}if(je===null)throw Error(i(160));Y0(p,b,h),je=null,_n=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Q0(s,t),s=s.sibling}var fs=null;function Q0(t,s){var l=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(s,t),Nn(t),c&4&&(Sa(3,t,t.return),Fl(3,t),Sa(5,t,t.return));break;case 1:jn(s,t),Nn(t),c&512&&(Xe||l===null||As(l,l.return)),c&64&&Js&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var h=fs;if(jn(s,t),Nn(t),c&512&&(Xe||l===null||As(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=t.memoizedState,l===null)if(c===null)if(t.stateNode===null){t:{c=t.type,l=t.memoizedProps,h=h.ownerDocument||h;e:switch(c){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Fs]||p[Xt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(c),h.head.insertBefore(p,h.querySelector("head > title"))),rn(p,c,l),p[Xt]=t,ne(p),c=p;break t;case"link":var b=Qm("link","href",h).get(c+(l.href||""));if(b){for(var _=0;_<b.length;_++)if(p=b[_],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(_,1);break e}}p=h.createElement(c),rn(p,c,l),h.head.appendChild(p);break;case"meta":if(b=Qm("meta","content",h).get(c+(l.content||""))){for(_=0;_<b.length;_++)if(p=b[_],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(_,1);break e}}p=h.createElement(c),rn(p,c,l),h.head.appendChild(p);break;default:throw Error(i(468,c))}p[Xt]=t,ne(p),c=p}t.stateNode=c}else Im(h,t.type,t.stateNode);else t.stateNode=Gm(h,c,t.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?Im(h,t.type,t.stateNode):Gm(h,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Yu(t,t.memoizedProps,l.memoizedProps)}break;case 27:jn(s,t),Nn(t),c&512&&(Xe||l===null||As(l,l.return)),l!==null&&c&4&&Yu(t,t.memoizedProps,l.memoizedProps);break;case 5:if(jn(s,t),Nn(t),c&512&&(Xe||l===null||As(l,l.return)),t.flags&32){h=t.stateNode;try{Gt(h,"")}catch(vt){le(t,t.return,vt)}}c&4&&t.stateNode!=null&&(h=t.memoizedProps,Yu(t,h,l!==null?l.memoizedProps:h)),c&1024&&(Qu=!0);break;case 6:if(jn(s,t),Nn(t),c&4){if(t.stateNode===null)throw Error(i(162));c=t.memoizedProps,l=t.stateNode;try{l.nodeValue=c}catch(vt){le(t,t.return,vt)}}break;case 3:if(Dr=null,h=fs,fs=Tr(s.containerInfo),jn(s,t),fs=h,Nn(t),c&4&&l!==null&&l.memoizedState.isDehydrated)try{al(s.containerInfo)}catch(vt){le(t,t.return,vt)}Qu&&(Qu=!1,I0(t));break;case 4:c=fs,fs=Tr(t.stateNode.containerInfo),jn(s,t),Nn(t),fs=c;break;case 12:jn(s,t),Nn(t);break;case 31:jn(s,t),Nn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,pr(t,c)));break;case 13:jn(s,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vr=Vt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,pr(t,c)));break;case 22:h=t.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,X=Js,et=Xe;if(Js=X||h,Xe=et||O,jn(s,t),Xe=et,Js=X,Nn(t),c&8192)t:for(s=t.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(l===null||O||Js||Xe||ii(t)),l=null,s=t;;){if(s.tag===5||s.tag===26){if(l===null){O=l=s;try{if(p=O.stateNode,h)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{_=O.stateNode;var it=O.memoizedProps.style,G=it!=null&&it.hasOwnProperty("display")?it.display:null;_.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(vt){le(O,O.return,vt)}}}else if(s.tag===6){if(l===null){O=s;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(vt){le(O,O.return,vt)}}}else if(s.tag===18){if(l===null){O=s;try{var W=O.stateNode;h?Bm(W,!0):Bm(O.stateNode,!1)}catch(vt){le(O,O.return,vt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=t.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,pr(t,l))));break;case 19:jn(s,t),Nn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,pr(t,c)));break;case 30:break;case 21:break;default:jn(s,t),Nn(t)}}function Nn(t){var s=t.flags;if(s&2){try{for(var l,c=t.return;c!==null;){if(U0(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var h=l.stateNode,p=Xu(t);gr(t,p,h);break;case 5:var b=l.stateNode;l.flags&32&&(Gt(b,""),l.flags&=-33);var _=Xu(t);gr(t,_,b);break;case 3:case 4:var O=l.stateNode.containerInfo,X=Xu(t);Gu(t,X,O);break;default:throw Error(i(161))}}catch(et){le(t,t.return,et)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function I0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;I0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ea(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)P0(t,s.alternate,s),s=s.sibling}function ii(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Sa(4,s,s.return),ii(s);break;case 1:As(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&B0(s,s.return,l),ii(s);break;case 27:Zl(s.stateNode);case 26:case 5:As(s,s.return),ii(s);break;case 22:s.memoizedState===null&&ii(s);break;case 30:ii(s);break;default:ii(s)}t=t.sibling}}function na(t,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=t,p=s,b=p.flags;switch(p.tag){case 0:case 11:case 15:na(h,p,l),Fl(4,p);break;case 1:if(na(h,p,l),c=p,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){le(c,c.return,X)}if(c=p,h=c.updateQueue,h!==null){var _=c.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)wh(O[h],_)}catch(X){le(c,c.return,X)}}l&&b&64&&L0(p),Pl(p,p.return);break;case 27:V0(p);case 26:case 5:na(h,p,l),l&&c===null&&b&4&&H0(p),Pl(p,p.return);break;case 12:na(h,p,l);break;case 31:na(h,p,l),l&&b&4&&X0(h,p);break;case 13:na(h,p,l),l&&b&4&&G0(h,p);break;case 22:p.memoizedState===null&&na(h,p,l),Pl(p,p.return);break;case 30:break;default:na(h,p,l)}s=s.sibling}}function Iu(t,s){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&Al(l))}function Ku(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Al(t))}function hs(t,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)K0(t,s,l,c),s=s.sibling}function K0(t,s,l,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:hs(t,s,l,c),h&2048&&Fl(9,s);break;case 1:hs(t,s,l,c);break;case 3:hs(t,s,l,c),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Al(t)));break;case 12:if(h&2048){hs(t,s,l,c),t=s.stateNode;try{var p=s.memoizedProps,b=p.id,_=p.onPostCommit;typeof _=="function"&&_(b,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){le(s,s.return,O)}}else hs(t,s,l,c);break;case 31:hs(t,s,l,c);break;case 13:hs(t,s,l,c);break;case 23:break;case 22:p=s.stateNode,b=s.alternate,s.memoizedState!==null?p._visibility&2?hs(t,s,l,c):ql(t,s):p._visibility&2?hs(t,s,l,c):(p._visibility|=2,Qi(t,s,l,c,(s.subtreeFlags&10256)!==0||!1)),h&2048&&Iu(b,s);break;case 24:hs(t,s,l,c),h&2048&&Ku(s.alternate,s);break;default:hs(t,s,l,c)}}function Qi(t,s,l,c,h){for(h=h&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=t,b=s,_=l,O=c,X=b.flags;switch(b.tag){case 0:case 11:case 15:Qi(p,b,_,O,h),Fl(8,b);break;case 23:break;case 22:var et=b.stateNode;b.memoizedState!==null?et._visibility&2?Qi(p,b,_,O,h):ql(p,b):(et._visibility|=2,Qi(p,b,_,O,h)),h&&X&2048&&Iu(b.alternate,b);break;case 24:Qi(p,b,_,O,h),h&&X&2048&&Ku(b.alternate,b);break;default:Qi(p,b,_,O,h)}s=s.sibling}}function ql(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=t,c=s,h=c.flags;switch(c.tag){case 22:ql(l,c),h&2048&&Iu(c.alternate,c);break;case 24:ql(l,c),h&2048&&Ku(c.alternate,c);break;default:ql(l,c)}s=s.sibling}}var Yl=8192;function Ii(t,s,l){if(t.subtreeFlags&Yl)for(t=t.child;t!==null;)W0(t,s,l),t=t.sibling}function W0(t,s,l){switch(t.tag){case 26:Ii(t,s,l),t.flags&Yl&&t.memoizedState!==null&&wv(l,fs,t.memoizedState,t.memoizedProps);break;case 5:Ii(t,s,l);break;case 3:case 4:var c=fs;fs=Tr(t.stateNode.containerInfo),Ii(t,s,l),fs=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Yl,Yl=16777216,Ii(t,s,l),Yl=c):Ii(t,s,l));break;default:Ii(t,s,l)}}function Z0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Xl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Je=c,J0(c,t)}Z0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$0(t),t=t.sibling}function $0(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&Sa(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,yr(t)):Xl(t);break;default:Xl(t)}}function yr(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Je=c,J0(c,t)}Z0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Sa(8,s,s.return),yr(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,yr(s));break;default:yr(s)}t=t.sibling}}function J0(t,s){for(;Je!==null;){var l=Je;switch(l.tag){case 0:case 11:case 15:Sa(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Al(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Je=c;else t:for(l=t;Je!==null;){c=Je;var h=c.sibling,p=c.return;if(q0(c),c===l){Je=null;break t}if(h!==null){h.return=p,Je=h;break t}Je=p}}}var Vy={getCacheForType:function(t){var s=ln(Pe),l=s.data.get(t);return l===void 0&&(l=t(),s.data.set(t,l)),l},cacheSignal:function(){return ln(Pe).controller.signal}},Fy=typeof WeakMap=="function"?WeakMap:Map,te=0,de=null,Pt=null,Qt=0,ie=0,Vn=null,_a=!1,Ki=!1,Wu=!1,sa=0,Oe=0,ja=0,li=0,Zu=0,Fn=0,Wi=0,Gl=null,wn=null,$u=!1,vr=0,tm=0,br=1/0,xr=null,Na=null,We=0,wa=null,Zi=null,aa=0,Ju=0,td=null,em=null,Ql=0,ed=null;function Pn(){return(te&2)!==0&&Qt!==0?Qt&-Qt:D.T!==null?od():Pa()}function nm(){if(Fn===0)if((Qt&536870912)===0||Kt){var t=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),Fn=t}else Fn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Fn}function Cn(t,s,l){(t===de&&(ie===2||ie===9)||t.cancelPendingCommit!==null)&&($i(t,0),Ca(t,Qt,Fn,!1)),Ae(t,l),((te&2)===0||t!==de)&&(t===de&&((te&2)===0&&(li|=l),Oe===4&&Ca(t,Qt,Fn,!1)),Es(t))}function sm(t,s,l){if((te&6)!==0)throw Error(i(327));var c=!l&&(s&127)===0&&(s&t.expiredLanes)===0||os(t,s),h=c?Yy(t,s):sd(t,s,!0),p=c;do{if(h===0){Ki&&!c&&Ca(t,s,0,!1);break}else{if(l=t.current.alternate,p&&!Py(l)){h=sd(t,s,!1),p=!1;continue}if(h===2){if(p=s,t.errorRecoveryDisabledLanes&p)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var _=t;h=Gl;var O=_.current.memoizedState.isDehydrated;if(O&&($i(_,b).flags|=256),b=sd(_,b,!1),b!==2){if(Wu&&!O){_.errorRecoveryDisabledLanes|=p,li|=p,h=4;break t}p=wn,wn=h,p!==null&&(wn===null?wn=p:wn.push.apply(wn,p))}h=b}if(p=!1,h!==2)continue}}if(h===1){$i(t,0),Ca(t,s,0,!0);break}t:{switch(c=t,p=h,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ca(c,s,Fn,!_a);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(h=vr+300-Vt(),10<h)){if(Ca(c,s,Fn,!_a),ls(c,0,!0)!==0)break t;aa=s,c.timeoutHandle=Rm(am.bind(null,c,l,wn,xr,$u,s,Fn,li,Wi,_a,p,"Throttled",-0,0),h);break t}am(c,l,wn,xr,$u,s,Fn,li,Wi,_a,p,null,-0,0)}}break}while(!0);Es(t)}function am(t,s,l,c,h,p,b,_,O,X,et,it,G,W){if(t.timeoutHandle=-1,it=s.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},W0(s,p,it);var vt=(p&62914560)===p?vr-Vt():(p&4194048)===p?tm-Vt():0;if(vt=Cv(it,vt),vt!==null){aa=p,t.cancelPendingCommit=vt(fm.bind(null,t,s,p,l,c,h,b,_,O,et,it,null,G,W)),Ca(t,p,b,!X);return}}fm(t,s,p,l,c,h,b,_,O)}function Py(t){for(var s=t;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var h=l[c],p=h.getSnapshot;h=h.value;try{if(!Ln(p(),h))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ca(t,s,l,c){s&=~Zu,s&=~li,t.suspendedLanes|=s,t.pingedLanes&=~s,c&&(t.warmLanes|=s),c=t.expirationTimes;for(var h=s;0<h;){var p=31-Ce(h),b=1<<p;c[p]=-1,h&=~b}l!==0&&rs(t,l,s)}function Sr(){return(te&6)===0?(Il(0),!1):!0}function nd(){if(Pt!==null){if(ie===0)var t=Pt.return;else t=Pt,Qs=Za=null,vu(t),Pi=null,Tl=0,t=Pt;for(;t!==null;)k0(t.alternate,t),t=t.return;Pt=null}}function $i(t,s){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,rv(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),aa=0,nd(),de=t,Pt=l=Xs(t.current,null),Qt=s,ie=0,Vn=null,_a=!1,Ki=os(t,s),Wu=!1,Wi=Fn=Zu=li=ja=Oe=0,wn=Gl=null,$u=!1,(s&8)!==0&&(s|=s&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=s;0<c;){var h=31-Ce(c),p=1<<h;s|=t[h],c&=~p}return sa=s,Po(),l}function im(t,s){zt=null,D.H=Hl,s===Fi||s===Wo?(s=Sh(),ie=3):s===lu?(s=Sh(),ie=4):ie=s===Ru?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,Pt===null&&(Oe=1,ur(t,Kn(s,t.current)))}function lm(){var t=Hn.current;return t===null?!0:(Qt&4194048)===Qt?Jn===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?t===Jn:!1}function om(){var t=D.H;return D.H=Hl,t===null?Hl:t}function rm(){var t=D.A;return D.A=Vy,t}function _r(){Oe=4,_a||(Qt&4194048)!==Qt&&Hn.current!==null||(Ki=!0),(ja&134217727)===0&&(li&134217727)===0||de===null||Ca(de,Qt,Fn,!1)}function sd(t,s,l){var c=te;te|=2;var h=om(),p=rm();(de!==t||Qt!==s)&&(xr=null,$i(t,s)),s=!1;var b=Oe;t:do try{if(ie!==0&&Pt!==null){var _=Pt,O=Vn;switch(ie){case 8:nd(),b=6;break t;case 3:case 2:case 9:case 6:Hn.current===null&&(s=!0);var X=ie;if(ie=0,Vn=null,Ji(t,_,O,X),l&&Ki){b=0;break t}break;default:X=ie,ie=0,Vn=null,Ji(t,_,O,X)}}qy(),b=Oe;break}catch(et){im(t,et)}while(!0);return s&&t.shellSuspendCounter++,Qs=Za=null,te=c,D.H=h,D.A=p,Pt===null&&(de=null,Qt=0,Po()),b}function qy(){for(;Pt!==null;)cm(Pt)}function Yy(t,s){var l=te;te|=2;var c=om(),h=rm();de!==t||Qt!==s?(xr=null,br=Vt()+500,$i(t,s)):Ki=os(t,s);t:do try{if(ie!==0&&Pt!==null){s=Pt;var p=Vn;e:switch(ie){case 1:ie=0,Vn=null,Ji(t,s,p,1);break;case 2:case 9:if(bh(p)){ie=0,Vn=null,um(s);break}s=function(){ie!==2&&ie!==9||de!==t||(ie=7),Es(t)},p.then(s,s);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:bh(p)?(ie=0,Vn=null,um(s)):(ie=0,Vn=null,Ji(t,s,p,7));break;case 5:var b=null;switch(Pt.tag){case 26:b=Pt.memoizedState;case 5:case 27:var _=Pt;if(b?Km(b):_.stateNode.complete){ie=0,Vn=null;var O=_.sibling;if(O!==null)Pt=O;else{var X=_.return;X!==null?(Pt=X,jr(X)):Pt=null}break e}}ie=0,Vn=null,Ji(t,s,p,5);break;case 6:ie=0,Vn=null,Ji(t,s,p,6);break;case 8:nd(),Oe=6;break t;default:throw Error(i(462))}}Xy();break}catch(et){im(t,et)}while(!0);return Qs=Za=null,D.H=c,D.A=h,te=l,Pt!==null?0:(de=null,Qt=0,Po(),Oe)}function Xy(){for(;Pt!==null&&!Ne();)cm(Pt)}function cm(t){var s=z0(t.alternate,t,sa);t.memoizedProps=t.pendingProps,s===null?jr(t):Pt=s}function um(t){var s=t,l=s.alternate;switch(s.tag){case 15:case 0:s=M0(l,s,s.pendingProps,s.type,void 0,Qt);break;case 11:s=M0(l,s,s.pendingProps,s.type.render,s.ref,Qt);break;case 5:vu(s);default:k0(l,s),s=Pt=rh(s,sa),s=z0(l,s,sa)}t.memoizedProps=t.pendingProps,s===null?jr(t):Pt=s}function Ji(t,s,l,c){Qs=Za=null,vu(s),Pi=null,Tl=0;var h=s.return;try{if(zy(t,h,s,l,Qt)){Oe=1,ur(t,Kn(l,t.current)),Pt=null;return}}catch(p){if(h!==null)throw Pt=h,p;Oe=1,ur(t,Kn(l,t.current)),Pt=null;return}s.flags&32768?(Kt||c===1?t=!0:Ki||(Qt&536870912)!==0?t=!1:(_a=t=!0,(c===2||c===9||c===3||c===6)&&(c=Hn.current,c!==null&&c.tag===13&&(c.flags|=16384))),dm(s,t)):jr(s)}function jr(t){var s=t;do{if((s.flags&32768)!==0){dm(s,_a);return}t=s.return;var l=Ly(s.alternate,s,sa);if(l!==null){Pt=l;return}if(s=s.sibling,s!==null){Pt=s;return}Pt=s=t}while(s!==null);Oe===0&&(Oe=5)}function dm(t,s){do{var l=By(t.alternate,t);if(l!==null){l.flags&=32767,Pt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(t=t.sibling,t!==null)){Pt=t;return}Pt=t=l}while(t!==null);Oe=6,Pt=null}function fm(t,s,l,c,h,p,b,_,O){t.cancelPendingCommit=null;do Nr();while(We!==0);if((te&6)!==0)throw Error(i(327));if(s!==null){if(s===t.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Xc,xs(t,l,p,b,_,O),t===de&&(Pt=de=null,Qt=0),Zi=s,wa=t,aa=l,Ju=p,td=h,em=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Ky(ze,function(){return ym(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=D.T,D.T=null,h=K.p,K.p=2,b=te,te|=4;try{Hy(t,s,l)}finally{te=b,K.p=h,D.T=c}}We=1,hm(),mm(),gm()}}function hm(){if(We===1){We=0;var t=wa,s=Zi,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var c=K.p;K.p=2;var h=te;te|=4;try{Q0(s,t);var p=gd,b=Jf(t.containerInfo),_=p.focusedElem,O=p.selectionRange;if(b!==_&&_&&_.ownerDocument&&$f(_.ownerDocument.documentElement,_)){if(O!==null&&Vc(_)){var X=O.start,et=O.end;if(et===void 0&&(et=X),"selectionStart"in _)_.selectionStart=X,_.selectionEnd=Math.min(et,_.value.length);else{var it=_.ownerDocument||document,G=it&&it.defaultView||window;if(G.getSelection){var W=G.getSelection(),vt=_.textContent.length,Ct=Math.min(O.start,vt),ue=O.end===void 0?Ct:Math.min(O.end,vt);!W.extend&&Ct>ue&&(b=ue,ue=Ct,Ct=b);var B=Zf(_,Ct),R=Zf(_,ue);if(B&&R&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==R.node||W.focusOffset!==R.offset)){var q=it.createRange();q.setStart(B.node,B.offset),W.removeAllRanges(),Ct>ue?(W.addRange(q),W.extend(R.node,R.offset)):(q.setEnd(R.node,R.offset),W.addRange(q))}}}}for(it=[],W=_;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<it.length;_++){var at=it[_];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Lr=!!md,gd=md=null}finally{te=h,K.p=c,D.T=l}}t.current=s,We=2}}function mm(){if(We===2){We=0;var t=wa,s=Zi,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var c=K.p;K.p=2;var h=te;te|=4;try{P0(t,s.alternate,s)}finally{te=h,K.p=c,D.T=l}}We=3}}function gm(){if(We===4||We===3){We=0,Ot();var t=wa,s=Zi,l=aa,c=em;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?We=5:(We=0,Zi=wa=null,pm(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Na=null),bn(l),s=s.stateNode,he&&typeof he.onCommitFiberRoot=="function")try{he.onCommitFiberRoot(Ve,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=D.T,h=K.p,K.p=2,D.T=null;try{for(var p=t.onRecoverableError,b=0;b<c.length;b++){var _=c[b];p(_.value,{componentStack:_.stack})}}finally{D.T=s,K.p=h}}(aa&3)!==0&&Nr(),Es(t),h=t.pendingLanes,(l&261930)!==0&&(h&42)!==0?t===ed?Ql++:(Ql=0,ed=t):Ql=0,Il(0)}}function pm(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Al(s)))}function Nr(){return hm(),mm(),gm(),ym()}function ym(){if(We!==5)return!1;var t=wa,s=Ju;Ju=0;var l=bn(aa),c=D.T,h=K.p;try{K.p=32>l?32:l,D.T=null,l=td,td=null;var p=wa,b=aa;if(We=0,Zi=wa=null,aa=0,(te&6)!==0)throw Error(i(331));var _=te;if(te|=4,$0(p.current),K0(p,p.current,b,l),te=_,Il(0,!1),he&&typeof he.onPostCommitFiberRoot=="function")try{he.onPostCommitFiberRoot(Ve,p)}catch{}return!0}finally{K.p=h,D.T=c,pm(t,s)}}function vm(t,s,l){s=Kn(l,s),s=zu(t.stateNode,s,2),t=va(t,s,2),t!==null&&(Ae(t,2),Es(t))}function le(t,s,l){if(t.tag===3)vm(t,t,l);else for(;s!==null;){if(s.tag===3){vm(s,t,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Na===null||!Na.has(c))){t=Kn(l,t),l=b0(2),c=va(s,l,2),c!==null&&(x0(l,c,s,t),Ae(c,2),Es(c));break}}s=s.return}}function ad(t,s,l){var c=t.pingCache;if(c===null){c=t.pingCache=new Fy;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(l)||(Wu=!0,h.add(l),t=Gy.bind(null,t,s,l),s.then(t,t))}function Gy(t,s,l){var c=t.pingCache;c!==null&&c.delete(s),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,de===t&&(Qt&l)===l&&(Oe===4||Oe===3&&(Qt&62914560)===Qt&&300>Vt()-vr?(te&2)===0&&$i(t,0):Zu|=l,Wi===Qt&&(Wi=0)),Es(t)}function bm(t,s){s===0&&(s=Fa()),t=Ia(t,s),t!==null&&(Ae(t,s),Es(t))}function Qy(t){var s=t.memoizedState,l=0;s!==null&&(l=s.retryLane),bm(t,l)}function Iy(t,s){var l=0;switch(t.tag){case 31:case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(l=h.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),bm(t,l)}function Ky(t,s){return Mt(t,s)}var wr=null,tl=null,id=!1,Cr=!1,ld=!1,Ma=0;function Es(t){t!==tl&&t.next===null&&(tl===null?wr=tl=t:tl=tl.next=t),Cr=!0,id||(id=!0,Zy())}function Il(t,s){if(!ld&&Cr){ld=!0;do for(var l=!1,c=wr;c!==null;){if(t!==0){var h=c.pendingLanes;if(h===0)var p=0;else{var b=c.suspendedLanes,_=c.pingedLanes;p=(1<<31-Ce(42|t)+1)-1,p&=h&~(b&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,jm(c,p))}else p=Qt,p=ls(c,c===de?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||os(c,p)||(l=!0,jm(c,p));c=c.next}while(l);ld=!1}}function Wy(){xm()}function xm(){Cr=id=!1;var t=0;Ma!==0&&ov()&&(t=Ma);for(var s=Vt(),l=null,c=wr;c!==null;){var h=c.next,p=Sm(c,s);p===0?(c.next=null,l===null?wr=h:l.next=h,h===null&&(tl=l)):(l=c,(t!==0||(p&3)!==0)&&(Cr=!0)),c=h}We!==0&&We!==5||Il(t),Ma!==0&&(Ma=0)}function Sm(t,s){for(var l=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var b=31-Ce(p),_=1<<b,O=h[b];O===-1?((_&l)===0||(_&c)!==0)&&(h[b]=Bs(_,s)):O<=s&&(t.expiredLanes|=_),p&=~_}if(s=de,l=Qt,l=ls(t,t===s?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,l===0||t===s&&(ie===2||ie===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Ht(c),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||os(t,l)){if(s=l&-l,s===t.callbackPriority)return s;switch(c!==null&&Ht(c),bn(l)){case 2:case 8:l=we;break;case 32:l=ze;break;case 268435456:l=yn;break;default:l=ze}return c=_m.bind(null,t),l=Mt(l,c),t.callbackPriority=s,t.callbackNode=l,s}return c!==null&&c!==null&&Ht(c),t.callbackPriority=2,t.callbackNode=null,2}function _m(t,s){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Nr()&&t.callbackNode!==l)return null;var c=Qt;return c=ls(t,t===de?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(sm(t,c,s),Sm(t,Vt()),t.callbackNode!=null&&t.callbackNode===l?_m.bind(null,t):null)}function jm(t,s){if(Nr())return null;sm(t,s,!0)}function Zy(){cv(function(){(te&6)!==0?Mt(Ue,Wy):xm()})}function od(){if(Ma===0){var t=Ui;t===0&&(t=bs,bs<<=1,(bs&261888)===0&&(bs=256)),Ma=t}return Ma}function Nm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ai(""+t)}function wm(t,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,t.id&&l.setAttribute("form",t.id),s.parentNode.insertBefore(l,s),t=new FormData(t),l.parentNode.removeChild(l),t}function $y(t,s,l,c,h){if(s==="submit"&&l&&l.stateNode===h){var p=Nm((h[me]||null).action),b=c.submitter;b&&(s=(s=b[me]||null)?Nm(s.formAction):b.getAttribute("formAction"),s!==null&&(p=s,b=null));var _=new Ho("action","action",null,c,h);t.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ma!==0){var O=b?wm(h,b):new FormData(h);Mu(l,{pending:!0,data:O,method:h.method,action:p},null,O)}}else typeof p=="function"&&(_.preventDefault(),O=b?wm(h,b):new FormData(h),Mu(l,{pending:!0,data:O,method:h.method,action:p},p,O))},currentTarget:h}]})}}for(var rd=0;rd<Yc.length;rd++){var cd=Yc[rd],Jy=cd.toLowerCase(),tv=cd[0].toUpperCase()+cd.slice(1);ds(Jy,"on"+tv)}ds(nh,"onAnimationEnd"),ds(sh,"onAnimationIteration"),ds(ah,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(py,"onTransitionRun"),ds(yy,"onTransitionStart"),ds(vy,"onTransitionCancel"),ds(ih,"onTransitionEnd"),Ee("onMouseEnter",["mouseout","mouseover"]),Ee("onMouseLeave",["mouseout","mouseover"]),Ee("onPointerEnter",["pointerout","pointerover"]),Ee("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ev=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function Cm(t,s){s=(s&4)!==0;for(var l=0;l<t.length;l++){var c=t[l],h=c.event;c=c.listeners;t:{var p=void 0;if(s)for(var b=c.length-1;0<=b;b--){var _=c[b],O=_.instance,X=_.currentTarget;if(_=_.listener,O!==p&&h.isPropagationStopped())break t;p=_,h.currentTarget=X;try{p(h)}catch(et){Fo(et)}h.currentTarget=null,p=O}else for(b=0;b<c.length;b++){if(_=c[b],O=_.instance,X=_.currentTarget,_=_.listener,O!==p&&h.isPropagationStopped())break t;p=_,h.currentTarget=X;try{p(h)}catch(et){Fo(et)}h.currentTarget=null,p=O}}}}function qt(t,s){var l=s[Us];l===void 0&&(l=s[Us]=new Set);var c=t+"__bubble";l.has(c)||(Mm(s,t,2,!1),l.add(c))}function ud(t,s,l){var c=0;s&&(c|=4),Mm(l,t,c,s)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[Mr]){t[Mr]=!0,Dn.forEach(function(l){l!=="selectionchange"&&(ev.has(l)||ud(l,!1,t),ud(l,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Mr]||(s[Mr]=!0,ud("selectionchange",!1,s))}}function Mm(t,s,l,c){switch(ng(s)){case 2:var h=Ev;break;case 8:h=Tv;break;default:h=Cd}l=h.bind(null,s,l,t),h=void 0,!Me||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(s,l,{capture:!0,passive:h}):t.addEventListener(s,l,!0):h!==void 0?t.addEventListener(s,l,{passive:h}):t.addEventListener(s,l,!1)}function fd(t,s,l,c,h){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var _=c.stateNode.containerInfo;if(_===h)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;_!==null;){if(b=js(_),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){c=p=b;continue t}_=_.parentNode}}c=c.return}ae(function(){var X=p,et=w(l),it=[];t:{var G=lh.get(t);if(G!==void 0){var W=Ho,vt=t;switch(t){case"keypress":if(Lo(l)===0)break t;case"keydown":case"keyup":W=I2;break;case"focusin":vt="focus",W=kc;break;case"focusout":vt="blur",W=kc;break;case"beforeblur":case"afterblur":W=kc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=L2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Z2;break;case nh:case sh:case ah:W=U2;break;case ih:W=J2;break;case"scroll":case"scrollend":W=R2;break;case"wheel":W=ey;break;case"copy":case"cut":case"paste":W=F2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Bf;break;case"toggle":case"beforetoggle":W=sy}var Ct=(s&4)!==0,ue=!Ct&&(t==="scroll"||t==="scrollend"),B=Ct?G!==null?G+"Capture":null:G;Ct=[];for(var R=X,q;R!==null;){var at=R;if(q=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||q===null||B===null||(at=Fe(R,B),at!=null&&Ct.push(Wl(R,at,q))),ue)break;R=R.return}0<Ct.length&&(G=new W(G,vt,null,l,et),it.push({event:G,listeners:Ct}))}}if((s&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",G&&l!==vl&&(vt=l.relatedTarget||l.fromElement)&&(js(vt)||vt[_s]))break t;if((W||G)&&(G=et.window===et?et:(G=et.ownerDocument)?G.defaultView||G.parentWindow:window,W?(vt=l.relatedTarget||l.toElement,W=X,vt=vt?js(vt):null,vt!==null&&(ue=r(vt),Ct=vt.tag,vt!==ue||Ct!==5&&Ct!==27&&Ct!==6)&&(vt=null)):(W=null,vt=X),W!==vt)){if(Ct=kf,at="onMouseLeave",B="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(Ct=Bf,at="onPointerLeave",B="onPointerEnter",R="pointer"),ue=W==null?G:Ps(W),q=vt==null?G:Ps(vt),G=new Ct(at,R+"leave",W,l,et),G.target=ue,G.relatedTarget=q,at=null,js(et)===X&&(Ct=new Ct(B,R+"enter",vt,l,et),Ct.target=q,Ct.relatedTarget=ue,at=Ct),ue=at,W&&vt)e:{for(Ct=nv,B=W,R=vt,q=0,at=B;at;at=Ct(at))q++;at=0;for(var wt=R;wt;wt=Ct(wt))at++;for(;0<q-at;)B=Ct(B),q--;for(;0<at-q;)R=Ct(R),at--;for(;q--;){if(B===R||R!==null&&B===R.alternate){Ct=B;break e}B=Ct(B),R=Ct(R)}Ct=null}else Ct=null;W!==null&&Am(it,G,W,Ct,!1),vt!==null&&ue!==null&&Am(it,ue,vt,Ct,!0)}}t:{if(G=X?Ps(X):window,W=G.nodeName&&G.nodeName.toLowerCase(),W==="select"||W==="input"&&G.type==="file")var $t=Xf;else if(qf(G))if(Gf)$t=hy;else{$t=dy;var _t=uy}else W=G.nodeName,!W||W.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?X&&Ya(X.elementType)&&($t=Xf):$t=fy;if($t&&($t=$t(t,X))){Yf(it,$t,l,et);break t}_t&&_t(t,G,X),t==="focusout"&&X&&G.type==="number"&&X.memoizedProps.value!=null&&Ci(G,"number",G.value)}switch(_t=X?Ps(X):window,t){case"focusin":(qf(_t)||_t.contentEditable==="true")&&(Oi=_t,Fc=X,wl=null);break;case"focusout":wl=Fc=Oi=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,th(it,l,et);break;case"selectionchange":if(gy)break;case"keydown":case"keyup":th(it,l,et)}var kt;if(Bc)t:{switch(t){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else Ti?Ff(t,l)&&(It="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(It="onCompositionStart");It&&(Hf&&l.locale!=="ko"&&(Ti||It!=="onCompositionStart"?It==="onCompositionEnd"&&Ti&&(kt=zf()):(ws=et,Ei="value"in ws?ws.value:ws.textContent,Ti=!0)),_t=Ar(X,It),0<_t.length&&(It=new Lf(It,t,null,l,et),it.push({event:It,listeners:_t}),kt?It.data=kt:(kt=Pf(l),kt!==null&&(It.data=kt)))),(kt=iy?ly(t,l):oy(t,l))&&(It=Ar(X,"onBeforeInput"),0<It.length&&(_t=new Lf("onBeforeInput","beforeinput",null,l,et),it.push({event:_t,listeners:It}),_t.data=kt)),$y(it,t,X,l,et)}Cm(it,s)})}function Wl(t,s,l){return{instance:t,listener:s,currentTarget:l}}function Ar(t,s){for(var l=s+"Capture",c=[];t!==null;){var h=t,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Fe(t,l),h!=null&&c.unshift(Wl(t,h,p)),h=Fe(t,s),h!=null&&c.push(Wl(t,h,p))),t.tag===3)return c;t=t.return}return[]}function nv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Am(t,s,l,c,h){for(var p=s._reactName,b=[];l!==null&&l!==c;){var _=l,O=_.alternate,X=_.stateNode;if(_=_.tag,O!==null&&O===c)break;_!==5&&_!==26&&_!==27||X===null||(O=X,h?(X=Fe(l,p),X!=null&&b.unshift(Wl(l,X,O))):h||(X=Fe(l,p),X!=null&&b.push(Wl(l,X,O)))),l=l.return}b.length!==0&&t.push({event:s,listeners:b})}var sv=/\r\n?/g,av=/\u0000|\uFFFD/g;function Em(t){return(typeof t=="string"?t:""+t).replace(sv,`
`).replace(av,"")}function Tm(t,s){return s=Em(s),Em(t)===s}function ce(t,s,l,c,h,p){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Gt(t,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Gt(t,""+c);break;case"className":At(t,"class",c);break;case"tabIndex":At(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":At(t,l,c);break;case"style":Qn(t,c,p);break;case"data":if(s!=="object"){At(t,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){t.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=Ai(""+c),t.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(s!=="input"&&ce(t,s,"name",h.name,h,null),ce(t,s,"formEncType",h.formEncType,h,null),ce(t,s,"formMethod",h.formMethod,h,null),ce(t,s,"formTarget",h.formTarget,h,null)):(ce(t,s,"encType",h.encType,h,null),ce(t,s,"method",h.method,h,null),ce(t,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(l);break}c=Ai(""+c),t.setAttribute(l,c);break;case"onClick":c!=null&&(t.onclick=gn);break;case"onScroll":c!=null&&qt("scroll",t);break;case"onScrollEnd":c!=null&&qt("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}l=Ai(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""+c):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":c===!0?t.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(l,c):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(l,c):t.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(l):t.setAttribute(l,c);break;case"popover":qt("beforetoggle",t),qt("toggle",t),St(t,"popover",c);break;case"xlinkActuate":Zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Zt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Zt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Zt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Zt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":St(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Dc.get(l)||l,St(t,l,c))}}function hd(t,s,l,c,h,p){switch(l){case"style":Qn(t,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(h.children!=null)throw Error(i(60));t.innerHTML=l}}break;case"children":typeof c=="string"?Gt(t,c):(typeof c=="number"||typeof c=="bigint")&&Gt(t,""+c);break;case"onScroll":c!=null&&qt("scroll",t);break;case"onScrollEnd":c!=null&&qt("scrollend",t);break;case"onClick":c!=null&&(t.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ve.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),s=l.slice(2,h?l.length-7:void 0),p=t[me]||null,p=p!=null?p[l]:null,typeof p=="function"&&t.removeEventListener(s,p,h),typeof c=="function")){typeof p!="function"&&p!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(s,c,h);break t}l in t?t[l]=c:c===!0?t.setAttribute(l,""):St(t,l,c)}}}function rn(t,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",t),qt("load",t);var c=!1,h=!1,p;for(p in l)if(l.hasOwnProperty(p)){var b=l[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ce(t,s,p,b,l,null)}}h&&ce(t,s,"srcSet",l.srcSet,l,null),c&&ce(t,s,"src",l.src,l,null);return;case"input":qt("invalid",t);var _=p=b=h=null,O=null,X=null;for(c in l)if(l.hasOwnProperty(c)){var et=l[c];if(et!=null)switch(c){case"name":h=et;break;case"type":b=et;break;case"checked":O=et;break;case"defaultChecked":X=et;break;case"value":p=et;break;case"defaultValue":_=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,s));break;default:ce(t,s,c,et,l,null)}}wi(t,p,_,O,X,b,h,!1);return;case"select":qt("invalid",t),c=b=p=null;for(h in l)if(l.hasOwnProperty(h)&&(_=l[h],_!=null))switch(h){case"value":p=_;break;case"defaultValue":b=_;break;case"multiple":c=_;default:ce(t,s,h,_,l,null)}s=p,l=b,t.multiple=!!c,s!=null?qs(t,!!c,s,!1):l!=null&&qs(t,!!c,l,!0);return;case"textarea":qt("invalid",t),p=h=c=null;for(b in l)if(l.hasOwnProperty(b)&&(_=l[b],_!=null))switch(b){case"value":c=_;break;case"defaultValue":h=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:ce(t,s,b,_,l,null)}Mi(t,c,h,p);return;case"option":for(O in l)l.hasOwnProperty(O)&&(c=l[O],c!=null)&&(O==="selected"?t.selected=c&&typeof c!="function"&&typeof c!="symbol":ce(t,s,O,c,l,null));return;case"dialog":qt("beforetoggle",t),qt("toggle",t),qt("cancel",t),qt("close",t);break;case"iframe":case"object":qt("load",t);break;case"video":case"audio":for(c=0;c<Kl.length;c++)qt(Kl[c],t);break;case"image":qt("error",t),qt("load",t);break;case"details":qt("toggle",t);break;case"embed":case"source":case"link":qt("error",t),qt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in l)if(l.hasOwnProperty(X)&&(c=l[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ce(t,s,X,c,l,null)}return;default:if(Ya(s)){for(et in l)l.hasOwnProperty(et)&&(c=l[et],c!==void 0&&hd(t,s,et,c,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(c=l[_],c!=null&&ce(t,s,_,c,l,null))}function iv(t,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,b=null,_=null,O=null,X=null,et=null;for(W in l){var it=l[W];if(l.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=it;default:c.hasOwnProperty(W)||ce(t,s,W,null,c,it)}}for(var G in c){var W=c[G];if(it=l[G],c.hasOwnProperty(G)&&(W!=null||it!=null))switch(G){case"type":p=W;break;case"name":h=W;break;case"checked":X=W;break;case"defaultChecked":et=W;break;case"value":b=W;break;case"defaultValue":_=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==it&&ce(t,s,G,W,c,it)}}us(t,b,_,O,X,et,p,h);return;case"select":W=b=_=G=null;for(p in l)if(O=l[p],l.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(p)||ce(t,s,p,null,c,O)}for(h in c)if(p=c[h],O=l[h],c.hasOwnProperty(h)&&(p!=null||O!=null))switch(h){case"value":G=p;break;case"defaultValue":_=p;break;case"multiple":b=p;default:p!==O&&ce(t,s,h,p,c,O)}s=_,l=b,c=W,G!=null?qs(t,!!l,G,!1):!!c!=!!l&&(s!=null?qs(t,!!l,s,!0):qs(t,!!l,l?[]:"",!1));return;case"textarea":W=G=null;for(_ in l)if(h=l[_],l.hasOwnProperty(_)&&h!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ce(t,s,_,null,c,h)}for(b in c)if(h=c[b],p=l[b],c.hasOwnProperty(b)&&(h!=null||p!=null))switch(b){case"value":G=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&ce(t,s,b,h,c,p)}Ns(t,G,W);return;case"option":for(var vt in l)G=l[vt],l.hasOwnProperty(vt)&&G!=null&&!c.hasOwnProperty(vt)&&(vt==="selected"?t.selected=!1:ce(t,s,vt,null,c,G));for(O in c)G=c[O],W=l[O],c.hasOwnProperty(O)&&G!==W&&(G!=null||W!=null)&&(O==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":ce(t,s,O,G,c,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in l)G=l[Ct],l.hasOwnProperty(Ct)&&G!=null&&!c.hasOwnProperty(Ct)&&ce(t,s,Ct,null,c,G);for(X in c)if(G=c[X],W=l[X],c.hasOwnProperty(X)&&G!==W&&(G!=null||W!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:ce(t,s,X,G,c,W)}return;default:if(Ya(s)){for(var ue in l)G=l[ue],l.hasOwnProperty(ue)&&G!==void 0&&!c.hasOwnProperty(ue)&&hd(t,s,ue,void 0,c,G);for(et in c)G=c[et],W=l[et],!c.hasOwnProperty(et)||G===W||G===void 0&&W===void 0||hd(t,s,et,G,c,W);return}}for(var B in l)G=l[B],l.hasOwnProperty(B)&&G!=null&&!c.hasOwnProperty(B)&&ce(t,s,B,null,c,G);for(it in c)G=c[it],W=l[it],!c.hasOwnProperty(it)||G===W||G==null&&W==null||ce(t,s,it,G,c,W)}function Om(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var h=l[c],p=h.transferSize,b=h.initiatorType,_=h.duration;if(p&&_&&Om(b)){for(b=0,_=h.responseEnd,c+=1;c<l.length;c++){var O=l[c],X=O.startTime;if(X>_)break;var et=O.transferSize,it=O.initiatorType;et&&Om(it)&&(O=O.responseEnd,b+=et*(O<_?1:(_-X)/(O-X)))}if(--c,s+=8*(p+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var md=null,gd=null;function Er(t){return t.nodeType===9?t:t.ownerDocument}function Dm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zm(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function pd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yd=null;function ov(){var t=window.event;return t&&t.type==="popstate"?t===yd?!1:(yd=t,!0):(yd=null,!1)}var Rm=typeof setTimeout=="function"?setTimeout:void 0,rv=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,cv=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(t){return km.resolve(null).then(t).catch(uv)}:Rm;function uv(t){setTimeout(function(){throw t})}function Aa(t){return t==="head"}function Lm(t,s){var l=s,c=0;do{var h=l.nextSibling;if(t.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"||l==="/&"){if(c===0){t.removeChild(h),al(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")Zl(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Zl(l);for(var p=l.firstChild;p;){var b=p.nextSibling,_=p.nodeName;p[Fs]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=b}}else l==="body"&&Zl(t.ownerDocument.body);l=h}while(l);al(s)}function Bm(t,s){var l=t;t=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=c}while(l)}function vd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vd(l),Xn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function dv(t,s,l,c){for(;t.nodeType===1;){var h=l;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Fs])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=ts(t.nextSibling),t===null)break}return null}function fv(t,s,l){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=ts(t.nextSibling),t===null))return null;return t}function Hm(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ts(t.nextSibling),t===null))return null;return t}function bd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hv(t,s){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function ts(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Sd=null;function Um(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(s===0)return ts(t.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}t=t.nextSibling}return null}function Vm(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return t;s--}else l!=="/$"&&l!=="/&"||s++}t=t.previousSibling}return null}function Fm(t,s,l){switch(s=Er(l),t){case"html":if(t=s.documentElement,!t)throw Error(i(452));return t;case"head":if(t=s.head,!t)throw Error(i(453));return t;case"body":if(t=s.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Zl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Xn(t)}var es=new Map,Pm=new Set;function Tr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ia=K.d;K.d={f:mv,r:gv,D:pv,C:yv,L:vv,m:bv,X:Sv,S:xv,M:_v};function mv(){var t=ia.f(),s=Sr();return t||s}function gv(t){var s=xn(t);s!==null&&s.tag===5&&s.type==="form"?i0(s):ia.r(t)}var el=typeof document>"u"?null:document;function qm(t,s,l){var c=el;if(c&&typeof s=="string"&&s){var h=se(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),Pm.has(h)||(Pm.add(h),t={rel:t,crossOrigin:l,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),rn(s,"link",t),ne(s),c.head.appendChild(s)))}}function pv(t){ia.D(t),qm("dns-prefetch",t,null)}function yv(t,s){ia.C(t,s),qm("preconnect",t,s)}function vv(t,s,l){ia.L(t,s,l);var c=el;if(c&&t&&s){var h='link[rel="preload"][as="'+se(s)+'"]';s==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+se(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+se(l.imageSizes)+'"]')):h+='[href="'+se(t)+'"]';var p=h;switch(s){case"style":p=nl(t);break;case"script":p=sl(t)}es.has(p)||(t=v({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:t,as:s},l),es.set(p,t),c.querySelector(h)!==null||s==="style"&&c.querySelector($l(p))||s==="script"&&c.querySelector(Jl(p))||(s=c.createElement("link"),rn(s,"link",t),ne(s),c.head.appendChild(s)))}}function bv(t,s){ia.m(t,s);var l=el;if(l&&t){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+se(c)+'"][href="'+se(t)+'"]',p=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=sl(t)}if(!es.has(p)&&(t=v({rel:"modulepreload",href:t},s),es.set(p,t),l.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Jl(p)))return}c=l.createElement("link"),rn(c,"link",t),ne(c),l.head.appendChild(c)}}}function xv(t,s,l){ia.S(t,s,l);var c=el;if(c&&t){var h=cs(c).hoistableStyles,p=nl(t);s=s||"default";var b=h.get(p);if(!b){var _={loading:0,preload:null};if(b=c.querySelector($l(p)))_.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},l),(l=es.get(p))&&_d(t,l);var O=b=c.createElement("link");ne(O),rn(O,"link",t),O._p=new Promise(function(X,et){O.onload=X,O.onerror=et}),O.addEventListener("load",function(){_.loading|=1}),O.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Or(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:_},h.set(p,b)}}}function Sv(t,s){ia.X(t,s);var l=el;if(l&&t){var c=cs(l).hoistableScripts,h=sl(t),p=c.get(h);p||(p=l.querySelector(Jl(h)),p||(t=v({src:t,async:!0},s),(s=es.get(h))&&jd(t,s),p=l.createElement("script"),ne(p),rn(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function _v(t,s){ia.M(t,s);var l=el;if(l&&t){var c=cs(l).hoistableScripts,h=sl(t),p=c.get(h);p||(p=l.querySelector(Jl(h)),p||(t=v({src:t,async:!0,type:"module"},s),(s=es.get(h))&&jd(t,s),p=l.createElement("script"),ne(p),rn(p,"link",t),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(h,p))}}function Ym(t,s,l,c){var h=(h=Nt.current)?Tr(h):null;if(!h)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=nl(l.href),l=cs(h).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=nl(l.href);var p=cs(h).hoistableStyles,b=p.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,b),(p=h.querySelector($l(t)))&&!p._p&&(b.instance=p,b.state.loading=5),es.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},es.set(t,l),p||jv(h,t,l,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sl(l),l=cs(h).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function nl(t){return'href="'+se(t)+'"'}function $l(t){return'link[rel="stylesheet"]['+t+"]"}function Xm(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function jv(t,s,l,c){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=t.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),rn(s,"link",l),ne(s),t.head.appendChild(s))}function sl(t){return'[src="'+se(t)+'"]'}function Jl(t){return"script[async]"+t}function Gm(t,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=t.querySelector('style[data-href~="'+se(l.href)+'"]');if(c)return s.instance=c,ne(c),c;var h=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ne(c),rn(c,"style",h),Or(c,l.precedence,t),s.instance=c;case"stylesheet":h=nl(l.href);var p=t.querySelector($l(h));if(p)return s.state.loading|=4,s.instance=p,ne(p),p;c=Xm(l),(h=es.get(h))&&_d(c,h),p=(t.ownerDocument||t).createElement("link"),ne(p);var b=p;return b._p=new Promise(function(_,O){b.onload=_,b.onerror=O}),rn(p,"link",c),s.state.loading|=4,Or(p,l.precedence,t),s.instance=p;case"script":return p=sl(l.src),(h=t.querySelector(Jl(p)))?(s.instance=h,ne(h),h):(c=l,(h=es.get(p))&&(c=v({},l),jd(c,h)),t=t.ownerDocument||t,h=t.createElement("script"),ne(h),rn(h,"link",c),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Or(c,l.precedence,t));return s.instance}function Or(t,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,p=h,b=0;b<c.length;b++){var _=c[b];if(_.dataset.precedence===s)p=_;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(t,s.firstChild))}function _d(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function jd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Dr=null;function Qm(t,s,l){if(Dr===null){var c=new Map,h=Dr=new Map;h.set(l,c)}else h=Dr,c=h.get(l),c||(c=new Map,h.set(l,c));if(c.has(t))return c;for(c.set(t,null),l=l.getElementsByTagName(t),h=0;h<l.length;h++){var p=l[h];if(!(p[Fs]||p[Xt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(s)||"";b=t+b;var _=c.get(b);_?_.push(p):c.set(b,[p])}}return c}function Im(t,s,l){t=t.ownerDocument||t,t.head.insertBefore(l,s==="title"?t.querySelector("head > title"):null)}function Nv(t,s,l){if(l===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Km(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wv(t,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var h=nl(c.href),p=s.querySelector($l(h));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=zr.bind(t),s.then(t,t)),l.state.loading|=4,l.instance=p,ne(p);return}p=s.ownerDocument||s,c=Xm(c),(h=es.get(h))&&_d(c,h),p=p.createElement("link"),ne(p);var b=p;b._p=new Promise(function(_,O){b.onload=_,b.onerror=O}),rn(p,"link",c),l.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=zr.bind(t),s.addEventListener("load",l),s.addEventListener("error",l))}}var Nd=0;function Cv(t,s){return t.stylesheets&&t.count===0&&kr(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var c=setTimeout(function(){if(t.stylesheets&&kr(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+s);0<t.imgBytes&&Nd===0&&(Nd=62500*lv());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kr(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Nd?50:800)+s);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function zr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rr=null;function kr(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rr=new Map,s.forEach(Mv,t),Rr=null,zr.call(t))}function Mv(t,s){if(!(s.state.loading&4)){var l=Rr.get(t);if(l)var c=l.get(null);else{l=new Map,Rr.set(t,l);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var b=h[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}h=s.instance,b=h.getAttribute("data-precedence"),p=l.get(b)||c,p===c&&l.set(null,h),l.set(b,h),this.count++,c=zr.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var to={$$typeof:z,Provider:null,Consumer:null,_currentValue:E,_currentValue2:E,_threadCount:0};function Av(t,s,l,c,h,p,b,_,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_e(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_e(0),this.hiddenUpdates=_e(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Wm(t,s,l,c,h,p,b,_,O,X,et,it){return t=new Av(t,s,l,b,O,X,et,it,_),s=1,p===!0&&(s|=24),p=Bn(3,null,null,s),t.current=p,p.stateNode=t,s=su(),s.refCount++,t.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:s},ou(p),t}function Zm(t){return t?(t=Ri,t):Ri}function $m(t,s,l,c,h,p){h=Zm(h),c.context===null?c.context=h:c.pendingContext=h,c=ya(s),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=va(t,c,s),l!==null&&(Cn(l,t,s),Dl(l,t,s))}function Jm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<s?l:s}}function wd(t,s){Jm(t,s),(t=t.alternate)&&Jm(t,s)}function tg(t){if(t.tag===13||t.tag===31){var s=Ia(t,67108864);s!==null&&Cn(s,t,67108864),wd(t,67108864)}}function eg(t){if(t.tag===13||t.tag===31){var s=Pn();s=ye(s);var l=Ia(t,s);l!==null&&Cn(l,t,s),wd(t,s)}}var Lr=!0;function Ev(t,s,l,c){var h=D.T;D.T=null;var p=K.p;try{K.p=2,Cd(t,s,l,c)}finally{K.p=p,D.T=h}}function Tv(t,s,l,c){var h=D.T;D.T=null;var p=K.p;try{K.p=8,Cd(t,s,l,c)}finally{K.p=p,D.T=h}}function Cd(t,s,l,c){if(Lr){var h=Md(c);if(h===null)fd(t,s,c,Br,l),sg(t,c);else if(Dv(h,t,s,l,c))c.stopPropagation();else if(sg(t,c),s&4&&-1<Ov.indexOf(t)){for(;h!==null;){var p=xn(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=On(p.pendingLanes);if(b!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;b;){var O=1<<31-Ce(b);_.entanglements[1]|=O,b&=~O}Es(p),(te&6)===0&&(br=Vt()+500,Il(0))}}break;case 31:case 13:_=Ia(p,2),_!==null&&Cn(_,p,2),Sr(),wd(p,2)}if(p=Md(c),p===null&&fd(t,s,c,Br,l),p===h)break;h=p}h!==null&&c.stopPropagation()}else fd(t,s,c,null,l)}}function Md(t){return t=w(t),Ad(t)}var Br=null;function Ad(t){if(Br=null,t=js(t),t!==null){var s=r(t);if(s===null)t=null;else{var l=s.tag;if(l===13){if(t=u(s),t!==null)return t;t=null}else if(l===31){if(t=f(s),t!==null)return t;t=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Br=t,null}function ng(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case Ue:return 2;case we:return 8;case ze:case cn:return 32;case yn:return 268435456;default:return 32}default:return 32}}var Ed=!1,Ea=null,Ta=null,Oa=null,eo=new Map,no=new Map,Da=[],Ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sg(t,s){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":eo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(s.pointerId)}}function so(t,s,l,c,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[h]},s!==null&&(s=xn(s),s!==null&&tg(s)),t):(t.eventSystemFlags|=c,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function Dv(t,s,l,c,h){switch(s){case"focusin":return Ea=so(Ea,t,s,l,c,h),!0;case"dragenter":return Ta=so(Ta,t,s,l,c,h),!0;case"mouseover":return Oa=so(Oa,t,s,l,c,h),!0;case"pointerover":var p=h.pointerId;return eo.set(p,so(eo.get(p)||null,t,s,l,c,h)),!0;case"gotpointercapture":return p=h.pointerId,no.set(p,so(no.get(p)||null,t,s,l,c,h)),!0}return!1}function ag(t){var s=js(t.target);if(s!==null){var l=r(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){t.blockedOn=s,Hs(t.priority,function(){eg(l)});return}}else if(s===31){if(s=f(l),s!==null){t.blockedOn=s,Hs(t.priority,function(){eg(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var l=Md(t.nativeEvent);if(l===null){l=t.nativeEvent;var c=new l.constructor(l.type,l);vl=c,l.target.dispatchEvent(c),vl=null}else return s=xn(l),s!==null&&tg(s),t.blockedOn=l,!1;s.shift()}return!0}function ig(t,s,l){Hr(t)&&l.delete(s)}function zv(){Ed=!1,Ea!==null&&Hr(Ea)&&(Ea=null),Ta!==null&&Hr(Ta)&&(Ta=null),Oa!==null&&Hr(Oa)&&(Oa=null),eo.forEach(ig),no.forEach(ig)}function Ur(t,s){t.blockedOn===s&&(t.blockedOn=null,Ed||(Ed=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zv)))}var Vr=null;function lg(t){Vr!==t&&(Vr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vr===t&&(Vr=null);for(var s=0;s<t.length;s+=3){var l=t[s],c=t[s+1],h=t[s+2];if(typeof c!="function"){if(Ad(c||l)===null)continue;break}var p=xn(l);p!==null&&(t.splice(s,3),s-=3,Mu(p,{pending:!0,data:h,method:l.method,action:c},c,h))}}))}function al(t){function s(O){return Ur(O,t)}Ea!==null&&Ur(Ea,t),Ta!==null&&Ur(Ta,t),Oa!==null&&Ur(Oa,t),eo.forEach(s),no.forEach(s);for(var l=0;l<Da.length;l++){var c=Da[l];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Da.length&&(l=Da[0],l.blockedOn===null);)ag(l),l.blockedOn===null&&Da.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var h=l[c],p=l[c+1],b=h[me]||null;if(typeof p=="function")b||lg(l);else if(b){var _=null;if(p&&p.hasAttribute("formAction")){if(h=p,b=p[me]||null)_=b.formAction;else if(Ad(h)!==null)continue}else _=b.action;typeof _=="function"?l[c+1]=_:(l.splice(c,3),c-=3),lg(l)}}}function og(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function s(){h!==null&&(h(),h=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),h!==null&&(h(),h=null)}}}function Td(t){this._internalRoot=t}Fr.prototype.render=Td.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,c=Pn();$m(l,c,t,s,null,null)},Fr.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;$m(t.current,2,null,t,null,null),Sr(),s[_s]=null}};function Fr(t){this._internalRoot=t}Fr.prototype.unstable_scheduleHydration=function(t){if(t){var s=Pa();t={blockedOn:null,target:t,priority:s};for(var l=0;l<Da.length&&s!==0&&s<Da[l].priority;l++);Da.splice(l,0,t),l===0&&ag(t)}};var rg=e.version;if(rg!=="19.2.3")throw Error(i(527,rg,"19.2.3"));K.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=g(s),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Rv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pr.isDisabled&&Pr.supportsFiber)try{Ve=Pr.inject(Rv),he=Pr}catch{}}return io.createRoot=function(t,s){if(!o(t))throw Error(i(299));var l=!1,c="",h=g0,p=p0,b=y0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Wm(t,1,!1,null,null,l,c,null,h,p,b,og),t[_s]=s.current,dd(t),new Td(s)},io.hydrateRoot=function(t,s,l){if(!o(t))throw Error(i(299));var c=!1,h="",p=g0,b=p0,_=y0,O=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),s=Wm(t,1,!0,s,l??null,c,h,O,p,b,_,og),s.context=Zm(null),l=s.current,c=Pn(),c=ye(c),h=ya(c),h.callback=null,va(l,h,c),l=c,s.current.lanes=l,Ae(s,l),Es(s),t[_s]=s.current,dd(t),new Fr(s)},io.version="19.2.3",io}var vg;function Xv(){if(vg)return zd.exports;vg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zd.exports=Yv(),zd.exports}var Gv=Xv();function u1(n,e){return function(){return n.apply(e,arguments)}}const{toString:Qv}=Object.prototype,{getPrototypeOf:gf}=Object,{iterator:yc,toStringTag:d1}=Symbol,vc=(n=>e=>{const a=Qv.call(e);return n[a]||(n[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),vs=n=>(n=n.toLowerCase(),e=>vc(e)===n),bc=n=>e=>typeof e===n,{isArray:hl}=Array,cl=bc("undefined");function Ao(n){return n!==null&&!cl(n)&&n.constructor!==null&&!cl(n.constructor)&&En(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const f1=vs("ArrayBuffer");function Iv(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&f1(n.buffer),e}const Kv=bc("string"),En=bc("function"),h1=bc("number"),Eo=n=>n!==null&&typeof n=="object",Wv=n=>n===!0||n===!1,sc=n=>{if(vc(n)!=="object")return!1;const e=gf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(d1 in n)&&!(yc in n)},Zv=n=>{if(!Eo(n)||Ao(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},$v=vs("Date"),Jv=vs("File"),tb=vs("Blob"),eb=vs("FileList"),nb=n=>Eo(n)&&En(n.pipe),sb=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||En(n.append)&&((e=vc(n))==="formdata"||e==="object"&&En(n.toString)&&n.toString()==="[object FormData]"))},ab=vs("URLSearchParams"),[ib,lb,ob,rb]=["ReadableStream","Request","Response","Headers"].map(vs),cb=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function To(n,e,{allOwnKeys:a=!1}={}){if(n===null||typeof n>"u")return;let i,o;if(typeof n!="object"&&(n=[n]),hl(n))for(i=0,o=n.length;i<o;i++)e.call(null,n[i],i,n);else{if(Ao(n))return;const r=a?Object.getOwnPropertyNames(n):Object.keys(n),u=r.length;let f;for(i=0;i<u;i++)f=r[i],e.call(null,n[f],f,n)}}function m1(n,e){if(Ao(n))return null;e=e.toLowerCase();const a=Object.keys(n);let i=a.length,o;for(;i-- >0;)if(o=a[i],e===o.toLowerCase())return o;return null}const fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,g1=n=>!cl(n)&&n!==fi;function ef(){const{caseless:n,skipUndefined:e}=g1(this)&&this||{},a={},i=(o,r)=>{const u=n&&m1(a,r)||r;sc(a[u])&&sc(o)?a[u]=ef(a[u],o):sc(o)?a[u]=ef({},o):hl(o)?a[u]=o.slice():(!e||!cl(o))&&(a[u]=o)};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&To(arguments[o],i);return a}const ub=(n,e,a,{allOwnKeys:i}={})=>(To(e,(o,r)=>{a&&En(o)?n[r]=u1(o,a):n[r]=o},{allOwnKeys:i}),n),db=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),fb=(n,e,a,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),a&&Object.assign(n.prototype,a)},hb=(n,e,a,i)=>{let o,r,u;const f={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),r=o.length;r-- >0;)u=o[r],(!i||i(u,n,e))&&!f[u]&&(e[u]=n[u],f[u]=!0);n=a!==!1&&gf(n)}while(n&&(!a||a(n,e))&&n!==Object.prototype);return e},mb=(n,e,a)=>{n=String(n),(a===void 0||a>n.length)&&(a=n.length),a-=e.length;const i=n.indexOf(e,a);return i!==-1&&i===a},gb=n=>{if(!n)return null;if(hl(n))return n;let e=n.length;if(!h1(e))return null;const a=new Array(e);for(;e-- >0;)a[e]=n[e];return a},pb=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&gf(Uint8Array)),yb=(n,e)=>{const i=(n&&n[yc]).call(n);let o;for(;(o=i.next())&&!o.done;){const r=o.value;e.call(n,r[0],r[1])}},vb=(n,e)=>{let a;const i=[];for(;(a=n.exec(e))!==null;)i.push(a);return i},bb=vs("HTMLFormElement"),xb=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,i,o){return i.toUpperCase()+o}),bg=(({hasOwnProperty:n})=>(e,a)=>n.call(e,a))(Object.prototype),Sb=vs("RegExp"),p1=(n,e)=>{const a=Object.getOwnPropertyDescriptors(n),i={};To(a,(o,r)=>{let u;(u=e(o,r,n))!==!1&&(i[r]=u||o)}),Object.defineProperties(n,i)},_b=n=>{p1(n,(e,a)=>{if(En(n)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const i=n[a];if(En(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},jb=(n,e)=>{const a={},i=o=>{o.forEach(r=>{a[r]=!0})};return hl(n)?i(n):i(String(n).split(e)),a},Nb=()=>{},wb=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Cb(n){return!!(n&&En(n.append)&&n[d1]==="FormData"&&n[yc])}const Mb=n=>{const e=new Array(10),a=(i,o)=>{if(Eo(i)){if(e.indexOf(i)>=0)return;if(Ao(i))return i;if(!("toJSON"in i)){e[o]=i;const r=hl(i)?[]:{};return To(i,(u,f)=>{const m=a(u,o+1);!cl(m)&&(r[f]=m)}),e[o]=void 0,r}}return i};return a(n,0)},Ab=vs("AsyncFunction"),Eb=n=>n&&(Eo(n)||En(n))&&En(n.then)&&En(n.catch),y1=((n,e)=>n?setImmediate:e?((a,i)=>(fi.addEventListener("message",({source:o,data:r})=>{o===fi&&r===a&&i.length&&i.shift()()},!1),o=>{i.push(o),fi.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",En(fi.postMessage)),Tb=typeof queueMicrotask<"u"?queueMicrotask.bind(fi):typeof process<"u"&&process.nextTick||y1,Ob=n=>n!=null&&En(n[yc]),I={isArray:hl,isArrayBuffer:f1,isBuffer:Ao,isFormData:sb,isArrayBufferView:Iv,isString:Kv,isNumber:h1,isBoolean:Wv,isObject:Eo,isPlainObject:sc,isEmptyObject:Zv,isReadableStream:ib,isRequest:lb,isResponse:ob,isHeaders:rb,isUndefined:cl,isDate:$v,isFile:Jv,isBlob:tb,isRegExp:Sb,isFunction:En,isStream:nb,isURLSearchParams:ab,isTypedArray:pb,isFileList:eb,forEach:To,merge:ef,extend:ub,trim:cb,stripBOM:db,inherits:fb,toFlatObject:hb,kindOf:vc,kindOfTest:vs,endsWith:mb,toArray:gb,forEachEntry:yb,matchAll:vb,isHTMLForm:bb,hasOwnProperty:bg,hasOwnProp:bg,reduceDescriptors:p1,freezeMethods:_b,toObjectSet:jb,toCamelCase:xb,noop:Nb,toFiniteNumber:wb,findKey:m1,global:fi,isContextDefined:g1,isSpecCompliantForm:Cb,toJSONObject:Mb,isAsyncFn:Ab,isThenable:Eb,setImmediate:y1,asap:Tb,isIterable:Ob};function Rt(n,e,a,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}I.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const v1=Rt.prototype,b1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{b1[n]={value:n}});Object.defineProperties(Rt,b1);Object.defineProperty(v1,"isAxiosError",{value:!0});Rt.from=(n,e,a,i,o,r)=>{const u=Object.create(v1);I.toFlatObject(n,u,function(y){return y!==Error.prototype},g=>g!=="isAxiosError");const f=n&&n.message?n.message:"Error",m=e==null&&n?n.code:e;return Rt.call(u,f,m,a,i,o),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",r&&Object.assign(u,r),u};const Db=null;function nf(n){return I.isPlainObject(n)||I.isArray(n)}function x1(n){return I.endsWith(n,"[]")?n.slice(0,-2):n}function xg(n,e,a){return n?n.concat(e).map(function(o,r){return o=x1(o),!a&&r?"["+o+"]":o}).join(a?".":""):e}function zb(n){return I.isArray(n)&&!n.some(nf)}const Rb=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function xc(n,e,a){if(!I.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,a=I.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,N){return!I.isUndefined(N[M])});const i=a.metaTokens,o=a.visitor||y,r=a.dots,u=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(o))throw new TypeError("visitor must be a function");function g(j){if(j===null)return"";if(I.isDate(j))return j.toISOString();if(I.isBoolean(j))return j.toString();if(!m&&I.isBlob(j))throw new Rt("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(j)||I.isTypedArray(j)?m&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function y(j,M,N){let k=j;if(j&&!N&&typeof j=="object"){if(I.endsWith(M,"{}"))M=i?M:M.slice(0,-2),j=JSON.stringify(j);else if(I.isArray(j)&&zb(j)||(I.isFileList(j)||I.endsWith(M,"[]"))&&(k=I.toArray(j)))return M=x1(M),k.forEach(function(z,Q){!(I.isUndefined(z)||z===null)&&e.append(u===!0?xg([M],Q,r):u===null?M:M+"[]",g(z))}),!1}return nf(j)?!0:(e.append(xg(N,M,r),g(j)),!1)}const v=[],x=Object.assign(Rb,{defaultVisitor:y,convertValue:g,isVisitable:nf});function S(j,M){if(!I.isUndefined(j)){if(v.indexOf(j)!==-1)throw Error("Circular reference detected in "+M.join("."));v.push(j),I.forEach(j,function(k,H){(!(I.isUndefined(k)||k===null)&&o.call(e,k,I.isString(H)?H.trim():H,M,x))===!0&&S(k,M?M.concat(H):[H])}),v.pop()}}if(!I.isObject(n))throw new TypeError("data must be an object");return S(n),e}function Sg(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function pf(n,e){this._pairs=[],n&&xc(n,this,e)}const S1=pf.prototype;S1.append=function(e,a){this._pairs.push([e,a])};S1.toString=function(e){const a=e?function(i){return e.call(this,i,Sg)}:Sg;return this._pairs.map(function(o){return a(o[0])+"="+a(o[1])},"").join("&")};function kb(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _1(n,e,a){if(!e)return n;const i=a&&a.encode||kb;I.isFunction(a)&&(a={serialize:a});const o=a&&a.serialize;let r;if(o?r=o(e,a):r=I.isURLSearchParams(e)?e.toString():new pf(e,a).toString(i),r){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class _g{constructor(){this.handlers=[]}use(e,a,i){return this.handlers.push({fulfilled:e,rejected:a,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(i){i!==null&&e(i)})}}const j1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lb=typeof URLSearchParams<"u"?URLSearchParams:pf,Bb=typeof FormData<"u"?FormData:null,Hb=typeof Blob<"u"?Blob:null,Ub={isBrowser:!0,classes:{URLSearchParams:Lb,FormData:Bb,Blob:Hb},protocols:["http","https","file","blob","url","data"]},yf=typeof window<"u"&&typeof document<"u",sf=typeof navigator=="object"&&navigator||void 0,Vb=yf&&(!sf||["ReactNative","NativeScript","NS"].indexOf(sf.product)<0),Fb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pb=yf&&window.location.href||"http://localhost",qb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yf,hasStandardBrowserEnv:Vb,hasStandardBrowserWebWorkerEnv:Fb,navigator:sf,origin:Pb},Symbol.toStringTag,{value:"Module"})),fn={...qb,...Ub};function Yb(n,e){return xc(n,new fn.classes.URLSearchParams,{visitor:function(a,i,o,r){return fn.isNode&&I.isBuffer(a)?(this.append(i,a.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function Xb(n){return I.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gb(n){const e={},a=Object.keys(n);let i;const o=a.length;let r;for(i=0;i<o;i++)r=a[i],e[r]=n[r];return e}function N1(n){function e(a,i,o,r){let u=a[r++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),m=r>=a.length;return u=!u&&I.isArray(o)?o.length:u,m?(I.hasOwnProp(o,u)?o[u]=[o[u],i]:o[u]=i,!f):((!o[u]||!I.isObject(o[u]))&&(o[u]=[]),e(a,i,o[u],r)&&I.isArray(o[u])&&(o[u]=Gb(o[u])),!f)}if(I.isFormData(n)&&I.isFunction(n.entries)){const a={};return I.forEachEntry(n,(i,o)=>{e(Xb(i),o,a,0)}),a}return null}function Qb(n,e,a){if(I.isString(n))try{return(e||JSON.parse)(n),I.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(a||JSON.stringify)(n)}const Oo={transitional:j1,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const i=a.getContentType()||"",o=i.indexOf("application/json")>-1,r=I.isObject(e);if(r&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return o?JSON.stringify(N1(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e)||I.isReadableStream(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Yb(e,this.formSerializer).toString();if((f=I.isFileList(e))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return xc(f?{"files[]":e}:e,m&&new m,this.formSerializer)}}return r||o?(a.setContentType("application/json",!1),Qb(e)):e}],transformResponse:[function(e){const a=this.transitional||Oo.transitional,i=a&&a.forcedJSONParsing,o=this.responseType==="json";if(I.isResponse(e)||I.isReadableStream(e))return e;if(e&&I.isString(e)&&(i&&!this.responseType||o)){const u=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?Rt.from(f,Rt.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],n=>{Oo.headers[n]={}});const Ib=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kb=n=>{const e={};let a,i,o;return n&&n.split(`
`).forEach(function(u){o=u.indexOf(":"),a=u.substring(0,o).trim().toLowerCase(),i=u.substring(o+1).trim(),!(!a||e[a]&&Ib[a])&&(a==="set-cookie"?e[a]?e[a].push(i):e[a]=[i]:e[a]=e[a]?e[a]+", "+i:i)}),e},jg=Symbol("internals");function lo(n){return n&&String(n).trim().toLowerCase()}function ac(n){return n===!1||n==null?n:I.isArray(n)?n.map(ac):String(n)}function Wb(n){const e=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=a.exec(n);)e[i[1]]=i[2];return e}const Zb=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Bd(n,e,a,i,o){if(I.isFunction(i))return i.call(this,e,a);if(o&&(e=a),!!I.isString(e)){if(I.isString(i))return e.indexOf(i)!==-1;if(I.isRegExp(i))return i.test(e)}}function $b(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,i)=>a.toUpperCase()+i)}function Jb(n,e){const a=I.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+a,{value:function(o,r,u){return this[i].call(this,e,o,r,u)},configurable:!0})})}let Tn=class{constructor(e){e&&this.set(e)}set(e,a,i){const o=this;function r(f,m,g){const y=lo(m);if(!y)throw new Error("header name must be a non-empty string");const v=I.findKey(o,y);(!v||o[v]===void 0||g===!0||g===void 0&&o[v]!==!1)&&(o[v||m]=ac(f))}const u=(f,m)=>I.forEach(f,(g,y)=>r(g,y,m));if(I.isPlainObject(e)||e instanceof this.constructor)u(e,a);else if(I.isString(e)&&(e=e.trim())&&!Zb(e))u(Kb(e),a);else if(I.isObject(e)&&I.isIterable(e)){let f={},m,g;for(const y of e){if(!I.isArray(y))throw TypeError("Object iterator must return a key-value pair");f[g=y[0]]=(m=f[g])?I.isArray(m)?[...m,y[1]]:[m,y[1]]:y[1]}u(f,a)}else e!=null&&r(a,e,i);return this}get(e,a){if(e=lo(e),e){const i=I.findKey(this,e);if(i){const o=this[i];if(!a)return o;if(a===!0)return Wb(o);if(I.isFunction(a))return a.call(this,o,i);if(I.isRegExp(a))return a.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=lo(e),e){const i=I.findKey(this,e);return!!(i&&this[i]!==void 0&&(!a||Bd(this,this[i],i,a)))}return!1}delete(e,a){const i=this;let o=!1;function r(u){if(u=lo(u),u){const f=I.findKey(i,u);f&&(!a||Bd(i,i[f],f,a))&&(delete i[f],o=!0)}}return I.isArray(e)?e.forEach(r):r(e),o}clear(e){const a=Object.keys(this);let i=a.length,o=!1;for(;i--;){const r=a[i];(!e||Bd(this,this[r],r,e,!0))&&(delete this[r],o=!0)}return o}normalize(e){const a=this,i={};return I.forEach(this,(o,r)=>{const u=I.findKey(i,r);if(u){a[u]=ac(o),delete a[r];return}const f=e?$b(r):String(r).trim();f!==r&&delete a[r],a[f]=ac(o),i[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return I.forEach(this,(i,o)=>{i!=null&&i!==!1&&(a[o]=e&&I.isArray(i)?i.join(", "):i)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const i=new this(e);return a.forEach(o=>i.set(o)),i}static accessor(e){const i=(this[jg]=this[jg]={accessors:{}}).accessors,o=this.prototype;function r(u){const f=lo(u);i[f]||(Jb(o,u),i[f]=!0)}return I.isArray(e)?e.forEach(r):r(e),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Tn.prototype,({value:n},e)=>{let a=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[a]=i}}});I.freezeMethods(Tn);function Hd(n,e){const a=this||Oo,i=e||a,o=Tn.from(i.headers);let r=i.data;return I.forEach(n,function(f){r=f.call(a,r,o.normalize(),e?e.status:void 0)}),o.normalize(),r}function w1(n){return!!(n&&n.__CANCEL__)}function ml(n,e,a){Rt.call(this,n??"canceled",Rt.ERR_CANCELED,e,a),this.name="CanceledError"}I.inherits(ml,Rt,{__CANCEL__:!0});function C1(n,e,a){const i=a.config.validateStatus;!a.status||!i||i(a.status)?n(a):e(new Rt("Request failed with status code "+a.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function tx(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function ex(n,e){n=n||10;const a=new Array(n),i=new Array(n);let o=0,r=0,u;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),y=i[r];u||(u=g),a[o]=m,i[o]=g;let v=r,x=0;for(;v!==o;)x+=a[v++],v=v%n;if(o=(o+1)%n,o===r&&(r=(r+1)%n),g-u<e)return;const S=y&&g-y;return S?Math.round(x*1e3/S):void 0}}function nx(n,e){let a=0,i=1e3/e,o,r;const u=(g,y=Date.now())=>{a=y,o=null,r&&(clearTimeout(r),r=null),n(...g)};return[(...g)=>{const y=Date.now(),v=y-a;v>=i?u(g,y):(o=g,r||(r=setTimeout(()=>{r=null,u(o)},i-v)))},()=>o&&u(o)]}const rc=(n,e,a=3)=>{let i=0;const o=ex(50,250);return nx(r=>{const u=r.loaded,f=r.lengthComputable?r.total:void 0,m=u-i,g=o(m),y=u<=f;i=u;const v={loaded:u,total:f,progress:f?u/f:void 0,bytes:m,rate:g||void 0,estimated:g&&f&&y?(f-u)/g:void 0,event:r,lengthComputable:f!=null,[e?"download":"upload"]:!0};n(v)},a)},Ng=(n,e)=>{const a=n!=null;return[i=>e[0]({lengthComputable:a,total:n,loaded:i}),e[1]]},wg=n=>(...e)=>I.asap(()=>n(...e)),sx=fn.hasStandardBrowserEnv?((n,e)=>a=>(a=new URL(a,fn.origin),n.protocol===a.protocol&&n.host===a.host&&(e||n.port===a.port)))(new URL(fn.origin),fn.navigator&&/(msie|trident)/i.test(fn.navigator.userAgent)):()=>!0,ax=fn.hasStandardBrowserEnv?{write(n,e,a,i,o,r,u){if(typeof document>"u")return;const f=[`${n}=${encodeURIComponent(e)}`];I.isNumber(a)&&f.push(`expires=${new Date(a).toUTCString()}`),I.isString(i)&&f.push(`path=${i}`),I.isString(o)&&f.push(`domain=${o}`),r===!0&&f.push("secure"),I.isString(u)&&f.push(`SameSite=${u}`),document.cookie=f.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ix(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function lx(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function M1(n,e,a){let i=!ix(e);return n&&(i||a==!1)?lx(n,e):e}const Cg=n=>n instanceof Tn?{...n}:n;function vi(n,e){e=e||{};const a={};function i(g,y,v,x){return I.isPlainObject(g)&&I.isPlainObject(y)?I.merge.call({caseless:x},g,y):I.isPlainObject(y)?I.merge({},y):I.isArray(y)?y.slice():y}function o(g,y,v,x){if(I.isUndefined(y)){if(!I.isUndefined(g))return i(void 0,g,v,x)}else return i(g,y,v,x)}function r(g,y){if(!I.isUndefined(y))return i(void 0,y)}function u(g,y){if(I.isUndefined(y)){if(!I.isUndefined(g))return i(void 0,g)}else return i(void 0,y)}function f(g,y,v){if(v in e)return i(g,y);if(v in n)return i(void 0,g)}const m={url:r,method:r,data:r,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(g,y,v)=>o(Cg(g),Cg(y),v,!0)};return I.forEach(Object.keys({...n,...e}),function(y){const v=m[y]||o,x=v(n[y],e[y],y);I.isUndefined(x)&&v!==f||(a[y]=x)}),a}const A1=n=>{const e=vi({},n);let{data:a,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:r,headers:u,auth:f}=e;if(e.headers=u=Tn.from(u),e.url=_1(M1(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),I.isFormData(a)){if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(I.isFunction(a.getHeaders)){const m=a.getHeaders(),g=["content-type","content-length"];Object.entries(m).forEach(([y,v])=>{g.includes(y.toLowerCase())&&u.set(y,v)})}}if(fn.hasStandardBrowserEnv&&(i&&I.isFunction(i)&&(i=i(e)),i||i!==!1&&sx(e.url))){const m=o&&r&&ax.read(r);m&&u.set(o,m)}return e},ox=typeof XMLHttpRequest<"u",rx=ox&&function(n){return new Promise(function(a,i){const o=A1(n);let r=o.data;const u=Tn.from(o.headers).normalize();let{responseType:f,onUploadProgress:m,onDownloadProgress:g}=o,y,v,x,S,j;function M(){S&&S(),j&&j(),o.cancelToken&&o.cancelToken.unsubscribe(y),o.signal&&o.signal.removeEventListener("abort",y)}let N=new XMLHttpRequest;N.open(o.method.toUpperCase(),o.url,!0),N.timeout=o.timeout;function k(){if(!N)return;const z=Tn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),U={data:!f||f==="text"||f==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:z,config:n,request:N};C1(function(P){a(P),M()},function(P){i(P),M()},U),N=null}"onloadend"in N?N.onloadend=k:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(k)},N.onabort=function(){N&&(i(new Rt("Request aborted",Rt.ECONNABORTED,n,N)),N=null)},N.onerror=function(Q){const U=Q&&Q.message?Q.message:"Network Error",Z=new Rt(U,Rt.ERR_NETWORK,n,N);Z.event=Q||null,i(Z),N=null},N.ontimeout=function(){let Q=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const U=o.transitional||j1;o.timeoutErrorMessage&&(Q=o.timeoutErrorMessage),i(new Rt(Q,U.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,n,N)),N=null},r===void 0&&u.setContentType(null),"setRequestHeader"in N&&I.forEach(u.toJSON(),function(Q,U){N.setRequestHeader(U,Q)}),I.isUndefined(o.withCredentials)||(N.withCredentials=!!o.withCredentials),f&&f!=="json"&&(N.responseType=o.responseType),g&&([x,j]=rc(g,!0),N.addEventListener("progress",x)),m&&N.upload&&([v,S]=rc(m),N.upload.addEventListener("progress",v),N.upload.addEventListener("loadend",S)),(o.cancelToken||o.signal)&&(y=z=>{N&&(i(!z||z.type?new ml(null,n,N):z),N.abort(),N=null)},o.cancelToken&&o.cancelToken.subscribe(y),o.signal&&(o.signal.aborted?y():o.signal.addEventListener("abort",y)));const H=tx(o.url);if(H&&fn.protocols.indexOf(H)===-1){i(new Rt("Unsupported protocol "+H+":",Rt.ERR_BAD_REQUEST,n));return}N.send(r||null)})},cx=(n,e)=>{const{length:a}=n=n?n.filter(Boolean):[];if(e||a){let i=new AbortController,o;const r=function(g){if(!o){o=!0,f();const y=g instanceof Error?g:this.reason;i.abort(y instanceof Rt?y:new ml(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,r(new Rt(`timeout ${e} of ms exceeded`,Rt.ETIMEDOUT))},e);const f=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(r):g.removeEventListener("abort",r)}),n=null)};n.forEach(g=>g.addEventListener("abort",r));const{signal:m}=i;return m.unsubscribe=()=>I.asap(f),m}},ux=function*(n,e){let a=n.byteLength;if(a<e){yield n;return}let i=0,o;for(;i<a;)o=i+e,yield n.slice(i,o),i=o},dx=async function*(n,e){for await(const a of fx(n))yield*ux(a,e)},fx=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:a,value:i}=await e.read();if(a)break;yield i}}finally{await e.cancel()}},Mg=(n,e,a,i)=>{const o=dx(n,e);let r=0,u,f=m=>{u||(u=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:g,value:y}=await o.next();if(g){f(),m.close();return}let v=y.byteLength;if(a){let x=r+=v;a(x)}m.enqueue(new Uint8Array(y))}catch(g){throw f(g),g}},cancel(m){return f(m),o.return()}},{highWaterMark:2})},Ag=64*1024,{isFunction:qr}=I,hx=(({Request:n,Response:e})=>({Request:n,Response:e}))(I.global),{ReadableStream:Eg,TextEncoder:Tg}=I.global,Og=(n,...e)=>{try{return!!n(...e)}catch{return!1}},mx=n=>{n=I.merge.call({skipUndefined:!0},hx,n);const{fetch:e,Request:a,Response:i}=n,o=e?qr(e):typeof fetch=="function",r=qr(a),u=qr(i);if(!o)return!1;const f=o&&qr(Eg),m=o&&(typeof Tg=="function"?(j=>M=>j.encode(M))(new Tg):async j=>new Uint8Array(await new a(j).arrayBuffer())),g=r&&f&&Og(()=>{let j=!1;const M=new a(fn.origin,{body:new Eg,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!M}),y=u&&f&&Og(()=>I.isReadableStream(new i("").body)),v={stream:y&&(j=>j.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!v[j]&&(v[j]=(M,N)=>{let k=M&&M[j];if(k)return k.call(M);throw new Rt(`Response type '${j}' is not supported`,Rt.ERR_NOT_SUPPORT,N)})});const x=async j=>{if(j==null)return 0;if(I.isBlob(j))return j.size;if(I.isSpecCompliantForm(j))return(await new a(fn.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(I.isArrayBufferView(j)||I.isArrayBuffer(j))return j.byteLength;if(I.isURLSearchParams(j)&&(j=j+""),I.isString(j))return(await m(j)).byteLength},S=async(j,M)=>{const N=I.toFiniteNumber(j.getContentLength());return N??x(M)};return async j=>{let{url:M,method:N,data:k,signal:H,cancelToken:z,timeout:Q,onDownloadProgress:U,onUploadProgress:Z,responseType:P,headers:nt,withCredentials:tt="same-origin",fetchOptions:rt}=A1(j),J=e||fetch;P=P?(P+"").toLowerCase():"text";let V=cx([H,z&&z.toAbortSignal()],Q),ht=null;const ot=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let ct;try{if(Z&&g&&N!=="get"&&N!=="head"&&(ct=await S(nt,k))!==0){let A=new a(M,{method:"POST",body:k,duplex:"half"}),F;if(I.isFormData(k)&&(F=A.headers.get("content-type"))&&nt.setContentType(F),A.body){const[lt,ut]=Ng(ct,rc(wg(Z)));k=Mg(A.body,Ag,lt,ut)}}I.isString(tt)||(tt=tt?"include":"omit");const D=r&&"credentials"in a.prototype,K={...rt,signal:V,method:N.toUpperCase(),headers:nt.normalize().toJSON(),body:k,duplex:"half",credentials:D?tt:void 0};ht=r&&new a(M,K);let E=await(r?J(ht,rt):J(M,K));const Y=y&&(P==="stream"||P==="response");if(y&&(U||Y&&ot)){const A={};["status","statusText","headers"].forEach(bt=>{A[bt]=E[bt]});const F=I.toFiniteNumber(E.headers.get("content-length")),[lt,ut]=U&&Ng(F,rc(wg(U),!0))||[];E=new i(Mg(E.body,Ag,lt,()=>{ut&&ut(),ot&&ot()}),A)}P=P||"text";let st=await v[I.findKey(v,P)||"text"](E,j);return!Y&&ot&&ot(),await new Promise((A,F)=>{C1(A,F,{data:st,headers:Tn.from(E.headers),status:E.status,statusText:E.statusText,config:j,request:ht})})}catch(D){throw ot&&ot(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,j,ht),{cause:D.cause||D}):Rt.from(D,D&&D.code,j,ht)}}},gx=new Map,E1=n=>{let e=n&&n.env||{};const{fetch:a,Request:i,Response:o}=e,r=[i,o,a];let u=r.length,f=u,m,g,y=gx;for(;f--;)m=r[f],g=y.get(m),g===void 0&&y.set(m,g=f?new Map:mx(e)),y=g;return g};E1();const vf={http:Db,xhr:rx,fetch:{get:E1}};I.forEach(vf,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Dg=n=>`- ${n}`,px=n=>I.isFunction(n)||n===null||n===!1;function yx(n,e){n=I.isArray(n)?n:[n];const{length:a}=n;let i,o;const r={};for(let u=0;u<a;u++){i=n[u];let f;if(o=i,!px(i)&&(o=vf[(f=String(i)).toLowerCase()],o===void 0))throw new Rt(`Unknown adapter '${f}'`);if(o&&(I.isFunction(o)||(o=o.get(e))))break;r[f||"#"+u]=o}if(!o){const u=Object.entries(r).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=a?u.length>1?`since :
`+u.map(Dg).join(`
`):" "+Dg(u[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o}const T1={getAdapter:yx,adapters:vf};function Ud(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new ml(null,n)}function zg(n){return Ud(n),n.headers=Tn.from(n.headers),n.data=Hd.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),T1.getAdapter(n.adapter||Oo.adapter,n)(n).then(function(i){return Ud(n),i.data=Hd.call(n,n.transformResponse,i),i.headers=Tn.from(i.headers),i},function(i){return w1(i)||(Ud(n),i&&i.response&&(i.response.data=Hd.call(n,n.transformResponse,i.response),i.response.headers=Tn.from(i.response.headers))),Promise.reject(i)})}const O1="1.13.2",Sc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Sc[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Rg={};Sc.transitional=function(e,a,i){function o(r,u){return"[Axios v"+O1+"] Transitional option '"+r+"'"+u+(i?". "+i:"")}return(r,u,f)=>{if(e===!1)throw new Rt(o(u," has been removed"+(a?" in "+a:"")),Rt.ERR_DEPRECATED);return a&&!Rg[u]&&(Rg[u]=!0,console.warn(o(u," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(r,u,f):!0}};Sc.spelling=function(e){return(a,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function vx(n,e,a){if(typeof n!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let o=i.length;for(;o-- >0;){const r=i[o],u=e[r];if(u){const f=n[r],m=f===void 0||u(f,r,n);if(m!==!0)throw new Rt("option "+r+" must be "+m,Rt.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Rt("Unknown option "+r,Rt.ERR_BAD_OPTION)}}const ic={assertOptions:vx,validators:Sc},Ts=ic.validators;let pi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new _g,response:new _g}}async request(e,a){try{return await this._request(e,a)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=vi(this.defaults,a);const{transitional:i,paramsSerializer:o,headers:r}=a;i!==void 0&&ic.assertOptions(i,{silentJSONParsing:Ts.transitional(Ts.boolean),forcedJSONParsing:Ts.transitional(Ts.boolean),clarifyTimeoutError:Ts.transitional(Ts.boolean)},!1),o!=null&&(I.isFunction(o)?a.paramsSerializer={serialize:o}:ic.assertOptions(o,{encode:Ts.function,serialize:Ts.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ic.assertOptions(a,{baseUrl:Ts.spelling("baseURL"),withXsrfToken:Ts.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let u=r&&I.merge(r.common,r[a.method]);r&&I.forEach(["delete","get","head","post","put","patch","common"],j=>{delete r[j]}),a.headers=Tn.concat(u,r);const f=[];let m=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(a)===!1||(m=m&&M.synchronous,f.unshift(M.fulfilled,M.rejected))});const g=[];this.interceptors.response.forEach(function(M){g.push(M.fulfilled,M.rejected)});let y,v=0,x;if(!m){const j=[zg.bind(this),void 0];for(j.unshift(...f),j.push(...g),x=j.length,y=Promise.resolve(a);v<x;)y=y.then(j[v++],j[v++]);return y}x=f.length;let S=a;for(;v<x;){const j=f[v++],M=f[v++];try{S=j(S)}catch(N){M.call(this,N);break}}try{y=zg.call(this,S)}catch(j){return Promise.reject(j)}for(v=0,x=g.length;v<x;)y=y.then(g[v++],g[v++]);return y}getUri(e){e=vi(this.defaults,e);const a=M1(e.baseURL,e.url,e.allowAbsoluteUrls);return _1(a,e.params,e.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(e){pi.prototype[e]=function(a,i){return this.request(vi(i||{},{method:e,url:a,data:(i||{}).data}))}});I.forEach(["post","put","patch"],function(e){function a(i){return function(r,u,f){return this.request(vi(f||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:u}))}}pi.prototype[e]=a(),pi.prototype[e+"Form"]=a(!0)});let bx=class D1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(r){a=r});const i=this;this.promise.then(o=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](o);i._listeners=null}),this.promise.then=o=>{let r;const u=new Promise(f=>{i.subscribe(f),r=f}).then(o);return u.cancel=function(){i.unsubscribe(r)},u},e(function(r,u,f){i.reason||(i.reason=new ml(r,u,f),a(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=i=>{e.abort(i)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new D1(function(o){e=o}),cancel:e}}};function xx(n){return function(a){return n.apply(null,a)}}function Sx(n){return I.isObject(n)&&n.isAxiosError===!0}const af={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(af).forEach(([n,e])=>{af[e]=n});function z1(n){const e=new pi(n),a=u1(pi.prototype.request,e);return I.extend(a,pi.prototype,e,{allOwnKeys:!0}),I.extend(a,e,null,{allOwnKeys:!0}),a.create=function(o){return z1(vi(n,o))},a}const Be=z1(Oo);Be.Axios=pi;Be.CanceledError=ml;Be.CancelToken=bx;Be.isCancel=w1;Be.VERSION=O1;Be.toFormData=xc;Be.AxiosError=Rt;Be.Cancel=Be.CanceledError;Be.all=function(e){return Promise.all(e)};Be.spread=xx;Be.isAxiosError=Sx;Be.mergeConfig=vi;Be.AxiosHeaders=Tn;Be.formToJSON=n=>N1(I.isHTMLForm(n)?new FormData(n):n);Be.getAdapter=T1.getAdapter;Be.HttpStatusCode=af;Be.default=Be;const{Axios:d6,AxiosError:f6,CanceledError:h6,isCancel:m6,CancelToken:g6,VERSION:p6,all:y6,Cancel:v6,isAxiosError:b6,spread:x6,toFormData:S6,AxiosHeaders:_6,HttpStatusCode:j6,formToJSON:N6,getAdapter:w6,mergeConfig:C6}=Be,mt=Be.create({baseURL:"/api"}),_c={getStats:()=>mt.get("/system/stats").then(n=>n.data),getUptime:()=>mt.get("/system/uptime").then(n=>n.data),getIPs:()=>mt.get("/system/ips").then(n=>n.data),restart:()=>mt.post("/system/restart").then(n=>n.data)},gs={getHistory:(n=50,e=0,a=null,i=null,o=null)=>{const r={limit:n,offset:e};return a&&(r.session_id=a),i&&(r.mode=i),o&&(r.persona=o),mt.get("/chat",{params:r}).then(u=>u.data)},sendMessage:async(n,e,a="qa",i="general",o=!0)=>await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,session_id:e,mode:a,expert_type:i,stream:o})}),getSessions:()=>mt.get("/chat/sessions").then(n=>n.data),createSession:n=>mt.post("/chat/sessions",{session_id:n}).then(e=>e.data),getSessionTitle:n=>mt.get(`/chat/sessions/${n}/title`).then(e=>e.data),updateSessionTitle:(n,e)=>mt.put(`/chat/sessions/${n}/title`,{title:e}).then(a=>a.data)},_x={getExpertTypes:()=>mt.get("/expert-types").then(n=>n.data)},ll={getPersonas:()=>mt.get("/personas").then(n=>n.data),selectPersona:n=>mt.post("/personas/select",{persona:n}).then(e=>e.data),getFillerWords:n=>mt.get(`/personas/${n}/filler-words`).then(e=>e.data),createFillerWord:(n,e)=>mt.post(`/personas/${n}/filler-words`,{text:e}).then(a=>a.data),deleteFillerWord:(n,e)=>mt.delete(`/personas/${n}/filler-words/${e}`).then(a=>a.data),getFillerWordAudio:(n,e)=>`/api/personas/${n}/filler-words/${e}/audio`},kg={getRouterConfig:()=>mt.get("/config/router").then(n=>n.data),saveRouterConfig:n=>mt.put("/config/router",n).then(e=>e.data),route:n=>mt.post("/router/route",n,{responseType:"blob"}),routeStream:n=>mt.post("/router/route-stream",n,{responseType:"blob"})},Lg={askQuestion:n=>mt.post("/ai/ask",n).then(e=>e.data),askQuestionAudio:n=>mt.post("/ai/ask-audio",n,{responseType:"blob"}),askQuestionStream:(n,e)=>new Promise((a,i)=>{fetch(`${mt.defaults.baseURL}/ai/ask-stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(o=>{if(!o.ok){i(new Error(`HTTP ${o.status}`));return}const r=o.body.getReader(),u=new TextDecoder;let f="";const m=({done:g,value:y})=>{if(g){a();return}f+=u.decode(y,{stream:!0});const v=f.split(`
`);f=v.pop()||"";for(const x of v)if(x.startsWith("data: "))try{const S=JSON.parse(x.slice(6));e(S)}catch(S){console.error("Failed to parse SSE:",S)}r.read().then(m)};r.read().then(m)}).catch(i)}),askQuestionAudioStream:n=>mt.post("/ai/ask-audio-stream",n,{responseType:"blob"}),askQuestionAudioFast:n=>mt.post("/ai/ask-audio-fast",n,{responseType:"blob"}),getFillerAudio:n=>mt.get("/ai/filler-audio",{params:{...n?{persona:n}:{},_t:Date.now()},responseType:"blob"})},pe={getLibrary:()=>mt.get("/music/library").then(n=>n.data),scanMusic:()=>mt.get("/music/scan").then(n=>n.data),clearMusic:()=>mt.post("/music/clear").then(n=>n.data),getMetadata:n=>mt.get("/music/metadata",{params:{path:n}}).then(e=>e.data),getPopular:n=>mt.get("/music/popular",{params:{artist:n}}).then(e=>e.data),generatePopular:n=>mt.post("/music/popular",{artist:n}).then(e=>e.data),getAbout:n=>mt.get("/music/artist/about",{params:{artist:n}}).then(e=>e.data),generateAbout:n=>mt.post("/music/artist/about",{artist:n}).then(e=>e.data),getDiscography:n=>mt.get("/music/artist/discography",{params:{artist:n}}).then(e=>e.data),generateDiscography:n=>mt.post("/music/artist/discography",{artist:n}).then(e=>e.data),getVideos:n=>mt.get("/music/artist/videos",{params:{artist:n}}).then(e=>e.data),generateVideos:n=>mt.post("/music/artist/videos",{artist:n}).then(e=>e.data),clearAllVideos:()=>mt.delete("/music/artist/videos").then(n=>n.data),getPlaylists:()=>mt.get("/music/playlists").then(n=>n.data),createPlaylist:n=>mt.post("/music/playlists",{name:n}).then(e=>e.data),addToPlaylist:n=>mt.post("/music/playlists/add",n).then(e=>e.data),removeFromPlaylist:(n,e)=>mt.delete("/music/playlists/remove",{params:{playlist_name:n,song_path:e}}).then(a=>a.data),getEditorData:()=>mt.get("/music/editor/data").then(n=>n.data),updateArtist:(n,e)=>mt.put("/music/artist/update",null,{params:{artist_id:n,...e}}).then(a=>a.data),updateAlbum:(n,e)=>mt.put("/music/album/update",null,{params:{album_id:n,...e}}).then(a=>a.data),updateSong:(n,e)=>mt.put("/music/song/update",null,{params:{song_id:n,...e}}).then(a=>a.data),addArtistVideo:(n,e)=>mt.post("/music/artist/video/add",{artist:n,videoId:e.videoId,title:e.title}).then(a=>a.data),updateArtistVideo:(n,e,a)=>mt.put("/music/artist/video/update",{artist:n,originalVideoId:e,videoId:a.videoId,title:a.title}).then(i=>i.data),deleteArtistVideo:(n,e)=>mt.delete("/music/artist/video/delete",{data:{artist:n,videoId:e}}).then(a=>a.data),trackPlay:(n,e)=>mt.post("/music/track-play",{path:n,duration:e}).then(a=>a.data),getAnalytics:()=>mt.get("/music/analytics").then(n=>n.data)},jx={getWeather:()=>mt.get("/weather").then(n=>n.data)},Nx={getTraffic:(n=30)=>mt.get("/traffic",{params:{radius_miles:n}}).then(e=>e.data)},R1={getNews:(n="top_stories",e=20)=>mt.get("/news",{params:{feed_type:n,limit:e}}).then(a=>a.data),summarizeArticle:(n,e)=>mt.post("/news/summarize",{url:n,title:e}).then(a=>a.data)},Vd={getTables:()=>mt.get("/database/tables").then(n=>n.data),getTableData:(n,e=1,a=50)=>mt.get(`/database/tables/${n}/data`,{params:{page:e,limit:a}}).then(i=>i.data),updateTableRow:(n,e,a)=>mt.put(`/database/tables/${n}/data/${e}`,a).then(i=>i.data)},ms={getPersonas:()=>mt.get("/personas").then(n=>n.data),getPersonaConfig:n=>mt.get(`/config/persona/${n}`).then(e=>e.data),savePersonaConfig:(n,e)=>mt.put(`/config/persona/${n}`,e).then(a=>a.data),createPersona:(n,e)=>mt.post(`/config/persona/${n}`,e).then(a=>a.data),getLocationConfig:()=>mt.get("/config/location").then(n=>n.data),saveLocationConfig:n=>mt.put("/config/location",n).then(e=>e.data),getApiKeysConfig:()=>mt.get("/config/api_keys").then(n=>n.data),saveApiKeysConfig:n=>mt.put("/config/api_keys",n).then(e=>e.data),getSystemConfig:()=>mt.get("/config/system").then(n=>n.data),saveSystemConfig:n=>mt.put("/config/system",n).then(e=>e.data)},wx={playLastMessage:n=>mt.post("/audio/last-message",{session_id:n}).then(e=>e.data),generateAudioForMessage:(n,e)=>mt.post("/audio/message",{session_id:n,message_id:e}).then(a=>a.data)},Bg={getConsumption:()=>mt.get("/octopus/consumption").then(n=>n.data),getHistory:(n=7)=>mt.get("/octopus/history",{params:{days:n}}).then(e=>e.data),getTariff:()=>mt.get("/octopus/tariff").then(n=>n.data),getTariffHistory:(n=7)=>mt.get("/octopus/tariff-history",{params:{days:n}}).then(e=>e.data)},oo={getAlarms:()=>mt.get("/alarms").then(n=>n.data),createAlarm:n=>mt.post("/alarms",n).then(e=>e.data),deleteAlarm:n=>mt.delete(`/alarms/${n}`).then(e=>e.data),toggleAlarm:n=>mt.post(`/alarms/${n}/toggle`).then(e=>e.data),checkAlarms:()=>mt.get("/alarms/check").then(n=>n.data)};function jc(){const[n,e]=C.useState([]),[a,i]=C.useState(""),[o,r]=C.useState("CYBER"),[u,f]=C.useState(!0),m=async()=>{try{const y=await ll.getPersonas();e(y.personas||[]),i(y.current||"default"),r(y.current_title||"CYBER"),f(!1)}catch(y){console.error("Error loading personas:",y),f(!1)}},g=async y=>{try{await ll.selectPersona(y),await m(),window.dispatchEvent(new CustomEvent("personaChanged"))}catch(v){throw console.error("Error selecting persona:",v),v}};return C.useEffect(()=>{m();const y=()=>{m()};return window.addEventListener("personaChanged",y),()=>{window.removeEventListener("personaChanged",y)}},[]),{personas:n,currentPersona:a,currentTitle:o,loading:u,selectPersona:g,reload:m}}function Cx({onSwitchAI:n,onSettingsClick:e,onAiFocusClick:a,activePage:i="dashboard",onNavigate:o,onMusicSearch:r,onChatSearch:u}){const[f,m]=C.useState(""),[g,y]=C.useState("");return jc(),d.jsxs("div",{className:"top-bar",children:[d.jsxs("div",{className:"top-bar-left",children:[d.jsxs("div",{className:"top-nav",children:[d.jsx("button",{className:`nav-button ${i==="dashboard"?"active":""}`,onClick:()=>o?.("dashboard"),style:{minWidth:40,padding:"6px 12px"},title:"Home",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),d.jsx("button",{className:`nav-button ${i==="chat"?"active":""}`,onClick:()=>o?.("chat"),style:{minWidth:40,padding:"6px 12px"},title:"Chat",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})}),d.jsx("button",{className:`nav-button ${i==="music"?"active":""}`,onClick:()=>o?.("music"),style:{minWidth:40,padding:"6px 12px"},title:"Music",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})})}),d.jsx("button",{className:`nav-button ${i==="news"?"active":""}`,onClick:()=>o?.("news"),style:{minWidth:40,padding:"6px 12px"},title:"News",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})})]}),d.jsx("button",{onClick:n,style:{background:"rgb(20, 20, 32)",border:0,color:"#534e4e",padding:"6px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"0.85em",fontWeight:"500",transition:"all 0.2s"},onMouseOver:v=>{v.target.style.color="#fff"},onMouseOut:v=>{v.target.style.color="#534e4e"},children:"Switch AI"})]}),d.jsx("div",{className:"top-bar-center",children:i==="music"||i==="music-editor"?d.jsxs("div",{className:"music-search-box",children:[d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"search-icon",children:d.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),d.jsx("input",{type:"text",placeholder:"What do you want to play?",value:f,onChange:v=>{m(v.target.value),r&&r(v.target.value)},className:"music-search-input"})]}):i==="chat"?d.jsxs("div",{className:"music-search-box",children:[d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"search-icon",children:d.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}),d.jsx("input",{type:"text",placeholder:"Search chats",value:g,onChange:v=>{y(v.target.value),u&&u(v.target.value)},className:"music-search-input"})]}):null}),d.jsxs("div",{className:"top-bar-right",children:[d.jsx("button",{className:`settings-icon-button ${i==="alerts"?"active":""}`,onClick:()=>o?.("alerts"),title:"Alerts",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"})})}),d.jsx("button",{onClick:a||(()=>{}),className:"settings-icon-button",title:"AI Focus Mode",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}),d.jsx("button",{onClick:e,className:`settings-icon-button ${i==="settings"?"active":""}`,title:"Settings",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 16 16",fill:"currentColor",children:[d.jsx("path",{d:"M8 4.754a3.246 3.246 0 100 6.492 3.246 3.246 0 000-6.492zM5.754 8a2.246 2.246 0 114.492 0 2.246 2.246 0 01-4.492 0z"}),d.jsx("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 01-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 01-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 01.52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 011.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 011.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 01.52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 01-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 01-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 002.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 001.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 00-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 00-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 00-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 001.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 003.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 002.692-1.115l.094-.319z"})]})})]})]})}function Mx(n=15e3){const[e,a]=C.useState(null),[i,o]=C.useState(!0);return C.useEffect(()=>{const r=async()=>{try{const f=await _c.getStats();a(f),o(!1)}catch(f){console.error("Error fetching system stats:",f),o(!1)}};r();const u=setInterval(r,n);return()=>clearInterval(u)},[n]),{stats:e,loading:i}}function Ax(){const[n,e]=C.useState(0),[a,i]=C.useState(!0);return C.useEffect(()=>{let r,u,f=!1;const m=async()=>{try{const g=await _c.getUptime();!f&&g?.uptime_seconds!==void 0&&(e(g.uptime_seconds),i(!1))}catch(g){f||(console.error("Error fetching uptime:",g),i(!1))}};return m(),r=setInterval(()=>{e(g=>typeof g=="number"?g+1:g)},1e3),u=setInterval(m,3600*1e3),()=>{f=!0,clearInterval(r),clearInterval(u)}},[]),{uptime:n,loading:a,formatUptime:r=>{if(r==null||isNaN(r))return"0Y 0M 0D 0H 0M 0S";const u=Math.floor(r),f=60,m=3600,g=86400,y=30.44*g,v=365.25*g,x=Math.floor(u/v);let S=u%v;const j=Math.floor(S/y);S=S%y;const M=Math.floor(S/g);S=S%g;const N=Math.floor(S/m);S=S%m;const k=Math.floor(S/f),H=S%f;return`${x}Y ${j}M ${M}D ${N}H ${k}M ${H}S`}}}function Ex(){const{stats:n}=Mx();return n?d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"System Stats"}),d.jsxs("div",{className:"stat-row",children:[d.jsx("span",{className:"stat-label",children:"CPU Usage"}),d.jsxs("span",{className:"stat-value",children:[n.cpu_percent.toFixed(1),"%"]})]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${n.cpu_percent}%`}})}),d.jsxs("div",{className:"stat-row",children:[d.jsx("span",{className:"stat-label",children:"RAM Usage"}),d.jsxs("span",{className:"stat-value",children:[n.memory_used_gb.toFixed(1),"GB"]})]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${n.memory_percent}%`}})}),d.jsxs("div",{className:"stat-row",children:[d.jsx("span",{className:"stat-label",children:"Disk Usage"}),d.jsxs("span",{className:"stat-value",children:[n.disk_percent.toFixed(1),"%"]})]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${n.disk_percent}%`}})})]}):d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"System Stats"}),d.jsx("div",{children:"Loading..."})]})}function Tx(n=6e5){const[e,a]=C.useState(null),[i,o]=C.useState(!0);return C.useEffect(()=>{const r=async()=>{try{const f=await jx.getWeather();f.success&&f.data&&(a(f.data),console.log("=== RapidAPI Open Weather API Data ==="),Object.entries(f.data).forEach(([m,g])=>{console.log(`${m}:`,g)}),console.log("======================================")),o(!1)}catch(f){console.error("Error fetching weather:",f),o(!1)}};r();const u=setInterval(r,n);return()=>clearInterval(u)},[n]),{weather:e,loading:i}}var k1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hg=gi.createContext&&gi.createContext(k1),Ox=["attr","size","title"];function Dx(n,e){if(n==null)return{};var a=zx(n,e),i,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(a[i]=n[i])}return a}function zx(n,e){if(n==null)return{};var a={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;a[i]=n[i]}return a}function cc(){return cc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])}return n},cc.apply(this,arguments)}function Ug(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),a.push.apply(a,i)}return a}function uc(n){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Ug(Object(a),!0).forEach(function(i){Rx(n,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Ug(Object(a)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(a,i))})}return n}function Rx(n,e,a){return e=kx(e),e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function kx(n){var e=Lx(n,"string");return typeof e=="symbol"?e:e+""}function Lx(n,e){if(typeof n!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var i=a.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function L1(n){return n&&n.map((e,a)=>gi.createElement(e.tag,uc({key:a},e.attr),L1(e.child)))}function Ls(n){return e=>gi.createElement(Bx,cc({attr:uc({},n.attr)},e),L1(n.child))}function Bx(n){var e=a=>{var{attr:i,size:o,title:r}=n,u=Dx(n,Ox),f=o||a.size||"1em",m;return a.className&&(m=a.className),n.className&&(m=(m?m+" ":"")+n.className),gi.createElement("svg",cc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,i,u,{className:m,style:uc(uc({color:n.color||a.color},a.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),r&&gi.createElement("title",null,r),n.children)};return Hg!==void 0?gi.createElement(Hg.Consumer,null,a=>e(a)):e(k1)}function Hx(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M3.89,17.6c0-0.99,0.31-1.88,0.93-2.65s1.41-1.27,2.38-1.49c0.26-1.17,0.85-2.14,1.78-2.88c0.93-0.75,2-1.12,3.22-1.12
	c1.18,0,2.24,0.36,3.16,1.09c0.93,0.73,1.53,1.66,1.8,2.8h0.27c1.18,0,2.18,0.41,3.01,1.24s1.25,1.83,1.25,3
	c0,1.18-0.42,2.18-1.25,3.01s-1.83,1.25-3.01,1.25H8.16c-0.58,0-1.13-0.11-1.65-0.34S5.52,21,5.14,20.62
	c-0.38-0.38-0.68-0.84-0.91-1.36S3.89,18.17,3.89,17.6z M5.34,17.6c0,0.76,0.28,1.42,0.82,1.96s1.21,0.82,1.99,0.82h9.28
	c0.77,0,1.44-0.27,1.99-0.82c0.55-0.55,0.83-1.2,0.83-1.96c0-0.76-0.27-1.42-0.83-1.96c-0.55-0.54-1.21-0.82-1.99-0.82h-1.39
	c-0.1,0-0.15-0.05-0.15-0.15l-0.07-0.49c-0.1-0.94-0.5-1.73-1.19-2.35s-1.51-0.93-2.45-0.93c-0.94,0-1.76,0.31-2.46,0.94
	c-0.7,0.62-1.09,1.41-1.18,2.34l-0.07,0.42c0,0.1-0.05,0.15-0.16,0.15l-0.45,0.07c-0.72,0.06-1.32,0.36-1.81,0.89
	C5.59,16.24,5.34,16.87,5.34,17.6z M14.19,8.88c-0.1,0.09-0.08,0.16,0.07,0.21c0.43,0.19,0.79,0.37,1.08,0.55
	c0.11,0.03,0.19,0.02,0.22-0.03c0.61-0.57,1.31-0.86,2.12-0.86c0.81,0,1.5,0.27,2.1,0.81c0.59,0.54,0.92,1.21,0.99,2l0.09,0.64h1.42
	c0.65,0,1.21,0.23,1.68,0.7c0.47,0.47,0.7,1.02,0.7,1.66c0,0.6-0.21,1.12-0.62,1.57s-0.92,0.7-1.53,0.77c-0.1,0-0.15,0.05-0.15,0.16
	v1.13c0,0.11,0.05,0.16,0.15,0.16c1.01-0.06,1.86-0.46,2.55-1.19s1.04-1.6,1.04-2.6c0-1.06-0.37-1.96-1.12-2.7
	c-0.75-0.75-1.65-1.12-2.7-1.12h-0.15c-0.26-1-0.81-1.82-1.65-2.47c-0.83-0.65-1.77-0.97-2.8-0.97C16.28,7.29,15.11,7.82,14.19,8.88
	z`},child:[]}]})(n)}function Vg(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M1.56,16.9c0,0.9,0.22,1.73,0.66,2.49s1.04,1.36,1.8,1.8c0.76,0.44,1.58,0.66,2.47,0.66h10.83c0.89,0,1.72-0.22,2.48-0.66
	c0.76-0.44,1.37-1.04,1.81-1.8c0.44-0.76,0.67-1.59,0.67-2.49c0-0.66-0.14-1.33-0.42-2C22.62,13.98,23,12.87,23,11.6
	c0-0.71-0.14-1.39-0.41-2.04c-0.27-0.65-0.65-1.2-1.12-1.67C21,7.42,20.45,7.04,19.8,6.77c-0.65-0.28-1.33-0.41-2.04-0.41
	c-1.48,0-2.77,0.58-3.88,1.74c-0.77-0.44-1.67-0.66-2.7-0.66c-1.41,0-2.65,0.44-3.73,1.31c-1.08,0.87-1.78,1.99-2.08,3.35
	c-1.12,0.26-2.03,0.83-2.74,1.73S1.56,15.75,1.56,16.9z M3.27,16.9c0-0.84,0.28-1.56,0.84-2.17c0.56-0.61,1.26-0.96,2.1-1.06
	l0.5-0.03c0.12,0,0.19-0.06,0.19-0.18l0.07-0.54c0.14-1.08,0.61-1.99,1.41-2.71c0.8-0.73,1.74-1.09,2.81-1.09
	c1.1,0,2.06,0.37,2.87,1.1c0.82,0.73,1.27,1.63,1.37,2.71l0.07,0.58c0.02,0.11,0.09,0.17,0.21,0.17h1.61c0.88,0,1.64,0.32,2.28,0.96
	c0.64,0.64,0.96,1.39,0.96,2.27c0,0.91-0.32,1.68-0.95,2.32c-0.63,0.64-1.4,0.96-2.28,0.96H6.49c-0.88,0-1.63-0.32-2.27-0.97
	C3.59,18.57,3.27,17.8,3.27,16.9z M9.97,4.63c0,0.24,0.08,0.45,0.24,0.63l0.66,0.64c0.25,0.19,0.46,0.27,0.64,0.25
	c0.21,0,0.39-0.09,0.55-0.26s0.24-0.38,0.24-0.62c0-0.24-0.09-0.44-0.26-0.59l-0.59-0.66c-0.18-0.16-0.38-0.24-0.61-0.24
	c-0.24,0-0.45,0.08-0.62,0.25C10.05,4.19,9.97,4.39,9.97,4.63z M15.31,9.06c0.69-0.67,1.51-1,2.45-1c0.99,0,1.83,0.34,2.52,1.03
	c0.69,0.69,1.04,1.52,1.04,2.51c0,0.62-0.17,1.24-0.51,1.84C19.84,12.48,18.68,12,17.32,12H17C16.75,10.91,16.19,9.93,15.31,9.06z
	 M16.94,3.78c0,0.26,0.08,0.46,0.23,0.62s0.35,0.23,0.59,0.23c0.26,0,0.46-0.08,0.62-0.23c0.16-0.16,0.23-0.36,0.23-0.62V1.73
	c0-0.24-0.08-0.43-0.24-0.59s-0.36-0.23-0.61-0.23c-0.24,0-0.43,0.08-0.59,0.23s-0.23,0.35-0.23,0.59V3.78z M22.46,6.07
	c0,0.26,0.07,0.46,0.22,0.62c0.21,0.16,0.42,0.24,0.62,0.24c0.18,0,0.38-0.08,0.59-0.24l1.43-1.43c0.16-0.18,0.24-0.39,0.24-0.64
	c0-0.24-0.08-0.44-0.24-0.6c-0.16-0.16-0.36-0.24-0.59-0.24c-0.24,0-0.43,0.08-0.58,0.24l-1.47,1.43
	C22.53,5.64,22.46,5.84,22.46,6.07z M23.25,17.91c0,0.24,0.08,0.45,0.25,0.63l0.65,0.63c0.15,0.16,0.34,0.24,0.58,0.24
	s0.44-0.08,0.6-0.25c0.16-0.17,0.24-0.37,0.24-0.62c0-0.22-0.08-0.42-0.24-0.58l-0.65-0.65c-0.16-0.16-0.35-0.24-0.57-0.24
	c-0.24,0-0.44,0.08-0.6,0.24C23.34,17.47,23.25,17.67,23.25,17.91z M24.72,11.6c0,0.23,0.09,0.42,0.26,0.58
	c0.16,0.16,0.37,0.24,0.61,0.24h2.04c0.23,0,0.42-0.08,0.58-0.23s0.23-0.35,0.23-0.59c0-0.24-0.08-0.44-0.23-0.6
	s-0.35-0.25-0.58-0.25h-2.04c-0.24,0-0.44,0.08-0.61,0.25C24.8,11.17,24.72,11.37,24.72,11.6z`},child:[]}]})(n)}function Ux(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M0.32,21.06c0,0.23,0.08,0.43,0.25,0.59c0.17,0.16,0.38,0.24,0.63,0.24h18.71c0.24,0,0.44-0.08,0.61-0.24
	c0.17-0.16,0.25-0.35,0.25-0.59c0-0.24-0.08-0.44-0.25-0.6c-0.17-0.17-0.37-0.25-0.61-0.25H1.2c-0.25,0-0.46,0.08-0.63,0.25
	S0.32,20.82,0.32,21.06z M2.94,17.92c0,0.23,0.08,0.43,0.25,0.58c0.17,0.18,0.37,0.27,0.6,0.27h18.72c0.23,0,0.43-0.08,0.59-0.25
	c0.16-0.17,0.24-0.37,0.24-0.6c0-0.23-0.08-0.43-0.23-0.59c-0.16-0.16-0.35-0.24-0.59-0.24H3.8c-0.24,0-0.44,0.08-0.6,0.24
	C3.03,17.5,2.94,17.69,2.94,17.92z M3.07,15.52c0,0.09,0.05,0.13,0.16,0.13h1.43c0.07,0,0.14-0.05,0.21-0.16
	c0.24-0.52,0.59-0.94,1.06-1.27c0.47-0.33,0.99-0.52,1.56-0.56l0.54-0.07c0.11,0,0.17-0.06,0.17-0.18l0.07-0.51
	c0.11-1.08,0.56-1.98,1.37-2.71C10.45,9.47,11.4,9.1,12.5,9.1c1.08,0,2.03,0.36,2.84,1.08c0.81,0.72,1.27,1.61,1.38,2.68l0.07,0.58
	c0,0.11,0.06,0.17,0.19,0.17h1.61c0.64,0,1.23,0.17,1.76,0.52c0.53,0.34,0.92,0.8,1.18,1.37c0.07,0.11,0.13,0.16,0.2,0.16h1.44
	c0.13,0,0.18-0.07,0.13-0.23l-0.2-0.55c0.76-0.94,1.13-2.04,1.13-3.31c0-0.71-0.14-1.38-0.41-2.03s-0.64-1.2-1.11-1.67
	c-0.46-0.47-1.02-0.84-1.67-1.12S19.72,6.35,19,6.35c-1.54,0-2.82,0.56-3.82,1.68C14.33,7.61,13.44,7.4,12.5,7.4
	c-1.4,0-2.65,0.44-3.74,1.32s-1.79,2-2.1,3.37c-1.78,0.47-2.98,1.58-3.58,3.35C3.07,15.45,3.07,15.48,3.07,15.52z M4.69,24.13
	c0,0.24,0.09,0.44,0.27,0.6c0.16,0.17,0.35,0.26,0.59,0.26h18.74c0.23,0,0.43-0.08,0.6-0.25c0.17-0.17,0.25-0.37,0.25-0.61
	c0-0.23-0.08-0.42-0.25-0.58c-0.17-0.15-0.37-0.23-0.6-0.23H5.55c-0.24,0-0.44,0.08-0.61,0.23C4.77,23.71,4.69,23.9,4.69,24.13z
	 M11.26,4.66c0,0.24,0.08,0.43,0.23,0.59l0.65,0.64c0.17,0.18,0.36,0.27,0.58,0.27c0.22,0,0.42-0.08,0.6-0.25
	c0.17-0.17,0.26-0.37,0.26-0.61c0-0.24-0.08-0.45-0.25-0.63l-0.64-0.61c-0.16-0.17-0.36-0.26-0.6-0.26c-0.24,0-0.44,0.08-0.6,0.25
	C11.34,4.21,11.26,4.42,11.26,4.66z M16.58,9.04c0.67-0.68,1.48-1.01,2.43-1.01c0.98,0,1.82,0.35,2.51,1.04
	c0.69,0.69,1.04,1.53,1.04,2.5c0,0.65-0.16,1.25-0.49,1.8c-0.95-0.95-2.11-1.42-3.47-1.42h-0.34C17.97,10.77,17.41,9.8,16.58,9.04z
	 M18.18,3.81c0,0.23,0.08,0.43,0.24,0.59c0.16,0.16,0.35,0.24,0.59,0.24c0.25,0,0.46-0.08,0.63-0.24c0.17-0.16,0.25-0.35,0.25-0.59
	V1.76c0-0.23-0.09-0.43-0.26-0.6C19.45,0.99,19.24,0.91,19,0.91c-0.23,0-0.43,0.08-0.59,0.25c-0.16,0.17-0.24,0.37-0.24,0.6V3.81z
	 M23.67,6.08c0,0.22,0.08,0.43,0.24,0.6c0.37,0.36,0.78,0.36,1.23,0l1.43-1.43c0.16-0.18,0.24-0.39,0.24-0.64
	c0-0.23-0.08-0.43-0.24-0.59c-0.16-0.16-0.36-0.24-0.59-0.24c-0.24,0-0.44,0.08-0.6,0.24l-1.46,1.47
	C23.75,5.67,23.67,5.87,23.67,6.08z M24.48,17.88c0,0.24,0.09,0.44,0.26,0.6l0.64,0.65c0.16,0.16,0.36,0.24,0.58,0.24
	c0.21,0,0.41-0.08,0.61-0.24c0.16-0.17,0.24-0.39,0.24-0.64c0-0.22-0.08-0.41-0.24-0.56l-0.65-0.66c-0.18-0.16-0.38-0.24-0.6-0.24
	c-0.24,0-0.44,0.08-0.6,0.25C24.56,17.44,24.48,17.64,24.48,17.88z M25.96,11.57c0,0.24,0.09,0.44,0.26,0.6
	c0.15,0.17,0.35,0.25,0.59,0.25h2.05c0.23,0,0.43-0.08,0.59-0.25c0.16-0.17,0.24-0.37,0.24-0.6c0-0.24-0.08-0.44-0.24-0.6
	c-0.16-0.16-0.35-0.24-0.59-0.24h-2.05c-0.24,0-0.44,0.08-0.6,0.25C26.04,11.14,25.96,11.34,25.96,11.57z`},child:[]}]})(n)}function Vx(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M1.51,16.89c0,1.33,0.46,2.48,1.39,3.44s2.06,1.47,3.41,1.53c0.11,0,0.17-0.06,0.17-0.17v-1.34c0-0.11-0.06-0.17-0.17-0.17
	c-0.86-0.04-1.59-0.39-2.19-1.03s-0.9-1.4-0.9-2.26c0-0.82,0.28-1.54,0.85-2.16s1.27-0.97,2.1-1.07l0.53-0.05
	c0.13,0,0.2-0.06,0.2-0.17l0.07-0.54c0.11-1.08,0.56-1.99,1.37-2.72s1.76-1.1,2.85-1.1c1.09,0,2.04,0.37,2.86,1.1
	s1.28,1.64,1.4,2.72l0.07,0.57c0,0.12,0.06,0.19,0.17,0.19h1.62c0.89,0,1.65,0.32,2.3,0.96c0.65,0.64,0.97,1.39,0.97,2.27
	c0,0.87-0.3,1.62-0.9,2.26c-0.6,0.64-1.33,0.98-2.18,1.03c-0.12,0-0.19,0.06-0.19,0.17v1.34c0,0.11,0.06,0.17,0.19,0.17
	c1.33-0.04,2.46-0.55,3.39-1.51c0.93-0.97,1.39-2.12,1.39-3.45c0-0.72-0.14-1.39-0.42-2.01c0.78-0.97,1.17-2.07,1.17-3.31
	c0-0.95-0.24-1.83-0.71-2.64c-0.47-0.81-1.11-1.45-1.92-1.92s-1.68-0.7-2.62-0.7c-1.56,0-2.85,0.58-3.88,1.74
	c-0.82-0.44-1.72-0.66-2.71-0.66c-1.41,0-2.67,0.44-3.76,1.32s-1.79,2-2.1,3.36c-1.11,0.26-2.02,0.84-2.74,1.74
	S1.51,15.74,1.51,16.89z M6.91,23.75c0,0.17,0.05,0.33,0.16,0.49c0.11,0.16,0.27,0.27,0.49,0.33c0.11,0.02,0.2,0.04,0.27,0.04
	c0.39,0,0.65-0.21,0.77-0.64l1.58-5.88c0.07-0.24,0.04-0.46-0.08-0.67c-0.12-0.21-0.3-0.33-0.53-0.38
	c-0.22-0.07-0.43-0.05-0.63,0.07c-0.2,0.11-0.34,0.28-0.41,0.51l-1.58,5.91C6.93,23.66,6.91,23.73,6.91,23.75z M9.52,26.83
	c0,0.19,0.05,0.36,0.15,0.52c0.1,0.16,0.27,0.26,0.52,0.3c0.11,0.02,0.2,0.04,0.26,0.04c0.16,0,0.31-0.06,0.45-0.17
	c0.14-0.12,0.23-0.28,0.27-0.48l2.4-8.93c0.06-0.23,0.04-0.45-0.07-0.64s-0.28-0.33-0.5-0.4c-0.23-0.07-0.45-0.05-0.65,0.07
	c-0.2,0.11-0.34,0.28-0.4,0.51l-2.4,8.93C9.53,26.73,9.52,26.82,9.52,26.83z M9.94,4.6c0,0.24,0.08,0.44,0.25,0.61l0.65,0.66
	c0.19,0.15,0.4,0.22,0.62,0.22c0.21,0,0.41-0.08,0.58-0.23c0.17-0.16,0.26-0.35,0.26-0.59c0-0.24-0.08-0.46-0.24-0.64l-0.64-0.65
	c-0.18-0.17-0.38-0.25-0.6-0.25c-0.24,0-0.45,0.09-0.62,0.26C10.03,4.16,9.94,4.37,9.94,4.6z M13.67,23.77
	c0,0.16,0.05,0.32,0.15,0.47s0.26,0.26,0.46,0.32c0.11,0.02,0.2,0.04,0.25,0.04c0.17,0,0.34-0.05,0.49-0.15
	c0.15-0.1,0.25-0.26,0.3-0.49l1.58-5.88c0.06-0.23,0.04-0.45-0.07-0.64c-0.11-0.2-0.28-0.33-0.5-0.4c-0.24-0.07-0.45-0.05-0.65,0.07
	c-0.2,0.11-0.33,0.28-0.39,0.51l-1.58,5.91C13.69,23.68,13.67,23.76,13.67,23.77z M15.3,9.03c0.71-0.67,1.53-1,2.48-1
	c0.98,0,1.82,0.35,2.5,1.04c0.69,0.69,1.03,1.53,1.03,2.52c0,0.62-0.17,1.24-0.52,1.85c-0.97-0.97-2.13-1.45-3.49-1.45h-0.33
	C16.7,10.81,16.14,9.83,15.3,9.03z M16.92,3.78c0,0.23,0.08,0.43,0.25,0.59c0.17,0.16,0.37,0.24,0.61,0.24
	c0.23,0,0.43-0.08,0.59-0.23c0.16-0.16,0.24-0.35,0.24-0.59V1.73c0-0.26-0.08-0.47-0.23-0.63c-0.16-0.16-0.35-0.24-0.59-0.24
	c-0.25,0-0.46,0.08-0.62,0.25s-0.24,0.37-0.24,0.62V3.78z M22.45,6.06c0,0.24,0.09,0.44,0.27,0.59c0.14,0.16,0.32,0.24,0.55,0.26
	c0.23,0.02,0.44-0.07,0.62-0.26l1.44-1.43c0.18-0.17,0.26-0.38,0.26-0.63c0-0.24-0.08-0.45-0.25-0.61
	c-0.17-0.16-0.37-0.24-0.61-0.24c-0.21,0-0.4,0.08-0.58,0.25l-1.43,1.44C22.54,5.6,22.45,5.81,22.45,6.06z M23.26,17.91
	c0,0.24,0.08,0.45,0.24,0.63l0.65,0.63c0.18,0.14,0.38,0.21,0.6,0.21l0.02,0.02c0.23,0,0.42-0.08,0.58-0.24
	c0.16-0.16,0.24-0.37,0.24-0.61c0-0.24-0.09-0.43-0.26-0.58l-0.62-0.66c-0.18-0.16-0.39-0.24-0.62-0.24s-0.43,0.08-0.59,0.25
	S23.26,17.67,23.26,17.91z M24.72,11.58c0,0.24,0.09,0.43,0.26,0.59c0.18,0.18,0.38,0.26,0.62,0.26h2.03c0.24,0,0.44-0.08,0.61-0.25
	c0.17-0.17,0.25-0.37,0.25-0.6c0-0.24-0.08-0.44-0.25-0.61s-0.37-0.26-0.61-0.26H25.6c-0.24,0-0.44,0.09-0.62,0.26
	C24.8,11.14,24.72,11.34,24.72,11.58z`},child:[]}]})(n)}function Fx(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M1.58,16.93c0,0.86,0.21,1.67,0.64,2.41c0.42,0.74,1,1.34,1.74,1.79c0.73,0.45,1.54,0.69,2.4,0.71
	c0.11,0,0.17-0.06,0.17-0.17v-1.33c0-0.12-0.06-0.19-0.17-0.19c-0.85-0.04-1.58-0.38-2.18-1.02s-0.9-1.37-0.9-2.21
	c0-0.82,0.28-1.54,0.85-2.16c0.57-0.61,1.26-0.97,2.1-1.07l0.53-0.06c0.12,0,0.18-0.06,0.18-0.19l0.08-0.51
	c0.11-1.09,0.56-2,1.36-2.73c0.8-0.73,1.75-1.09,2.85-1.09c1.09,0,2.04,0.36,2.85,1.09c0.82,0.73,1.28,1.63,1.38,2.7l0.07,0.58
	c0,0.11,0.06,0.17,0.17,0.17h1.61c0.9,0,1.67,0.32,2.31,0.96c0.64,0.64,0.96,1.4,0.96,2.29c0,0.84-0.3,1.57-0.9,2.21
	c-0.6,0.63-1.33,0.97-2.17,1.02c-0.12,0-0.19,0.06-0.19,0.19v1.33c0,0.11,0.06,0.17,0.19,0.17c1.33-0.04,2.45-0.54,3.38-1.5
	c0.93-0.96,1.39-2.09,1.39-3.41c0-0.76-0.14-1.43-0.43-2.03C22.6,13.95,23,12.85,23,11.6c0-0.94-0.23-1.81-0.7-2.61
	c-0.47-0.8-1.11-1.44-1.91-1.91s-1.68-0.7-2.62-0.7c-1.54,0-2.83,0.58-3.87,1.73c-0.81-0.44-1.71-0.66-2.69-0.66
	c-1.41,0-2.65,0.44-3.74,1.31s-1.78,1.99-2.09,3.34c-1.12,0.28-2.03,0.86-2.74,1.75C1.93,14.75,1.58,15.77,1.58,16.93z M7.92,20.98
	c0,0.24,0.08,0.44,0.24,0.61c0.16,0.17,0.35,0.25,0.59,0.25c0.23,0,0.43-0.08,0.59-0.25c0.16-0.17,0.24-0.37,0.24-0.61
	c0-0.23-0.08-0.42-0.24-0.58s-0.35-0.24-0.59-0.24c-0.23,0-0.43,0.08-0.59,0.24S7.92,20.76,7.92,20.98z M7.92,24.61
	c0,0.21,0.08,0.4,0.24,0.57c0.18,0.16,0.37,0.24,0.58,0.24c0.24,0,0.43-0.08,0.59-0.23c0.16-0.16,0.23-0.35,0.23-0.58
	c0-0.24-0.08-0.43-0.24-0.59c-0.16-0.16-0.35-0.23-0.59-0.23c-0.23,0-0.43,0.08-0.59,0.23C8,24.17,7.92,24.37,7.92,24.61z
	 M9.97,4.68c0,0.24,0.08,0.44,0.24,0.59l0.66,0.66c0.16,0.16,0.34,0.25,0.53,0.25c0.21,0.03,0.41-0.04,0.61-0.22
	c0.2-0.18,0.3-0.39,0.3-0.63c0-0.24-0.08-0.46-0.24-0.64l-0.64-0.61c-0.15-0.17-0.34-0.25-0.58-0.25c-0.25,0-0.46,0.08-0.63,0.25
	C10.05,4.24,9.97,4.44,9.97,4.68z M11.1,22.9c0,0.22,0.08,0.42,0.24,0.6c0.16,0.16,0.36,0.24,0.58,0.24c0.24,0,0.44-0.08,0.6-0.24
	s0.25-0.36,0.25-0.6c0-0.23-0.08-0.43-0.25-0.6s-0.37-0.25-0.6-0.25c-0.23,0-0.42,0.08-0.58,0.25S11.1,22.67,11.1,22.9z M11.1,19.3
	c0,0.23,0.08,0.42,0.24,0.58s0.36,0.24,0.58,0.24c0.24,0,0.44-0.08,0.6-0.24c0.17-0.16,0.25-0.35,0.25-0.59
	c0-0.23-0.08-0.43-0.25-0.59s-0.37-0.24-0.6-0.24c-0.23,0-0.42,0.08-0.58,0.24S11.1,19.07,11.1,19.3z M11.1,26.56
	c0,0.22,0.08,0.41,0.24,0.57c0.17,0.17,0.36,0.25,0.58,0.25c0.24,0,0.44-0.08,0.6-0.23c0.17-0.16,0.25-0.35,0.25-0.59
	s-0.08-0.44-0.25-0.6c-0.17-0.17-0.37-0.25-0.6-0.25c-0.22,0-0.41,0.08-0.58,0.25C11.18,26.13,11.1,26.33,11.1,26.56z M14.32,20.98
	c0,0.24,0.08,0.44,0.24,0.61c0.16,0.17,0.36,0.25,0.59,0.25s0.43-0.08,0.59-0.25c0.16-0.17,0.24-0.37,0.24-0.61
	c0-0.23-0.08-0.42-0.24-0.58s-0.35-0.24-0.59-0.24s-0.43,0.08-0.59,0.24S14.32,20.76,14.32,20.98z M14.32,24.61
	c0,0.21,0.08,0.4,0.23,0.57c0.18,0.16,0.38,0.24,0.6,0.24c0.24,0,0.43-0.08,0.59-0.23c0.16-0.16,0.23-0.35,0.23-0.58
	c0-0.24-0.08-0.43-0.24-0.59c-0.16-0.16-0.35-0.23-0.59-0.23c-0.24,0-0.44,0.08-0.6,0.24C14.4,24.18,14.32,24.38,14.32,24.61z
	 M15.3,9.06c0.69-0.66,1.51-0.99,2.47-0.99c0.97,0,1.8,0.35,2.48,1.04c0.69,0.69,1.03,1.53,1.03,2.49c0,0.62-0.17,1.24-0.51,1.84
	C19.82,12.48,18.66,12,17.3,12h-0.32C16.68,10.83,16.12,9.85,15.3,9.06z M16.9,3.84c0,0.23,0.08,0.43,0.25,0.58s0.37,0.23,0.61,0.23
	s0.43-0.08,0.59-0.23c0.16-0.16,0.23-0.35,0.23-0.58V1.8c0-0.24-0.08-0.44-0.24-0.61S18,0.94,17.77,0.94s-0.43,0.09-0.6,0.26
	c-0.17,0.17-0.26,0.37-0.26,0.6V3.84z M22.42,6.11c0,0.23,0.08,0.43,0.25,0.59c0.15,0.16,0.34,0.24,0.56,0.26s0.43-0.07,0.62-0.26
	l1.43-1.43c0.18-0.18,0.26-0.38,0.26-0.61c0-0.24-0.09-0.44-0.26-0.61c-0.17-0.17-0.37-0.25-0.6-0.25c-0.22,0-0.41,0.08-0.58,0.25
	l-1.43,1.46C22.5,5.67,22.42,5.87,22.42,6.11z M23.22,17.91c0,0.25,0.08,0.46,0.24,0.62l0.64,0.63c0.24,0.16,0.46,0.24,0.64,0.24
	c0.21,0,0.39-0.09,0.56-0.26c0.17-0.17,0.25-0.38,0.25-0.61c0-0.23-0.09-0.42-0.26-0.58l-0.62-0.65c-0.18-0.16-0.38-0.24-0.61-0.24
	s-0.43,0.08-0.59,0.25C23.3,17.47,23.22,17.67,23.22,17.91z M24.67,11.6c0,0.24,0.09,0.43,0.26,0.59c0.17,0.18,0.38,0.27,0.62,0.27
	h2.02c0.23,0,0.43-0.08,0.6-0.25s0.25-0.37,0.25-0.61c0-0.24-0.08-0.44-0.25-0.6s-0.37-0.25-0.6-0.25h-2.02
	c-0.24,0-0.44,0.08-0.62,0.25S24.67,11.37,24.67,11.6z`},child:[]}]})(n)}function Fg(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.37,14.62c0-0.24,0.08-0.45,0.25-0.62c0.17-0.16,0.38-0.24,0.6-0.24h2.04c0.23,0,0.42,0.08,0.58,0.25
	c0.15,0.17,0.23,0.37,0.23,0.61S8,15.06,7.85,15.23c-0.15,0.17-0.35,0.25-0.58,0.25H5.23c-0.23,0-0.43-0.08-0.6-0.25
	C4.46,15.06,4.37,14.86,4.37,14.62z M7.23,21.55c0-0.23,0.08-0.43,0.23-0.61l1.47-1.43c0.15-0.16,0.35-0.23,0.59-0.23
	c0.24,0,0.44,0.08,0.6,0.23s0.24,0.34,0.24,0.57c0,0.24-0.08,0.46-0.24,0.64L8.7,22.14c-0.41,0.32-0.82,0.32-1.23,0
	C7.31,21.98,7.23,21.78,7.23,21.55z M7.23,7.71c0-0.23,0.08-0.43,0.23-0.61C7.66,6.93,7.87,6.85,8.1,6.85
	c0.22,0,0.42,0.08,0.59,0.24l1.43,1.47c0.16,0.15,0.24,0.35,0.24,0.59c0,0.24-0.08,0.44-0.24,0.6s-0.36,0.24-0.6,0.24
	c-0.24,0-0.44-0.08-0.59-0.24L7.47,8.32C7.31,8.16,7.23,7.95,7.23,7.71z M9.78,14.62c0-0.93,0.23-1.8,0.7-2.6s1.1-1.44,1.91-1.91
	s1.67-0.7,2.6-0.7c0.7,0,1.37,0.14,2.02,0.42c0.64,0.28,1.2,0.65,1.66,1.12c0.47,0.47,0.84,1.02,1.11,1.66
	c0.27,0.64,0.41,1.32,0.41,2.02c0,0.94-0.23,1.81-0.7,2.61c-0.47,0.8-1.1,1.43-1.9,1.9c-0.8,0.47-1.67,0.7-2.61,0.7
	s-1.81-0.23-2.61-0.7c-0.8-0.47-1.43-1.1-1.9-1.9C10.02,16.43,9.78,15.56,9.78,14.62z M11.48,14.62c0,0.98,0.34,1.81,1.03,2.5
	c0.68,0.69,1.51,1.04,2.49,1.04s1.81-0.35,2.5-1.04s1.04-1.52,1.04-2.5c0-0.96-0.35-1.78-1.04-2.47c-0.69-0.68-1.52-1.02-2.5-1.02
	c-0.97,0-1.8,0.34-2.48,1.02C11.82,12.84,11.48,13.66,11.48,14.62z M14.14,22.4c0-0.24,0.08-0.44,0.25-0.6s0.37-0.24,0.6-0.24
	c0.24,0,0.45,0.08,0.61,0.24s0.24,0.36,0.24,0.6v1.99c0,0.24-0.08,0.45-0.25,0.62c-0.17,0.17-0.37,0.25-0.6,0.25
	s-0.44-0.08-0.6-0.25c-0.17-0.17-0.25-0.38-0.25-0.62V22.4z M14.14,6.9V4.86c0-0.23,0.08-0.43,0.25-0.6C14.56,4.09,14.76,4,15,4
	s0.43,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6V6.9c0,0.23-0.08,0.42-0.25,0.58S15.23,7.71,15,7.71s-0.44-0.08-0.6-0.23
	S14.14,7.13,14.14,6.9z M19.66,20.08c0-0.23,0.08-0.42,0.23-0.56c0.15-0.16,0.34-0.23,0.56-0.23c0.24,0,0.44,0.08,0.6,0.23
	l1.46,1.43c0.16,0.17,0.24,0.38,0.24,0.61c0,0.23-0.08,0.43-0.24,0.59c-0.4,0.31-0.8,0.31-1.2,0l-1.42-1.42
	C19.74,20.55,19.66,20.34,19.66,20.08z M19.66,9.16c0-0.25,0.08-0.45,0.23-0.59l1.42-1.47c0.17-0.16,0.37-0.24,0.59-0.24
	c0.24,0,0.44,0.08,0.6,0.25c0.17,0.17,0.25,0.37,0.25,0.6c0,0.25-0.08,0.46-0.24,0.62l-1.46,1.43c-0.18,0.16-0.38,0.24-0.6,0.24
	c-0.23,0-0.41-0.08-0.56-0.24S19.66,9.4,19.66,9.16z M21.92,14.62c0-0.24,0.08-0.44,0.24-0.62c0.16-0.16,0.35-0.24,0.57-0.24h2.02
	c0.23,0,0.43,0.09,0.6,0.26c0.17,0.17,0.26,0.37,0.26,0.6s-0.09,0.43-0.26,0.6c-0.17,0.17-0.37,0.25-0.6,0.25h-2.02
	c-0.23,0-0.43-0.08-0.58-0.25S21.92,14.86,21.92,14.62z`},child:[]}]})(n)}function Px(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.64,16.91c0-1.15,0.36-2.17,1.08-3.07c0.72-0.9,1.63-1.47,2.73-1.73c0.31-1.36,1.02-2.48,2.11-3.36s2.34-1.31,3.75-1.31
	c1.38,0,2.6,0.43,3.68,1.28c1.08,0.85,1.78,1.95,2.1,3.29h0.32c0.89,0,1.72,0.22,2.48,0.65s1.37,1.03,1.81,1.78
	c0.44,0.75,0.67,1.58,0.67,2.47c0,0.88-0.21,1.69-0.63,2.44c-0.42,0.75-1,1.35-1.73,1.8c-0.73,0.45-1.53,0.69-2.4,0.71
	c-0.13,0-0.2-0.06-0.2-0.17v-1.33c0-0.12,0.07-0.18,0.2-0.18c0.85-0.04,1.58-0.38,2.18-1.02s0.9-1.39,0.9-2.26s-0.33-1.62-0.98-2.26
	s-1.42-0.96-2.31-0.96h-1.61c-0.12,0-0.18-0.06-0.18-0.17l-0.08-0.58c-0.11-1.08-0.58-1.99-1.39-2.71
	c-0.82-0.73-1.76-1.09-2.85-1.09c-1.09,0-2.05,0.36-2.85,1.09c-0.81,0.73-1.26,1.63-1.36,2.71l-0.07,0.53c0,0.12-0.07,0.19-0.2,0.19
	l-0.53,0.03c-0.83,0.1-1.53,0.46-2.1,1.07s-0.85,1.33-0.85,2.16c0,0.87,0.3,1.62,0.9,2.26s1.33,0.98,2.18,1.02
	c0.11,0,0.17,0.06,0.17,0.18v1.33c0,0.11-0.06,0.17-0.17,0.17c-1.34-0.06-2.47-0.57-3.4-1.53S4.64,18.24,4.64,16.91z M9.99,23.6
	c0-0.04,0.01-0.11,0.04-0.2l1.63-5.77c0.06-0.19,0.17-0.34,0.32-0.44c0.15-0.1,0.31-0.15,0.46-0.15c0.07,0,0.15,0.01,0.24,0.03
	c0.24,0.04,0.42,0.17,0.54,0.37c0.12,0.2,0.15,0.42,0.08,0.67l-1.63,5.73c-0.12,0.43-0.4,0.64-0.82,0.64
	c-0.04,0-0.07-0.01-0.11-0.02c-0.06-0.02-0.09-0.03-0.1-0.03c-0.22-0.06-0.38-0.17-0.49-0.33C10.04,23.93,9.99,23.77,9.99,23.6z
	 M12.61,26.41l2.44-8.77c0.04-0.19,0.14-0.34,0.3-0.44c0.16-0.1,0.32-0.15,0.49-0.15c0.09,0,0.18,0.01,0.27,0.03
	c0.22,0.06,0.38,0.19,0.49,0.39c0.11,0.2,0.13,0.41,0.07,0.64l-2.43,8.78c-0.04,0.17-0.13,0.31-0.29,0.43
	c-0.16,0.12-0.32,0.18-0.51,0.18c-0.09,0-0.18-0.02-0.25-0.05c-0.2-0.05-0.37-0.18-0.52-0.39C12.56,26.88,12.54,26.67,12.61,26.41z
	 M16.74,23.62c0-0.04,0.01-0.11,0.04-0.23l1.63-5.77c0.06-0.19,0.16-0.34,0.3-0.44c0.15-0.1,0.3-0.15,0.46-0.15
	c0.08,0,0.17,0.01,0.26,0.03c0.21,0.06,0.36,0.16,0.46,0.31c0.1,0.15,0.15,0.31,0.15,0.47c0,0.03-0.01,0.08-0.02,0.14
	s-0.02,0.1-0.02,0.12l-1.63,5.73c-0.04,0.19-0.13,0.35-0.28,0.46s-0.32,0.17-0.51,0.17l-0.24-0.05c-0.2-0.06-0.35-0.16-0.46-0.32
	C16.79,23.94,16.74,23.78,16.74,23.62z`},child:[]}]})(n)}function qx(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.63,16.91c0,1.11,0.33,2.1,0.99,2.97s1.52,1.47,2.58,1.79l-0.66,1.68c-0.03,0.14,0.02,0.22,0.14,0.22h2.13l-0.98,4.3h0.28
	l3.92-5.75c0.04-0.04,0.04-0.09,0.01-0.14c-0.03-0.05-0.08-0.07-0.15-0.07h-2.18l2.48-4.64c0.07-0.14,0.02-0.22-0.14-0.22h-2.94
	c-0.09,0-0.17,0.05-0.23,0.15l-1.07,2.87c-0.71-0.18-1.3-0.57-1.77-1.16c-0.47-0.59-0.7-1.26-0.7-2.01c0-0.83,0.28-1.55,0.85-2.17
	c0.57-0.61,1.27-0.97,2.1-1.07l0.53-0.07c0.13,0,0.2-0.06,0.2-0.18l0.07-0.51c0.11-1.08,0.56-1.99,1.37-2.72
	c0.81-0.73,1.76-1.1,2.85-1.1c1.09,0,2.04,0.37,2.85,1.1c0.82,0.73,1.28,1.64,1.4,2.72l0.07,0.58c0,0.11,0.06,0.17,0.18,0.17h1.6
	c0.91,0,1.68,0.32,2.32,0.95c0.64,0.63,0.97,1.4,0.97,2.28c0,0.85-0.3,1.59-0.89,2.21c-0.59,0.62-1.33,0.97-2.2,1.04
	c-0.13,0-0.2,0.06-0.2,0.18v1.37c0,0.11,0.07,0.17,0.2,0.17c1.33-0.04,2.46-0.55,3.39-1.51s1.39-2.11,1.39-3.45
	c0-0.9-0.22-1.73-0.67-2.49c-0.44-0.76-1.05-1.36-1.81-1.8c-0.77-0.44-1.6-0.66-2.5-0.66H20.1c-0.33-1.33-1.04-2.42-2.11-3.26
	s-2.3-1.27-3.68-1.27c-1.41,0-2.67,0.44-3.76,1.31s-1.79,1.99-2.1,3.36c-1.11,0.26-2.02,0.83-2.74,1.73S4.63,15.76,4.63,16.91z
	 M12.77,26.62c0,0.39,0.19,0.65,0.58,0.77c0.01,0,0.05,0,0.11,0.01c0.06,0.01,0.11,0.01,0.14,0.01c0.17,0,0.33-0.05,0.49-0.15
	c0.16-0.1,0.27-0.26,0.32-0.48l2.25-8.69c0.06-0.24,0.04-0.45-0.07-0.65c-0.11-0.19-0.27-0.32-0.5-0.39
	c-0.17-0.02-0.26-0.03-0.26-0.03c-0.16,0-0.32,0.05-0.47,0.15c-0.15,0.1-0.26,0.25-0.31,0.45l-2.26,8.72
	C12.78,26.44,12.77,26.53,12.77,26.62z M16.93,23.56c0,0.13,0.03,0.26,0.1,0.38c0.14,0.22,0.31,0.37,0.51,0.44
	c0.11,0.03,0.21,0.05,0.3,0.05s0.2-0.02,0.32-0.08c0.21-0.09,0.35-0.28,0.42-0.57l1.44-5.67c0.03-0.14,0.05-0.23,0.05-0.27
	c0-0.15-0.05-0.3-0.16-0.45s-0.26-0.26-0.46-0.32c-0.17-0.02-0.26-0.03-0.26-0.03c-0.17,0-0.33,0.05-0.47,0.15
	c-0.14,0.1-0.24,0.25-0.3,0.45l-1.46,5.7c0,0.02,0,0.05-0.01,0.11C16.93,23.5,16.93,23.53,16.93,23.56z`},child:[]}]})(n)}function Yx(n){return Ls({attr:{version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 30 30",style:"enable-background:new 0 0 30 30;"},child:[{tag:"path",attr:{d:`M4.65,15.5c0-0.22,0.08-0.41,0.23-0.56c0.16-0.15,0.35-0.22,0.57-0.22h12.08c0.22,0,0.4,0.07,0.54,0.22
	c0.14,0.15,0.22,0.34,0.22,0.57c0,0.22-0.07,0.4-0.22,0.54c-0.14,0.14-0.32,0.22-0.54,0.22H5.45c-0.22,0-0.42-0.07-0.57-0.22
	C4.72,15.9,4.65,15.72,4.65,15.5z M7.06,12.6c0-0.22,0.08-0.4,0.23-0.55c0.15-0.15,0.34-0.23,0.56-0.23h12.09
	c0.21,0,0.39,0.08,0.54,0.23c0.15,0.15,0.22,0.33,0.22,0.55c0,0.22-0.07,0.4-0.22,0.56c-0.15,0.15-0.33,0.23-0.54,0.23H7.86
	c-0.22,0-0.41-0.08-0.56-0.23S7.06,12.82,7.06,12.6z M8.68,18.34c0-0.21,0.08-0.39,0.24-0.54c0.14-0.14,0.32-0.22,0.54-0.22h12.1
	c0.22,0,0.41,0.07,0.56,0.22c0.15,0.14,0.22,0.32,0.22,0.54s-0.08,0.41-0.23,0.56s-0.34,0.23-0.56,0.23H9.46
	c-0.22,0-0.4-0.08-0.56-0.23S8.68,18.56,8.68,18.34z M19.26,15.5c0-0.23,0.07-0.42,0.22-0.57c0.15-0.15,0.34-0.22,0.57-0.22h4.52
	c0.23,0,0.42,0.07,0.57,0.22c0.15,0.15,0.22,0.34,0.22,0.56c0,0.22-0.07,0.4-0.22,0.54c-0.15,0.14-0.34,0.22-0.56,0.22h-4.52
	c-0.23,0-0.42-0.07-0.57-0.22C19.33,15.9,19.26,15.72,19.26,15.5z`},child:[]}]})(n)}const Xx=n=>n?`https://openweathermap.org/img/wn/${n}@2x.png`:null,Gx=(n,e)=>{if(!n&&!e)return Fg;const a=(n||"").toLowerCase(),i=(e||"").toLowerCase();return a.includes("clear")||a.includes("sunny")||i.includes("clear")||i.includes("sunny")?Fg:a.includes("cloudy")||i.includes("cloudy")?a.includes("partly")||i.includes("partly")?Vg:Hx:a.includes("rain")||i.includes("rain")||a.includes("drizzle")||i.includes("drizzle")?a.includes("heavy")||a.includes("shower")?Px:Vx:a.includes("thunder")||a.includes("storm")||i.includes("thunder")||i.includes("storm")?qx:a.includes("snow")||i.includes("snow")||a.includes("sleet")||i.includes("sleet")?Fx:a.includes("fog")||a.includes("mist")||i.includes("fog")||i.includes("mist")?Ux:a.includes("wind")||i.includes("wind")?Yx:Vg};function Qx(){const{weather:n}=Tx();if(!n)return d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Weather"}),d.jsx("div",{children:"Loading..."})]});const e=n.description||n.weather_main||"Data unavailable",a=Xx(n.weather_icon),i=Gx(n.description,n.weather_type);return d.jsxs("div",{className:"widget",children:[d.jsxs("div",{className:"weather-main",children:[d.jsxs("div",{className:"weather-icon-container",children:[a?d.jsx("img",{src:a,alt:e,className:"weather-icon-image",onError:o=>{o.target.style.display="none";const r=o.target.nextSibling;r&&(r.style.display="block")}}):null,d.jsx(i,{className:"weather-icon",style:{display:a?"none":"block"}})]}),d.jsxs("div",{className:"weather-info",children:[d.jsx("div",{className:"weather-temp",children:n.temperature!==null&&n.temperature!==void 0?`${n.temperature}C`:"--C"}),d.jsx("div",{className:"weather-condition",children:e})]})]}),d.jsxs("div",{className:"stat-boxes",children:[n.humidity!==null&&n.humidity!==void 0&&d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-box-label",children:"Humidity"}),d.jsxs("div",{className:"stat-box-value",children:[n.humidity,"%"]})]}),n.wind_speed_kph!==null&&n.wind_speed_kph!==void 0&&n.wind_speed_kph>0&&d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-box-label",children:"Wind Speed"}),d.jsxs("div",{className:"stat-box-value",children:[n.wind_speed_kph," km/h"]})]}),n.wind_direction&&n.wind_direction!=="-99"&&n.wind_direction!=="Direction not available"&&d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-box-label",children:"Wind Direction"}),d.jsx("div",{className:"stat-box-value",children:n.wind_direction_full||n.wind_direction})]}),n.visibility_km!==null&&n.visibility_km!==void 0&&d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-box-label",children:"Visibility"}),d.jsxs("div",{className:"stat-box-value",children:[n.visibility_km," km"]})]}),n.cloud_coverage!==null&&n.cloud_coverage!==void 0&&d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-box-label",children:"Clouds"}),d.jsxs("div",{className:"stat-box-value",children:[n.cloud_coverage,"%"]})]}),n.snow_3h!==null&&n.snow_3h!==void 0&&n.snow_3h>0&&d.jsxs("div",{className:"stat-box",children:[d.jsx("div",{className:"stat-box-label",children:"Snow (3h)"}),d.jsxs("div",{className:"stat-box-value",children:[n.snow_3h," mm"]})]})]})]})}function Ix(n=3e5,e=30){const[a,i]=C.useState(null),[o,r]=C.useState(!0);return C.useEffect(()=>{const u=async()=>{try{const m=await Nx.getTraffic(e);console.log("=== Waze Traffic API Full Response ==="),console.log("Complete API Response:",JSON.stringify(m,null,2)),console.log("Data object:",m.data),console.log("Summary:",m.data?.summary),console.log("Location:",m.data?.location),console.log("Conditions:",m.data?.conditions),console.log("API Status:",m.data?.api_status),m.data?.conditions&&(console.log("Alerts:",m.data.conditions.filter(g=>g.type==="alert")),console.log("Jams:",m.data.conditions.filter(g=>g.type==="jam"))),console.log("====================================="),m.success&&m.data&&i(m.data),r(!1)}catch(m){console.error("Error fetching traffic:",m),r(!1)}};u();const f=setInterval(u,n);return()=>clearInterval(f)},[n,e]),{traffic:a,loading:o}}function Kx(){const{traffic:n,loading:e}=Ix();if(e||!n)return d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Traffic Conditions"}),d.jsx("div",{children:"Loading..."})]});const a=n.summary||{};n.location;const i=r=>{if(!r||r===0)return"No delay";const u=Math.floor(r/60);return u<1?"< 1 min":`${u} min${u>1?"s":""}`},o={display:"flex",justifyContent:"space-between",alignItems:"center"};return d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Traffic Conditions"}),d.jsxs("div",{className:"widget-content",children:[d.jsxs("div",{className:"stat-box",style:{marginBottom:"0.5em"},children:[d.jsxs("div",{className:"stat-item",style:o,children:[d.jsx("div",{className:"stat-label",children:"Total Incidents"}),d.jsx("div",{className:"stat-value",children:a.total_incidents!==void 0?a.total_incidents:0})]}),d.jsxs("div",{className:"stat-item",style:o,children:[d.jsx("div",{className:"stat-label",children:"Alerts"}),d.jsx("div",{className:"stat-value",children:a.total_alerts!==void 0?a.total_alerts:0})]}),d.jsxs("div",{className:"stat-item",style:o,children:[d.jsx("div",{className:"stat-label",children:"Jams"}),d.jsx("div",{className:"stat-value",children:a.total_jams!==void 0?a.total_jams:0})]})]}),a.average_speed!==void 0&&a.average_speed!==null&&d.jsx("div",{className:"stat-box",children:d.jsxs("div",{className:"stat-item",style:o,children:[d.jsx("div",{className:"stat-label",children:"Avg Speed"}),d.jsxs("div",{className:"stat-value",children:[Math.round(a.average_speed)," mph"]})]})}),a.delay_seconds!==void 0&&a.delay_seconds!==null&&d.jsx("div",{className:"stat-box",children:d.jsxs("div",{className:"stat-item",style:o,children:[d.jsx("div",{className:"stat-label",children:"Delay"}),d.jsx("div",{className:"stat-value",children:i(a.delay_seconds)})]})}),a.severity_breakdown&&(a.severity_breakdown.major>0||a.severity_breakdown.moderate>0||a.severity_breakdown.minor>0)&&d.jsxs("div",{className:"stat-box",children:[a.severity_breakdown.major>0&&d.jsxs("div",{className:"stat-item",style:o,children:[d.jsx("div",{className:"stat-label",children:"Major"}),d.jsx("div",{className:"stat-value",style:{color:"#f44336"},children:a.severity_breakdown.major})]}),a.severity_breakdown.moderate>0&&d.jsxs("div",{className:"stat-item",style:o,children:[d.jsx("div",{className:"stat-label",children:"Moderate"}),d.jsx("div",{className:"stat-value",style:{color:"#ff9800"},children:a.severity_breakdown.moderate})]}),a.severity_breakdown.minor>0&&d.jsxs("div",{className:"stat-item",style:o,children:[d.jsx("div",{className:"stat-label",children:"Minor"}),d.jsx("div",{className:"stat-value",style:{color:"#4caf50"},children:a.severity_breakdown.minor})]})]}),n.api_status==="not_configured"&&d.jsx("div",{style:{fontSize:"0.8em",color:"#ff9800",marginTop:"0.5em"},children:"Traffic API not configured. Add Waze RapidAPI key to enable."})]})]})}function Wx(){const{uptime:n,formatUptime:e}=Ax(),i=e(n).split(/(\d+)/).filter(Boolean);return d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"System Uptime"}),d.jsx("div",{className:"uptime-display",children:i.map((o,r)=>/^\d+$/.test(o)?d.jsx("span",{className:"uptime-number",children:o},r):d.jsx("span",{className:"uptime-label",children:o},r))})]})}function Zx(){const[n,e]=C.useState({local_ip:"",remote_ip:""}),[a,i]=C.useState(!0);return C.useEffect(()=>{(async()=>{try{const r=await _c.getIPs();e(r),i(!1)}catch(r){console.error("Error fetching IP addresses:",r),i(!1)}})()},[]),a?d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Network IPs"}),d.jsx("div",{className:"widget-content",children:d.jsx("div",{className:"stat-item",children:d.jsx("div",{className:"stat-label",children:"Loading..."})})})]}):d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Network IPs"}),d.jsxs("div",{className:"widget-content",children:[d.jsxs("div",{className:"stat-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("div",{className:"stat-label",children:"Local IP"}),d.jsx("div",{className:"stat-value",children:n.local_ip||"Unknown"})]}),d.jsxs("div",{className:"stat-item",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("div",{className:"stat-label",children:"Remote IP"}),d.jsx("div",{className:"stat-value",children:n.remote_ip||"Unknown"})]})]})]})}function $x(){const[n,e]=C.useState(""),[a,i]=C.useState("");return C.useEffect(()=>{const o=()=>{const u=new Date,f=u.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),m=u.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});e(f),i(m)};o();const r=setInterval(o,1e3);return()=>clearInterval(r)},[]),d.jsx("div",{className:"widget",children:d.jsxs("div",{className:"time-date-content",children:[d.jsx("div",{className:"time-display",children:n}),d.jsx("div",{className:"date-display",children:a})]})})}function Jx(){return d.jsxs("div",{className:"left-panel",children:[d.jsx($x,{}),d.jsx(Qx,{}),d.jsx(Ex,{}),d.jsx(Kx,{}),d.jsx(Zx,{}),d.jsx(Wx,{})]})}function Do(n){return n+.5|0}const Ra=(n,e,a)=>Math.max(Math.min(n,a),e);function mo(n){return Ra(Do(n*2.55),0,255)}function Ha(n){return Ra(Do(n*255),0,255)}function ca(n){return Ra(Do(n/2.55)/100,0,1)}function Pg(n){return Ra(Do(n*100),0,100)}const ns={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},lf=[..."0123456789ABCDEF"],t5=n=>lf[n&15],e5=n=>lf[(n&240)>>4]+lf[n&15],Yr=n=>(n&240)>>4===(n&15),n5=n=>Yr(n.r)&&Yr(n.g)&&Yr(n.b)&&Yr(n.a);function s5(n){var e=n.length,a;return n[0]==="#"&&(e===4||e===5?a={r:255&ns[n[1]]*17,g:255&ns[n[2]]*17,b:255&ns[n[3]]*17,a:e===5?ns[n[4]]*17:255}:(e===7||e===9)&&(a={r:ns[n[1]]<<4|ns[n[2]],g:ns[n[3]]<<4|ns[n[4]],b:ns[n[5]]<<4|ns[n[6]],a:e===9?ns[n[7]]<<4|ns[n[8]]:255})),a}const a5=(n,e)=>n<255?e(n):"";function i5(n){var e=n5(n)?t5:e5;return n?"#"+e(n.r)+e(n.g)+e(n.b)+a5(n.a,e):void 0}const l5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function B1(n,e,a){const i=e*Math.min(a,1-a),o=(r,u=(r+n/30)%12)=>a-i*Math.max(Math.min(u-3,9-u,1),-1);return[o(0),o(8),o(4)]}function o5(n,e,a){const i=(o,r=(o+n/60)%6)=>a-a*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function r5(n,e,a){const i=B1(n,1,.5);let o;for(e+a>1&&(o=1/(e+a),e*=o,a*=o),o=0;o<3;o++)i[o]*=1-e-a,i[o]+=e;return i}function c5(n,e,a,i,o){return n===o?(e-a)/i+(e<a?6:0):e===o?(a-n)/i+2:(n-e)/i+4}function bf(n){const a=n.r/255,i=n.g/255,o=n.b/255,r=Math.max(a,i,o),u=Math.min(a,i,o),f=(r+u)/2;let m,g,y;return r!==u&&(y=r-u,g=f>.5?y/(2-r-u):y/(r+u),m=c5(a,i,o,y,r),m=m*60+.5),[m|0,g||0,f]}function xf(n,e,a,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,a,i)).map(Ha)}function Sf(n,e,a){return xf(B1,n,e,a)}function u5(n,e,a){return xf(r5,n,e,a)}function d5(n,e,a){return xf(o5,n,e,a)}function H1(n){return(n%360+360)%360}function f5(n){const e=l5.exec(n);let a=255,i;if(!e)return;e[5]!==i&&(a=e[6]?mo(+e[5]):Ha(+e[5]));const o=H1(+e[2]),r=+e[3]/100,u=+e[4]/100;return e[1]==="hwb"?i=u5(o,r,u):e[1]==="hsv"?i=d5(o,r,u):i=Sf(o,r,u),{r:i[0],g:i[1],b:i[2],a}}function h5(n,e){var a=bf(n);a[0]=H1(a[0]+e),a=Sf(a),n.r=a[0],n.g=a[1],n.b=a[2]}function m5(n){if(!n)return;const e=bf(n),a=e[0],i=Pg(e[1]),o=Pg(e[2]);return n.a<255?`hsla(${a}, ${i}%, ${o}%, ${ca(n.a)})`:`hsl(${a}, ${i}%, ${o}%)`}const qg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Yg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function g5(){const n={},e=Object.keys(Yg),a=Object.keys(qg);let i,o,r,u,f;for(i=0;i<e.length;i++){for(u=f=e[i],o=0;o<a.length;o++)r=a[o],f=f.replace(r,qg[r]);r=parseInt(Yg[u],16),n[f]=[r>>16&255,r>>8&255,r&255]}return n}let Xr;function p5(n){Xr||(Xr=g5(),Xr.transparent=[0,0,0,0]);const e=Xr[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const y5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function v5(n){const e=y5.exec(n);let a=255,i,o,r;if(e){if(e[7]!==i){const u=+e[7];a=e[8]?mo(u):Ra(u*255,0,255)}return i=+e[1],o=+e[3],r=+e[5],i=255&(e[2]?mo(i):Ra(i,0,255)),o=255&(e[4]?mo(o):Ra(o,0,255)),r=255&(e[6]?mo(r):Ra(r,0,255)),{r:i,g:o,b:r,a}}}function b5(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ca(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Fd=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,il=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function x5(n,e,a){const i=il(ca(n.r)),o=il(ca(n.g)),r=il(ca(n.b));return{r:Ha(Fd(i+a*(il(ca(e.r))-i))),g:Ha(Fd(o+a*(il(ca(e.g))-o))),b:Ha(Fd(r+a*(il(ca(e.b))-r))),a:n.a+a*(e.a-n.a)}}function Gr(n,e,a){if(n){let i=bf(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*a,e===0?360:1)),i=Sf(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function U1(n,e){return n&&Object.assign(e||{},n)}function Xg(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ha(n[3]))):(e=U1(n,{r:0,g:0,b:0,a:1}),e.a=Ha(e.a)),e}function S5(n){return n.charAt(0)==="r"?v5(n):f5(n)}class So{constructor(e){if(e instanceof So)return e;const a=typeof e;let i;a==="object"?i=Xg(e):a==="string"&&(i=s5(e)||p5(e)||S5(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=U1(this._rgb);return e&&(e.a=ca(e.a)),e}set rgb(e){this._rgb=Xg(e)}rgbString(){return this._valid?b5(this._rgb):void 0}hexString(){return this._valid?i5(this._rgb):void 0}hslString(){return this._valid?m5(this._rgb):void 0}mix(e,a){if(e){const i=this.rgb,o=e.rgb;let r;const u=a===r?.5:a,f=2*u-1,m=i.a-o.a,g=((f*m===-1?f:(f+m)/(1+f*m))+1)/2;r=1-g,i.r=255&g*i.r+r*o.r+.5,i.g=255&g*i.g+r*o.g+.5,i.b=255&g*i.b+r*o.b+.5,i.a=u*i.a+(1-u)*o.a,this.rgb=i}return this}interpolate(e,a){return e&&(this._rgb=x5(this._rgb,e._rgb,a)),this}clone(){return new So(this.rgb)}alpha(e){return this._rgb.a=Ha(e),this}clearer(e){const a=this._rgb;return a.a*=1-e,this}greyscale(){const e=this._rgb,a=Do(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=a,this}opaquer(e){const a=this._rgb;return a.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Gr(this._rgb,2,e),this}darken(e){return Gr(this._rgb,2,-e),this}saturate(e){return Gr(this._rgb,1,e),this}desaturate(e){return Gr(this._rgb,1,-e),this}rotate(e){return h5(this._rgb,e),this}}function la(){}const _5=(()=>{let n=0;return()=>n++})();function ee(n){return n==null}function Ge(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Wt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function mn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Os(n,e){return mn(n)?n:e}function Ut(n,e){return typeof n>"u"?e:n}const j5=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Se(n,e,a){if(n&&typeof n.call=="function")return n.apply(a,e)}function oe(n,e,a,i){let o,r,u;if(Ge(n))for(r=n.length,o=0;o<r;o++)e.call(a,n[o],o);else if(Wt(n))for(u=Object.keys(n),r=u.length,o=0;o<r;o++)e.call(a,n[u[o]],u[o])}function dc(n,e){let a,i,o,r;if(!n||!e||n.length!==e.length)return!1;for(a=0,i=n.length;a<i;++a)if(o=n[a],r=e[a],o.datasetIndex!==r.datasetIndex||o.index!==r.index)return!1;return!0}function fc(n){if(Ge(n))return n.map(fc);if(Wt(n)){const e=Object.create(null),a=Object.keys(n),i=a.length;let o=0;for(;o<i;++o)e[a[o]]=fc(n[a[o]]);return e}return n}function V1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function N5(n,e,a,i){if(!V1(n))return;const o=e[n],r=a[n];Wt(o)&&Wt(r)?_o(o,r,i):e[n]=fc(r)}function _o(n,e,a){const i=Ge(e)?e:[e],o=i.length;if(!Wt(n))return n;a=a||{};const r=a.merger||N5;let u;for(let f=0;f<o;++f){if(u=i[f],!Wt(u))continue;const m=Object.keys(u);for(let g=0,y=m.length;g<y;++g)r(m[g],n,u,a)}return n}function yo(n,e){return _o(n,e,{merger:w5})}function w5(n,e,a){if(!V1(n))return;const i=e[n],o=a[n];Wt(i)&&Wt(o)?yo(i,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=fc(o))}const Gg={"":n=>n,x:n=>n.x,y:n=>n.y};function C5(n){const e=n.split("."),a=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(a.push(i),i="");return a}function M5(n){const e=C5(n);return a=>{for(const i of e){if(i==="")break;a=a&&a[i]}return a}}function ul(n,e){return(Gg[e]||(Gg[e]=M5(e)))(n)}function _f(n){return n.charAt(0).toUpperCase()+n.slice(1)}const jo=n=>typeof n<"u",Ua=n=>typeof n=="function",Qg=(n,e)=>{if(n.size!==e.size)return!1;for(const a of n)if(!e.has(a))return!1;return!0};function A5(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const tn=Math.PI,ys=2*tn,E5=ys+tn,hc=Number.POSITIVE_INFINITY,T5=tn/180,ps=tn/2,oi=tn/4,Ig=tn*2/3,F1=Math.log10,ks=Math.sign;function vo(n,e,a){return Math.abs(n-e)<a}function Kg(n){const e=Math.round(n);n=vo(n,e,n/1e3)?e:n;const a=Math.pow(10,Math.floor(F1(n))),i=n/a;return(i<=1?1:i<=2?2:i<=5?5:10)*a}function O5(n){const e=[],a=Math.sqrt(n);let i;for(i=1;i<a;i++)n%i===0&&(e.push(i),e.push(n/i));return a===(a|0)&&e.push(a),e.sort((o,r)=>o-r).pop(),e}function D5(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function No(n){return!D5(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function z5(n,e){const a=Math.round(n);return a-e<=n&&a+e>=n}function R5(n,e,a){let i,o,r;for(i=0,o=n.length;i<o;i++)r=n[i][a],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function hi(n){return n*(tn/180)}function k5(n){return n*(180/tn)}function Wg(n){if(!mn(n))return;let e=1,a=0;for(;Math.round(n*e)/e!==n;)e*=10,a++;return a}function L5(n,e){const a=e.x-n.x,i=e.y-n.y,o=Math.sqrt(a*a+i*i);let r=Math.atan2(i,a);return r<-.5*tn&&(r+=ys),{angle:r,distance:o}}function of(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function B5(n,e){return(n-e+E5)%ys-tn}function Rs(n){return(n%ys+ys)%ys}function P1(n,e,a,i){const o=Rs(n),r=Rs(e),u=Rs(a),f=Rs(r-o),m=Rs(u-o),g=Rs(o-r),y=Rs(o-u);return o===r||o===u||i&&r===u||f>m&&g<y}function qn(n,e,a){return Math.max(e,Math.min(a,n))}function H5(n){return qn(n,-32768,32767)}function ka(n,e,a,i=1e-6){return n>=Math.min(e,a)-i&&n<=Math.max(e,a)+i}function jf(n,e,a){a=a||(u=>n[u]<e);let i=n.length-1,o=0,r;for(;i-o>1;)r=o+i>>1,a(r)?o=r:i=r;return{lo:o,hi:i}}const mi=(n,e,a,i)=>jf(n,a,i?o=>{const r=n[o][e];return r<a||r===a&&n[o+1][e]===a}:o=>n[o][e]<a),U5=(n,e,a)=>jf(n,a,i=>n[i][e]>=a);function V5(n,e,a){let i=0,o=n.length;for(;i<o&&n[i]<e;)i++;for(;o>i&&n[o-1]>a;)o--;return i>0||o<n.length?n.slice(i,o):n}const q1=["push","pop","shift","splice","unshift"];function F5(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),q1.forEach(a=>{const i="_onData"+_f(a),o=n[a];Object.defineProperty(n,a,{configurable:!0,enumerable:!1,value(...r){const u=o.apply(this,r);return n._chartjs.listeners.forEach(f=>{typeof f[i]=="function"&&f[i](...r)}),u}})})}function Zg(n,e){const a=n._chartjs;if(!a)return;const i=a.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(q1.forEach(r=>{delete n[r]}),delete n._chartjs)}function Y1(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const X1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function G1(n,e){let a=[],i=!1;return function(...o){a=o,i||(i=!0,X1.call(window,()=>{i=!1,n.apply(e,a)}))}}function P5(n,e){let a;return function(...i){return e?(clearTimeout(a),a=setTimeout(n,e,i)):n.apply(this,i),e}}const Nf=n=>n==="start"?"left":n==="end"?"right":"center",dn=(n,e,a)=>n==="start"?e:n==="end"?a:(e+a)/2,q5=(n,e,a,i)=>n===(i?"left":"right")?a:n==="center"?(e+a)/2:e;function Y5(n,e,a){const i=e.length;let o=0,r=i;if(n._sorted){const{iScale:u,vScale:f,_parsed:m}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=u.axis,{min:v,max:x,minDefined:S,maxDefined:j}=u.getUserBounds();if(S){if(o=Math.min(mi(m,y,v).lo,a?i:mi(e,y,u.getPixelForValue(v)).lo),g){const M=m.slice(0,o+1).reverse().findIndex(N=>!ee(N[f.axis]));o-=Math.max(0,M)}o=qn(o,0,i-1)}if(j){let M=Math.max(mi(m,u.axis,x,!0).hi+1,a?0:mi(e,y,u.getPixelForValue(x),!0).hi+1);if(g){const N=m.slice(M-1).findIndex(k=>!ee(k[f.axis]));M+=Math.max(0,N)}r=qn(M,o,i)-o}else r=i-o}return{start:o,count:r}}function X5(n){const{xScale:e,yScale:a,_scaleRanges:i}=n,o={xmin:e.min,xmax:e.max,ymin:a.min,ymax:a.max};if(!i)return n._scaleRanges=o,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==a.min||i.ymax!==a.max;return Object.assign(i,o),r}const Qr=n=>n===0||n===1,$g=(n,e,a)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*ys/a)),Jg=(n,e,a)=>Math.pow(2,-10*n)*Math.sin((n-e)*ys/a)+1,bo={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ps)+1,easeOutSine:n=>Math.sin(n*ps),easeInOutSine:n=>-.5*(Math.cos(tn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Qr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Qr(n)?n:$g(n,.075,.3),easeOutElastic:n=>Qr(n)?n:Jg(n,.075,.3),easeInOutElastic(n){return Qr(n)?n:n<.5?.5*$g(n*2,.1125,.45):.5+.5*Jg(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-bo.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?bo.easeInBounce(n*2)*.5:bo.easeOutBounce(n*2-1)*.5+.5};function wf(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function tp(n){return wf(n)?n:new So(n)}function Pd(n){return wf(n)?n:new So(n).saturate(.5).darken(.1).hexString()}const G5=["x","y","borderWidth","radius","tension"],Q5=["color","borderColor","backgroundColor"];function I5(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:Q5},numbers:{type:"number",properties:G5}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function K5(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ep=new Map;function W5(n,e){e=e||{};const a=n+JSON.stringify(e);let i=ep.get(a);return i||(i=new Intl.NumberFormat(n,e),ep.set(a,i)),i}function Q1(n,e,a){return W5(e,a).format(n)}const Z5={values(n){return Ge(n)?n:""+n},numeric(n,e,a){if(n===0)return"0";const i=this.chart.options.locale;let o,r=n;if(a.length>1){const g=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(g<1e-4||g>1e15)&&(o="scientific"),r=$5(n,a)}const u=F1(Math.abs(r)),f=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),m={notation:o,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(m,this.options.ticks.format),Q1(n,i,m)}};function $5(n,e){let a=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(a)>=1&&n!==Math.floor(n)&&(a=n-Math.floor(n)),a}var I1={formatters:Z5};function J5(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,a)=>a.lineWidth,tickColor:(e,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:I1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const bi=Object.create(null),rf=Object.create(null);function xo(n,e){if(!e)return n;const a=e.split(".");for(let i=0,o=a.length;i<o;++i){const r=a[i];n=n[r]||(n[r]=Object.create(null))}return n}function qd(n,e,a){return typeof e=="string"?_o(xo(n,e),a):_o(xo(n,""),e)}class t4{constructor(e,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>Pd(o.backgroundColor),this.hoverBorderColor=(i,o)=>Pd(o.borderColor),this.hoverColor=(i,o)=>Pd(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(a)}set(e,a){return qd(this,e,a)}get(e){return xo(this,e)}describe(e,a){return qd(rf,e,a)}override(e,a){return qd(bi,e,a)}route(e,a,i,o){const r=xo(this,e),u=xo(this,i),f="_"+a;Object.defineProperties(r,{[f]:{value:r[a],writable:!0},[a]:{enumerable:!0,get(){const m=this[f],g=u[o];return Wt(m)?Object.assign({},g,m):Ut(m,g)},set(m){this[f]=m}}})}apply(e){e.forEach(a=>a(this))}}var Le=new t4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[I5,K5,J5]);function e4(n){return!n||ee(n.size)||ee(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function np(n,e,a,i,o){let r=e[o];return r||(r=e[o]=n.measureText(o).width,a.push(o)),r>i&&(i=r),i}function ri(n,e,a){const i=n.currentDevicePixelRatio,o=a!==0?Math.max(a/2,.5):0;return Math.round((e-o)*i)/i+o}function sp(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function cf(n,e,a,i){K1(n,e,a,i,null)}function K1(n,e,a,i,o){let r,u,f,m,g,y,v,x;const S=e.pointStyle,j=e.rotation,M=e.radius;let N=(j||0)*T5;if(S&&typeof S=="object"&&(r=S.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(a,i),n.rotate(N),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(M)||M<=0)){switch(n.beginPath(),S){default:o?n.ellipse(a,i,o/2,M,0,0,ys):n.arc(a,i,M,0,ys),n.closePath();break;case"triangle":y=o?o/2:M,n.moveTo(a+Math.sin(N)*y,i-Math.cos(N)*M),N+=Ig,n.lineTo(a+Math.sin(N)*y,i-Math.cos(N)*M),N+=Ig,n.lineTo(a+Math.sin(N)*y,i-Math.cos(N)*M),n.closePath();break;case"rectRounded":g=M*.516,m=M-g,u=Math.cos(N+oi)*m,v=Math.cos(N+oi)*(o?o/2-g:m),f=Math.sin(N+oi)*m,x=Math.sin(N+oi)*(o?o/2-g:m),n.arc(a-v,i-f,g,N-tn,N-ps),n.arc(a+x,i-u,g,N-ps,N),n.arc(a+v,i+f,g,N,N+ps),n.arc(a-x,i+u,g,N+ps,N+tn),n.closePath();break;case"rect":if(!j){m=Math.SQRT1_2*M,y=o?o/2:m,n.rect(a-y,i-m,2*y,2*m);break}N+=oi;case"rectRot":v=Math.cos(N)*(o?o/2:M),u=Math.cos(N)*M,f=Math.sin(N)*M,x=Math.sin(N)*(o?o/2:M),n.moveTo(a-v,i-f),n.lineTo(a+x,i-u),n.lineTo(a+v,i+f),n.lineTo(a-x,i+u),n.closePath();break;case"crossRot":N+=oi;case"cross":v=Math.cos(N)*(o?o/2:M),u=Math.cos(N)*M,f=Math.sin(N)*M,x=Math.sin(N)*(o?o/2:M),n.moveTo(a-v,i-f),n.lineTo(a+v,i+f),n.moveTo(a+x,i-u),n.lineTo(a-x,i+u);break;case"star":v=Math.cos(N)*(o?o/2:M),u=Math.cos(N)*M,f=Math.sin(N)*M,x=Math.sin(N)*(o?o/2:M),n.moveTo(a-v,i-f),n.lineTo(a+v,i+f),n.moveTo(a+x,i-u),n.lineTo(a-x,i+u),N+=oi,v=Math.cos(N)*(o?o/2:M),u=Math.cos(N)*M,f=Math.sin(N)*M,x=Math.sin(N)*(o?o/2:M),n.moveTo(a-v,i-f),n.lineTo(a+v,i+f),n.moveTo(a+x,i-u),n.lineTo(a-x,i+u);break;case"line":u=o?o/2:Math.cos(N)*M,f=Math.sin(N)*M,n.moveTo(a-u,i-f),n.lineTo(a+u,i+f);break;case"dash":n.moveTo(a,i),n.lineTo(a+Math.cos(N)*(o?o/2:M),i+Math.sin(N)*M);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function wo(n,e,a){return a=a||.5,!e||n&&n.x>e.left-a&&n.x<e.right+a&&n.y>e.top-a&&n.y<e.bottom+a}function Nc(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function wc(n){n.restore()}function n4(n,e,a,i,o){if(!e)return n.lineTo(a.x,a.y);if(o==="middle"){const r=(e.x+a.x)/2;n.lineTo(r,e.y),n.lineTo(r,a.y)}else o==="after"!=!!i?n.lineTo(e.x,a.y):n.lineTo(a.x,e.y);n.lineTo(a.x,a.y)}function s4(n,e,a,i){if(!e)return n.lineTo(a.x,a.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?a.cp2x:a.cp1x,i?a.cp2y:a.cp1y,a.x,a.y)}function a4(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),ee(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function i4(n,e,a,i,o){if(o.strikethrough||o.underline){const r=n.measureText(i),u=e-r.actualBoundingBoxLeft,f=e+r.actualBoundingBoxRight,m=a-r.actualBoundingBoxAscent,g=a+r.actualBoundingBoxDescent,y=o.strikethrough?(m+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(u,y),n.lineTo(f,y),n.stroke()}}function l4(n,e){const a=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=a}function Co(n,e,a,i,o,r={}){const u=Ge(e)?e:[e],f=r.strokeWidth>0&&r.strokeColor!=="";let m,g;for(n.save(),n.font=o.string,a4(n,r),m=0;m<u.length;++m)g=u[m],r.backdrop&&l4(n,r.backdrop),f&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),ee(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(g,a,i,r.maxWidth)),n.fillText(g,a,i,r.maxWidth),i4(n,a,i,g,r),i+=Number(o.lineHeight);n.restore()}function mc(n,e){const{x:a,y:i,w:o,h:r,radius:u}=e;n.arc(a+u.topLeft,i+u.topLeft,u.topLeft,1.5*tn,tn,!0),n.lineTo(a,i+r-u.bottomLeft),n.arc(a+u.bottomLeft,i+r-u.bottomLeft,u.bottomLeft,tn,ps,!0),n.lineTo(a+o-u.bottomRight,i+r),n.arc(a+o-u.bottomRight,i+r-u.bottomRight,u.bottomRight,ps,0,!0),n.lineTo(a+o,i+u.topRight),n.arc(a+o-u.topRight,i+u.topRight,u.topRight,0,-ps,!0),n.lineTo(a+u.topLeft,i)}const o4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,r4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function c4(n,e){const a=(""+n).match(o4);if(!a||a[1]==="normal")return e*1.2;switch(n=+a[2],a[3]){case"px":return n;case"%":n/=100;break}return e*n}const u4=n=>+n||0;function W1(n,e){const a={},i=Wt(e),o=i?Object.keys(e):e,r=Wt(n)?i?u=>Ut(n[u],n[e[u]]):u=>n[u]:()=>n;for(const u of o)a[u]=u4(r(u));return a}function Z1(n){return W1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ol(n){return W1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function as(n){const e=Z1(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function hn(n,e){n=n||{},e=e||Le.font;let a=Ut(n.size,e.size);typeof a=="string"&&(a=parseInt(a,10));let i=Ut(n.style,e.style);i&&!(""+i).match(r4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:Ut(n.family,e.family),lineHeight:c4(Ut(n.lineHeight,e.lineHeight),a),size:a,style:i,weight:Ut(n.weight,e.weight),string:""};return o.string=e4(o),o}function Ir(n,e,a,i){let o,r,u;for(o=0,r=n.length;o<r;++o)if(u=n[o],u!==void 0&&u!==void 0)return u}function d4(n,e,a){const{min:i,max:o}=n,r=j5(e,(o-i)/2),u=(f,m)=>a&&f===0?0:f+m;return{min:u(i,-Math.abs(r)),max:u(o,r)}}function xi(n,e){return Object.assign(Object.create(n),e)}function Cf(n,e=[""],a,i,o=()=>n[0]){const r=a||n;typeof i>"u"&&(i=e2("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:o,override:f=>Cf([f,...n],e,r,i)};return new Proxy(u,{deleteProperty(f,m){return delete f[m],delete f._keys,delete n[0][m],!0},get(f,m){return J1(f,m,()=>b4(m,e,n,f))},getOwnPropertyDescriptor(f,m){return Reflect.getOwnPropertyDescriptor(f._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(f,m){return ip(f).includes(m)},ownKeys(f){return ip(f)},set(f,m,g){const y=f._storage||(f._storage=o());return f[m]=y[m]=g,delete f._keys,!0}})}function dl(n,e,a,i){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:a,_stack:new Set,_descriptors:$1(n,i),setContext:r=>dl(n,r,a,i),override:r=>dl(n.override(r),e,a,i)};return new Proxy(o,{deleteProperty(r,u){return delete r[u],delete n[u],!0},get(r,u,f){return J1(r,u,()=>h4(r,u,f))},getOwnPropertyDescriptor(r,u){return r._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(r,u,f){return n[u]=f,delete r[u],!0}})}function $1(n,e={scriptable:!0,indexable:!0}){const{_scriptable:a=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:a,indexable:i,isScriptable:Ua(a)?a:()=>a,isIndexable:Ua(i)?i:()=>i}}const f4=(n,e)=>n?n+_f(e):e,Mf=(n,e)=>Wt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function J1(n,e,a){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=a();return n[e]=i,i}function h4(n,e,a){const{_proxy:i,_context:o,_subProxy:r,_descriptors:u}=n;let f=i[e];return Ua(f)&&u.isScriptable(e)&&(f=m4(e,f,n,a)),Ge(f)&&f.length&&(f=g4(e,f,n,u.isIndexable)),Mf(e,f)&&(f=dl(f,o,r&&r[e],u)),f}function m4(n,e,a,i){const{_proxy:o,_context:r,_subProxy:u,_stack:f}=a;if(f.has(n))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+n);f.add(n);let m=e(r,u||i);return f.delete(n),Mf(n,m)&&(m=Af(o._scopes,o,n,m)),m}function g4(n,e,a,i){const{_proxy:o,_context:r,_subProxy:u,_descriptors:f}=a;if(typeof r.index<"u"&&i(n))return e[r.index%e.length];if(Wt(e[0])){const m=e,g=o._scopes.filter(y=>y!==m);e=[];for(const y of m){const v=Af(g,o,n,y);e.push(dl(v,r,u&&u[n],f))}}return e}function t2(n,e,a){return Ua(n)?n(e,a):n}const p4=(n,e)=>n===!0?e:typeof n=="string"?ul(e,n):void 0;function y4(n,e,a,i,o){for(const r of e){const u=p4(a,r);if(u){n.add(u);const f=t2(u._fallback,a,o);if(typeof f<"u"&&f!==a&&f!==i)return f}else if(u===!1&&typeof i<"u"&&a!==i)return null}return!1}function Af(n,e,a,i){const o=e._rootScopes,r=t2(e._fallback,a,i),u=[...n,...o],f=new Set;f.add(i);let m=ap(f,u,a,r||a,i);return m===null||typeof r<"u"&&r!==a&&(m=ap(f,u,r,m,i),m===null)?!1:Cf(Array.from(f),[""],o,r,()=>v4(e,a,i))}function ap(n,e,a,i,o){for(;a;)a=y4(n,e,a,i,o);return a}function v4(n,e,a){const i=n._getTarget();e in i||(i[e]={});const o=i[e];return Ge(o)&&Wt(a)?a:o||{}}function b4(n,e,a,i){let o;for(const r of e)if(o=e2(f4(r,n),a),typeof o<"u")return Mf(n,o)?Af(a,i,n,o):o}function e2(n,e){for(const a of e){if(!a)continue;const i=a[n];if(typeof i<"u")return i}}function ip(n){let e=n._keys;return e||(e=n._keys=x4(n._scopes)),e}function x4(n){const e=new Set;for(const a of n)for(const i of Object.keys(a).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}const S4=Number.EPSILON||1e-14,fl=(n,e)=>e<n.length&&!n[e].skip&&n[e],n2=n=>n==="x"?"y":"x";function _4(n,e,a,i){const o=n.skip?e:n,r=e,u=a.skip?e:a,f=of(r,o),m=of(u,r);let g=f/(f+m),y=m/(f+m);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const v=i*g,x=i*y;return{previous:{x:r.x-v*(u.x-o.x),y:r.y-v*(u.y-o.y)},next:{x:r.x+x*(u.x-o.x),y:r.y+x*(u.y-o.y)}}}function j4(n,e,a){const i=n.length;let o,r,u,f,m,g=fl(n,0);for(let y=0;y<i-1;++y)if(m=g,g=fl(n,y+1),!(!m||!g)){if(vo(e[y],0,S4)){a[y]=a[y+1]=0;continue}o=a[y]/e[y],r=a[y+1]/e[y],f=Math.pow(o,2)+Math.pow(r,2),!(f<=9)&&(u=3/Math.sqrt(f),a[y]=o*u*e[y],a[y+1]=r*u*e[y])}}function N4(n,e,a="x"){const i=n2(a),o=n.length;let r,u,f,m=fl(n,0);for(let g=0;g<o;++g){if(u=f,f=m,m=fl(n,g+1),!f)continue;const y=f[a],v=f[i];u&&(r=(y-u[a])/3,f[`cp1${a}`]=y-r,f[`cp1${i}`]=v-r*e[g]),m&&(r=(m[a]-y)/3,f[`cp2${a}`]=y+r,f[`cp2${i}`]=v+r*e[g])}}function w4(n,e="x"){const a=n2(e),i=n.length,o=Array(i).fill(0),r=Array(i);let u,f,m,g=fl(n,0);for(u=0;u<i;++u)if(f=m,m=g,g=fl(n,u+1),!!m){if(g){const y=g[e]-m[e];o[u]=y!==0?(g[a]-m[a])/y:0}r[u]=f?g?ks(o[u-1])!==ks(o[u])?0:(o[u-1]+o[u])/2:o[u-1]:o[u]}j4(n,o,r),N4(n,r,e)}function Kr(n,e,a){return Math.max(Math.min(n,a),e)}function C4(n,e){let a,i,o,r,u,f=wo(n[0],e);for(a=0,i=n.length;a<i;++a)u=r,r=f,f=a<i-1&&wo(n[a+1],e),r&&(o=n[a],u&&(o.cp1x=Kr(o.cp1x,e.left,e.right),o.cp1y=Kr(o.cp1y,e.top,e.bottom)),f&&(o.cp2x=Kr(o.cp2x,e.left,e.right),o.cp2y=Kr(o.cp2y,e.top,e.bottom)))}function M4(n,e,a,i,o){let r,u,f,m;if(e.spanGaps&&(n=n.filter(g=>!g.skip)),e.cubicInterpolationMode==="monotone")w4(n,o);else{let g=i?n[n.length-1]:n[0];for(r=0,u=n.length;r<u;++r)f=n[r],m=_4(g,f,n[Math.min(r+1,u-(i?0:1))%u],e.tension),f.cp1x=m.previous.x,f.cp1y=m.previous.y,f.cp2x=m.next.x,f.cp2y=m.next.y,g=f}e.capBezierPoints&&C4(n,a)}function Ef(){return typeof window<"u"&&typeof document<"u"}function Tf(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function gc(n,e,a){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[a])):i=n,i}const Cc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function A4(n,e){return Cc(n).getPropertyValue(e)}const E4=["top","right","bottom","left"];function yi(n,e,a){const i={};a=a?"-"+a:"";for(let o=0;o<4;o++){const r=E4[o];i[r]=parseFloat(n[e+"-"+r+a])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const T4=(n,e,a)=>(n>0||e>0)&&(!a||!a.shadowRoot);function O4(n,e){const a=n.touches,i=a&&a.length?a[0]:n,{offsetX:o,offsetY:r}=i;let u=!1,f,m;if(T4(o,r,n.target))f=o,m=r;else{const g=e.getBoundingClientRect();f=i.clientX-g.left,m=i.clientY-g.top,u=!0}return{x:f,y:m,box:u}}function ui(n,e){if("native"in n)return n;const{canvas:a,currentDevicePixelRatio:i}=e,o=Cc(a),r=o.boxSizing==="border-box",u=yi(o,"padding"),f=yi(o,"border","width"),{x:m,y:g,box:y}=O4(n,a),v=u.left+(y&&f.left),x=u.top+(y&&f.top);let{width:S,height:j}=e;return r&&(S-=u.width+f.width,j-=u.height+f.height),{x:Math.round((m-v)/S*a.width/i),y:Math.round((g-x)/j*a.height/i)}}function D4(n,e,a){let i,o;if(e===void 0||a===void 0){const r=n&&Tf(n);if(!r)e=n.clientWidth,a=n.clientHeight;else{const u=r.getBoundingClientRect(),f=Cc(r),m=yi(f,"border","width"),g=yi(f,"padding");e=u.width-g.width-m.width,a=u.height-g.height-m.height,i=gc(f.maxWidth,r,"clientWidth"),o=gc(f.maxHeight,r,"clientHeight")}}return{width:e,height:a,maxWidth:i||hc,maxHeight:o||hc}}const La=n=>Math.round(n*10)/10;function z4(n,e,a,i){const o=Cc(n),r=yi(o,"margin"),u=gc(o.maxWidth,n,"clientWidth")||hc,f=gc(o.maxHeight,n,"clientHeight")||hc,m=D4(n,e,a);let{width:g,height:y}=m;if(o.boxSizing==="content-box"){const x=yi(o,"border","width"),S=yi(o,"padding");g-=S.width+x.width,y-=S.height+x.height}return g=Math.max(0,g-r.width),y=Math.max(0,i?g/i:y-r.height),g=La(Math.min(g,u,m.maxWidth)),y=La(Math.min(y,f,m.maxHeight)),g&&!y&&(y=La(g/2)),(e!==void 0||a!==void 0)&&i&&m.height&&y>m.height&&(y=m.height,g=La(Math.floor(y*i))),{width:g,height:y}}function lp(n,e,a){const i=e||1,o=La(n.height*i),r=La(n.width*i);n.height=La(n.height),n.width=La(n.width);const u=n.canvas;return u.style&&(a||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||u.height!==o||u.width!==r?(n.currentDevicePixelRatio=i,u.height=o,u.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const R4=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ef()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function op(n,e){const a=A4(n,e),i=a&&a.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function di(n,e,a,i){return{x:n.x+a*(e.x-n.x),y:n.y+a*(e.y-n.y)}}function k4(n,e,a,i){return{x:n.x+a*(e.x-n.x),y:i==="middle"?a<.5?n.y:e.y:i==="after"?a<1?n.y:e.y:a>0?e.y:n.y}}function L4(n,e,a,i){const o={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},u=di(n,o,a),f=di(o,r,a),m=di(r,e,a),g=di(u,f,a),y=di(f,m,a);return di(g,y,a)}const B4=function(n,e){return{x(a){return n+n+e-a},setWidth(a){e=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,i){return a-i},leftForLtr(a,i){return a-i}}},H4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function rl(n,e,a){return n?B4(e,a):H4()}function s2(n,e){let a,i;(e==="ltr"||e==="rtl")&&(a=n.canvas.style,i=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",e,"important"),n.prevTextDirection=i)}function a2(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function i2(n){return n==="angle"?{between:P1,compare:B5,normalize:Rs}:{between:ka,compare:(e,a)=>e-a,normalize:e=>e}}function rp({start:n,end:e,count:a,loop:i,style:o}){return{start:n%a,end:e%a,loop:i&&(e-n+1)%a===0,style:o}}function U4(n,e,a){const{property:i,start:o,end:r}=a,{between:u,normalize:f}=i2(i),m=e.length;let{start:g,end:y,loop:v}=n,x,S;if(v){for(g+=m,y+=m,x=0,S=m;x<S&&u(f(e[g%m][i]),o,r);++x)g--,y--;g%=m,y%=m}return y<g&&(y+=m),{start:g,end:y,loop:v,style:n.style}}function l2(n,e,a){if(!a)return[n];const{property:i,start:o,end:r}=a,u=e.length,{compare:f,between:m,normalize:g}=i2(i),{start:y,end:v,loop:x,style:S}=U4(n,e,a),j=[];let M=!1,N=null,k,H,z;const Q=()=>m(o,z,k)&&f(o,z)!==0,U=()=>f(r,k)===0||m(r,z,k),Z=()=>M||Q(),P=()=>!M||U();for(let nt=y,tt=y;nt<=v;++nt)H=e[nt%u],!H.skip&&(k=g(H[i]),k!==z&&(M=m(k,o,r),N===null&&Z()&&(N=f(k,o)===0?nt:tt),N!==null&&P()&&(j.push(rp({start:N,end:nt,loop:x,count:u,style:S})),N=null),tt=nt,z=k));return N!==null&&j.push(rp({start:N,end:v,loop:x,count:u,style:S})),j}function o2(n,e){const a=[],i=n.segments;for(let o=0;o<i.length;o++){const r=l2(i[o],n.points,e);r.length&&a.push(...r)}return a}function V4(n,e,a,i){let o=0,r=e-1;if(a&&!i)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,a&&(r+=o);r>o&&n[r%e].skip;)r--;return r%=e,{start:o,end:r}}function F4(n,e,a,i){const o=n.length,r=[];let u=e,f=n[e],m;for(m=e+1;m<=a;++m){const g=n[m%o];g.skip||g.stop?f.skip||(i=!1,r.push({start:e%o,end:(m-1)%o,loop:i}),e=u=g.stop?m:null):(u=m,f.skip&&(e=m)),f=g}return u!==null&&r.push({start:e%o,end:u%o,loop:i}),r}function P4(n,e){const a=n.points,i=n.options.spanGaps,o=a.length;if(!o)return[];const r=!!n._loop,{start:u,end:f}=V4(a,o,r,i);if(i===!0)return cp(n,[{start:u,end:f,loop:r}],a,e);const m=f<u?f+o:f,g=!!n._fullLoop&&u===0&&f===o-1;return cp(n,F4(a,u,m,g),a,e)}function cp(n,e,a,i){return!i||!i.setContext||!a?e:q4(n,e,a,i)}function q4(n,e,a,i){const o=n._chart.getContext(),r=up(n.options),{_datasetIndex:u,options:{spanGaps:f}}=n,m=a.length,g=[];let y=r,v=e[0].start,x=v;function S(j,M,N,k){const H=f?-1:1;if(j!==M){for(j+=m;a[j%m].skip;)j-=H;for(;a[M%m].skip;)M+=H;j%m!==M%m&&(g.push({start:j%m,end:M%m,loop:N,style:k}),y=k,v=M%m)}}for(const j of e){v=f?v:j.start;let M=a[v%m],N;for(x=v+1;x<=j.end;x++){const k=a[x%m];N=up(i.setContext(xi(o,{type:"segment",p0:M,p1:k,p0DataIndex:(x-1)%m,p1DataIndex:x%m,datasetIndex:u}))),Y4(N,y)&&S(v,x-1,j.loop,y),M=k,y=N}v<x-1&&S(v,x-1,j.loop,y)}return g}function up(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Y4(n,e){if(!e)return!1;const a=[],i=function(o,r){return wf(r)?(a.includes(r)||a.push(r),a.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function Wr(n,e,a){return n.options.clip?n[a]:e[a]}function X4(n,e){const{xScale:a,yScale:i}=n;return a&&i?{left:Wr(a,e,"left"),right:Wr(a,e,"right"),top:Wr(i,e,"top"),bottom:Wr(i,e,"bottom")}:e}function r2(n,e){const a=e._clip;if(a.disabled)return!1;const i=X4(e,n.chartArea);return{left:a.left===!1?0:i.left-(a.left===!0?0:a.left),right:a.right===!1?n.width:i.right+(a.right===!0?0:a.right),top:a.top===!1?0:i.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?n.height:i.bottom+(a.bottom===!0?0:a.bottom)}}class G4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,a,i,o){const r=a.listeners[o],u=a.duration;r.forEach(f=>f({chart:e,initial:a.initial,numSteps:u,currentStep:Math.min(i-a.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=X1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let a=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const r=i.items;let u=r.length-1,f=!1,m;for(;u>=0;--u)m=r[u],m._active?(m._total>i.duration&&(i.duration=m._total),m.tick(e),f=!0):(r[u]=r[r.length-1],r.pop());f&&(o.draw(),this._notify(o,i,e,"progress")),r.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),a+=r.length}),this._lastDate=e,a===0&&(this._running=!1)}_getAnims(e){const a=this._charts;let i=a.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(e,i)),i}listen(e,a,i){this._getAnims(e).listeners[a].push(i)}add(e,a){!a||!a.length||this._getAnims(e).items.push(...a)}has(e){return this._getAnims(e).items.length>0}start(e){const a=this._charts.get(e);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const a=this._charts.get(e);return!(!a||!a.running||!a.items.length)}stop(e){const a=this._charts.get(e);if(!a||!a.items.length)return;const i=a.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();a.items=[],this._notify(e,a,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var oa=new G4;const dp="transparent",Q4={boolean(n,e,a){return a>.5?e:n},color(n,e,a){const i=tp(n||dp),o=i.valid&&tp(e||dp);return o&&o.valid?o.mix(i,a).hexString():e},number(n,e,a){return n+(e-n)*a}};class I4{constructor(e,a,i,o){const r=a[i];o=Ir([e.to,o,r,e.from]);const u=Ir([e.from,r,o]);this._active=!0,this._fn=e.fn||Q4[e.type||typeof u],this._easing=bo[e.easing]||bo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=a,this._prop=i,this._from=u,this._to=o,this._promises=void 0}active(){return this._active}update(e,a,i){if(this._active){this._notify(!1);const o=this._target[this._prop],r=i-this._start,u=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(u,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Ir([e.to,a,o,e.from]),this._from=Ir([e.from,o,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const a=e-this._start,i=this._duration,o=this._prop,r=this._from,u=this._loop,f=this._to;let m;if(this._active=r!==f&&(u||a<i),!this._active){this._target[o]=f,this._notify(!0);return}if(a<0){this._target[o]=r;return}m=a/i%2,m=u&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[o]=this._fn(r,f,m)}wait(){const e=this._promises||(this._promises=[]);return new Promise((a,i)=>{e.push({res:a,rej:i})})}_notify(e){const a=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][a]()}}class c2{constructor(e,a){this._chart=e,this._properties=new Map,this.configure(a)}configure(e){if(!Wt(e))return;const a=Object.keys(Le.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const r=e[o];if(!Wt(r))return;const u={};for(const f of a)u[f]=r[f];(Ge(r.properties)&&r.properties||[o]).forEach(f=>{(f===o||!i.has(f))&&i.set(f,u)})})}_animateOptions(e,a){const i=a.options,o=W4(e,i);if(!o)return[];const r=this._createAnimations(o,i);return i.$shared&&K4(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,a){const i=this._properties,o=[],r=e.$animations||(e.$animations={}),u=Object.keys(a),f=Date.now();let m;for(m=u.length-1;m>=0;--m){const g=u[m];if(g.charAt(0)==="$")continue;if(g==="options"){o.push(...this._animateOptions(e,a));continue}const y=a[g];let v=r[g];const x=i.get(g);if(v)if(x&&v.active()){v.update(x,y,f);continue}else v.cancel();if(!x||!x.duration){e[g]=y;continue}r[g]=v=new I4(x,e,g,y),o.push(v)}return o}update(e,a){if(this._properties.size===0){Object.assign(e,a);return}const i=this._createAnimations(e,a);if(i.length)return oa.add(this._chart,i),!0}}function K4(n,e){const a=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const r=n[i[o]];r&&r.active()&&a.push(r.wait())}return Promise.all(a)}function W4(n,e){if(!e)return;let a=n.options;if(!a){n.options=e;return}return a.$shared&&(n.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function fp(n,e){const a=n&&n.options||{},i=a.reverse,o=a.min===void 0?e:0,r=a.max===void 0?e:0;return{start:i?r:o,end:i?o:r}}function Z4(n,e,a){if(a===!1)return!1;const i=fp(n,a),o=fp(e,a);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function $4(n){let e,a,i,o;return Wt(n)?(e=n.top,a=n.right,i=n.bottom,o=n.left):e=a=i=o=n,{top:e,right:a,bottom:i,left:o,disabled:n===!1}}function u2(n,e){const a=[],i=n._getSortedDatasetMetas(e);let o,r;for(o=0,r=i.length;o<r;++o)a.push(i[o].index);return a}function hp(n,e,a,i={}){const o=n.keys,r=i.mode==="single";let u,f,m,g;if(e===null)return;let y=!1;for(u=0,f=o.length;u<f;++u){if(m=+o[u],m===a){if(y=!0,i.all)continue;break}g=n.values[m],mn(g)&&(r||e===0||ks(e)===ks(g))&&(e+=g)}return!y&&!i.all?0:e}function J4(n,e){const{iScale:a,vScale:i}=e,o=a.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",u=Object.keys(n),f=new Array(u.length);let m,g,y;for(m=0,g=u.length;m<g;++m)y=u[m],f[m]={[o]:y,[r]:n[y]};return f}function Yd(n,e){const a=n&&n.options.stacked;return a||a===void 0&&e.stack!==void 0}function t3(n,e,a){return`${n.id}.${e.id}.${a.stack||a.type}`}function e3(n){const{min:e,max:a,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?a:Number.POSITIVE_INFINITY}}function n3(n,e,a){const i=n[e]||(n[e]={});return i[a]||(i[a]={})}function mp(n,e,a,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const r=n[o.index];if(a&&r>0||!a&&r<0)return o.index}return null}function gp(n,e){const{chart:a,_cachedMeta:i}=n,o=a._stacks||(a._stacks={}),{iScale:r,vScale:u,index:f}=i,m=r.axis,g=u.axis,y=t3(r,u,i),v=e.length;let x;for(let S=0;S<v;++S){const j=e[S],{[m]:M,[g]:N}=j,k=j._stacks||(j._stacks={});x=k[g]=n3(o,y,M),x[f]=N,x._top=mp(x,u,!0,i.type),x._bottom=mp(x,u,!1,i.type);const H=x._visualValues||(x._visualValues={});H[f]=N}}function Xd(n,e){const a=n.scales;return Object.keys(a).filter(i=>a[i].axis===e).shift()}function s3(n,e){return xi(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function a3(n,e,a){return xi(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:a,index:e,mode:"default",type:"data"})}function ro(n,e){const a=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const o of e){const r=o._stacks;if(!r||r[i]===void 0||r[i][a]===void 0)return;delete r[i][a],r[i]._visualValues!==void 0&&r[i]._visualValues[a]!==void 0&&delete r[i]._visualValues[a]}}}const Gd=n=>n==="reset"||n==="none",pp=(n,e)=>e?n:Object.assign({},n),i3=(n,e,a)=>n&&!e.hidden&&e._stacked&&{keys:u2(a,!0),values:null};class Of{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,a){this.chart=e,this._ctx=e.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Yd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ro(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,a=this._cachedMeta,i=this.getDataset(),o=(v,x,S,j)=>v==="x"?x:v==="r"?j:S,r=a.xAxisID=Ut(i.xAxisID,Xd(e,"x")),u=a.yAxisID=Ut(i.yAxisID,Xd(e,"y")),f=a.rAxisID=Ut(i.rAxisID,Xd(e,"r")),m=a.indexAxis,g=a.iAxisID=o(m,r,u,f),y=a.vAxisID=o(m,u,r,f);a.xScale=this.getScaleForId(r),a.yScale=this.getScaleForId(u),a.rScale=this.getScaleForId(f),a.iScale=this.getScaleForId(g),a.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const a=this._cachedMeta;return e===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Zg(this._data,this),e._stacked&&ro(e)}_dataCheck(){const e=this.getDataset(),a=e.data||(e.data=[]),i=this._data;if(Wt(a)){const o=this._cachedMeta;this._data=J4(a,o)}else if(i!==a){if(i){Zg(i,this);const o=this._cachedMeta;ro(o),o._parsed=[]}a&&Object.isExtensible(a)&&F5(a,this),this._syncList=[],this._data=a}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const a=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const r=a._stacked;a._stacked=Yd(a.vScale,a),a.stack!==i.stack&&(o=!0,ro(a),a.stack=i.stack),this._resyncElements(e),(o||r!==a._stacked)&&(gp(this,a._parsed),a._stacked=Yd(a.vScale,a))}configure(){const e=this.chart.config,a=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),a,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,a){const{_cachedMeta:i,_data:o}=this,{iScale:r,_stacked:u}=i,f=r.axis;let m=e===0&&a===o.length?!0:i._sorted,g=e>0&&i._parsed[e-1],y,v,x;if(this._parsing===!1)i._parsed=o,i._sorted=!0,x=o;else{Ge(o[e])?x=this.parseArrayData(i,o,e,a):Wt(o[e])?x=this.parseObjectData(i,o,e,a):x=this.parsePrimitiveData(i,o,e,a);const S=()=>v[f]===null||g&&v[f]<g[f];for(y=0;y<a;++y)i._parsed[y+e]=v=x[y],m&&(S()&&(m=!1),g=v);i._sorted=m}u&&gp(this,x)}parsePrimitiveData(e,a,i,o){const{iScale:r,vScale:u}=e,f=r.axis,m=u.axis,g=r.getLabels(),y=r===u,v=new Array(o);let x,S,j;for(x=0,S=o;x<S;++x)j=x+i,v[x]={[f]:y||r.parse(g[j],j),[m]:u.parse(a[j],j)};return v}parseArrayData(e,a,i,o){const{xScale:r,yScale:u}=e,f=new Array(o);let m,g,y,v;for(m=0,g=o;m<g;++m)y=m+i,v=a[y],f[m]={x:r.parse(v[0],y),y:u.parse(v[1],y)};return f}parseObjectData(e,a,i,o){const{xScale:r,yScale:u}=e,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,g=new Array(o);let y,v,x,S;for(y=0,v=o;y<v;++y)x=y+i,S=a[x],g[y]={x:r.parse(ul(S,f),x),y:u.parse(ul(S,m),x)};return g}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,a,i){const o=this.chart,r=this._cachedMeta,u=a[e.axis],f={keys:u2(o,!0),values:a._stacks[e.axis]._visualValues};return hp(f,u,r.index,{mode:i})}updateRangeFromParsed(e,a,i,o){const r=i[a.axis];let u=r===null?NaN:r;const f=o&&i._stacks[a.axis];o&&f&&(o.values=f,u=hp(o,r,this._cachedMeta.index)),e.min=Math.min(e.min,u),e.max=Math.max(e.max,u)}getMinMax(e,a){const i=this._cachedMeta,o=i._parsed,r=i._sorted&&e===i.iScale,u=o.length,f=this._getOtherScale(e),m=i3(a,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:v}=e3(f);let x,S;function j(){S=o[x];const M=S[f.axis];return!mn(S[e.axis])||y>M||v<M}for(x=0;x<u&&!(!j()&&(this.updateRangeFromParsed(g,e,S,m),r));++x);if(r){for(x=u-1;x>=0;--x)if(!j()){this.updateRangeFromParsed(g,e,S,m);break}}return g}getAllParsedValues(e){const a=this._cachedMeta._parsed,i=[];let o,r,u;for(o=0,r=a.length;o<r;++o)u=a[o][e.axis],mn(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const a=this._cachedMeta,i=a.iScale,o=a.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:o?""+o.getLabelForValue(r[o.axis]):""}}_update(e){const a=this._cachedMeta;this.update(e||"default"),a._clip=$4(Ut(this.options.clip,Z4(a.xScale,a.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,a=this.chart,i=this._cachedMeta,o=i.data||[],r=a.chartArea,u=[],f=this._drawStart||0,m=this._drawCount||o.length-f,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(e,r,f,m),y=f;y<f+m;++y){const v=o[y];v.hidden||(v.active&&g?u.push(v):v.draw(e,r))}for(y=0;y<u.length;++y)u[y].draw(e,r)}getStyle(e,a){const i=a?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,a,i){const o=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const u=this._cachedMeta.data[e];r=u.$context||(u.$context=a3(this.getContext(),e,u)),r.parsed=this.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=s3(this.chart.getContext(),this.index)),r.dataset=o,r.index=r.datasetIndex=this.index;return r.active=!!a,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,a){return this._resolveElementOptions(this.dataElementType.id,a,e)}_resolveElementOptions(e,a="default",i){const o=a==="active",r=this._cachedDataOpts,u=e+"-"+a,f=r[u],m=this.enableOptionSharing&&jo(i);if(f)return pp(f,m);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,e),v=o?[`${e}Hover`,"hover",e,""]:[e,""],x=g.getOptionScopes(this.getDataset(),y),S=Object.keys(Le.elements[e]),j=()=>this.getContext(i,o,a),M=g.resolveNamedOptions(x,S,j,v);return M.$shared&&(M.$shared=m,r[u]=Object.freeze(pp(M,m))),M}_resolveAnimations(e,a,i){const o=this.chart,r=this._cachedDataOpts,u=`animation-${a}`,f=r[u];if(f)return f;let m;if(o.options.animation!==!1){const y=this.chart.config,v=y.datasetAnimationScopeKeys(this._type,a),x=y.getOptionScopes(this.getDataset(),v);m=y.createResolver(x,this.getContext(e,i,a))}const g=new c2(o,m&&m.animations);return m&&m._cacheable&&(r[u]=Object.freeze(g)),g}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,a){return!a||Gd(e)||this.chart._animationsDisabled}_getSharedOptions(e,a){const i=this.resolveDataElementOptions(e,a),o=this._sharedOptions,r=this.getSharedOptions(i),u=this.includeOptions(a,r)||r!==o;return this.updateSharedOptions(r,a,i),{sharedOptions:r,includeOptions:u}}updateElement(e,a,i,o){Gd(o)?Object.assign(e,i):this._resolveAnimations(a,o).update(e,i)}updateSharedOptions(e,a,i){e&&!Gd(a)&&this._resolveAnimations(void 0,a).update(e,i)}_setStyle(e,a,i,o){e.active=o;const r=this.getStyle(a,o);this._resolveAnimations(a,i,o).update(e,{options:!o&&this.getSharedOptions(r)||r})}removeHoverStyle(e,a,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,a,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const a=this._data,i=this._cachedMeta.data;for(const[f,m,g]of this._syncList)this[f](m,g);this._syncList=[];const o=i.length,r=a.length,u=Math.min(r,o);u&&this.parse(0,u),r>o?this._insertElements(o,r-o,e):r<o&&this._removeElements(r,o-r)}_insertElements(e,a,i=!0){const o=this._cachedMeta,r=o.data,u=e+a;let f;const m=g=>{for(g.length+=a,f=g.length-1;f>=u;f--)g[f]=g[f-a]};for(m(r),f=e;f<u;++f)r[f]=new this.dataElementType;this._parsing&&m(o._parsed),this.parse(e,a),i&&this.updateElements(r,e,a,"reset")}updateElements(e,a,i,o){}_removeElements(e,a){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,a);i._stacked&&ro(i,o)}i.data.splice(e,a)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[a,i,o]=e;this[a](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,a){a&&this._sync(["_removeElements",e,a]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function l3(n,e){if(!n._cache.$bar){const a=n.getMatchingVisibleMetas(e);let i=[];for(let o=0,r=a.length;o<r;o++)i=i.concat(a[o].controller.getAllParsedValues(n));n._cache.$bar=Y1(i.sort((o,r)=>o-r))}return n._cache.$bar}function o3(n){const e=n.iScale,a=l3(e,n.type);let i=e._length,o,r,u,f;const m=()=>{u===32767||u===-32768||(jo(f)&&(i=Math.min(i,Math.abs(u-f)||i)),f=u)};for(o=0,r=a.length;o<r;++o)u=e.getPixelForValue(a[o]),m();for(f=void 0,o=0,r=e.ticks.length;o<r;++o)u=e.getPixelForTick(o),m();return i}function r3(n,e,a,i){const o=a.barThickness;let r,u;return ee(o)?(r=e.min*a.categoryPercentage,u=a.barPercentage):(r=o*i,u=1),{chunk:r/i,ratio:u,start:e.pixels[n]-r/2}}function c3(n,e,a,i){const o=e.pixels,r=o[n];let u=n>0?o[n-1]:null,f=n<o.length-1?o[n+1]:null;const m=a.categoryPercentage;u===null&&(u=r-(f===null?e.end-e.start:f-r)),f===null&&(f=r+r-u);const g=r-(r-Math.min(u,f))/2*m;return{chunk:Math.abs(f-u)/2*m/i,ratio:a.barPercentage,start:g}}function u3(n,e,a,i){const o=a.parse(n[0],i),r=a.parse(n[1],i),u=Math.min(o,r),f=Math.max(o,r);let m=u,g=f;Math.abs(u)>Math.abs(f)&&(m=f,g=u),e[a.axis]=g,e._custom={barStart:m,barEnd:g,start:o,end:r,min:u,max:f}}function d2(n,e,a,i){return Ge(n)?u3(n,e,a,i):e[a.axis]=a.parse(n,i),e}function yp(n,e,a,i){const o=n.iScale,r=n.vScale,u=o.getLabels(),f=o===r,m=[];let g,y,v,x;for(g=a,y=a+i;g<y;++g)x=e[g],v={},v[o.axis]=f||o.parse(u[g],g),m.push(d2(x,v,r,g));return m}function Qd(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function d3(n,e,a){return n!==0?ks(n):(e.isHorizontal()?1:-1)*(e.min>=a?1:-1)}function f3(n){let e,a,i,o,r;return n.horizontal?(e=n.base>n.x,a="left",i="right"):(e=n.base<n.y,a="bottom",i="top"),e?(o="end",r="start"):(o="start",r="end"),{start:a,end:i,reverse:e,top:o,bottom:r}}function h3(n,e,a,i){let o=e.borderSkipped;const r={};if(!o){n.borderSkipped=r;return}if(o===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:u,end:f,reverse:m,top:g,bottom:y}=f3(n);o==="middle"&&a&&(n.enableBorderRadius=!0,(a._top||0)===i?o=g:(a._bottom||0)===i?o=y:(r[vp(y,u,f,m)]=!0,o=g)),r[vp(o,u,f,m)]=!0,n.borderSkipped=r}function vp(n,e,a,i){return i?(n=m3(n,e,a),n=bp(n,a,e)):n=bp(n,e,a),n}function m3(n,e,a){return n===e?a:n===a?e:n}function bp(n,e,a){return n==="start"?e:n==="end"?a:n}function g3(n,{inflateAmount:e},a){n.inflateAmount=e==="auto"?a===1?.33:0:e}class p3 extends Of{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,a,i,o){return yp(e,a,i,o)}parseArrayData(e,a,i,o){return yp(e,a,i,o)}parseObjectData(e,a,i,o){const{iScale:r,vScale:u}=e,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,g=r.axis==="x"?f:m,y=u.axis==="x"?f:m,v=[];let x,S,j,M;for(x=i,S=i+o;x<S;++x)M=a[x],j={},j[r.axis]=r.parse(ul(M,g),x),v.push(d2(ul(M,y),j,u,x));return v}updateRangeFromParsed(e,a,i,o){super.updateRangeFromParsed(e,a,i,o);const r=i._custom;r&&a===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const a=this._cachedMeta,{iScale:i,vScale:o}=a,r=this.getParsed(e),u=r._custom,f=Qd(u)?"["+u.start+", "+u.end+"]":""+o.getLabelForValue(r[o.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,e)}updateElements(e,a,i,o){const r=o==="reset",{index:u,_cachedMeta:{vScale:f}}=this,m=f.getBasePixel(),g=f.isHorizontal(),y=this._getRuler(),{sharedOptions:v,includeOptions:x}=this._getSharedOptions(a,o);for(let S=a;S<a+i;S++){const j=this.getParsed(S),M=r||ee(j[f.axis])?{base:m,head:m}:this._calculateBarValuePixels(S),N=this._calculateBarIndexPixels(S,y),k=(j._stacks||{})[f.axis],H={horizontal:g,base:M.base,enableBorderRadius:!k||Qd(j._custom)||u===k._top||u===k._bottom,x:g?M.head:N.center,y:g?N.center:M.head,height:g?N.size:Math.abs(M.size),width:g?Math.abs(M.size):N.size};x&&(H.options=v||this.resolveDataElementOptions(S,e[S].active?"active":o));const z=H.options||e[S].options;h3(H,z,k,u),g3(H,z,y.ratio),this.updateElement(e[S],S,H,o)}}_getStacks(e,a){const{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),r=i.options.stacked,u=[],f=this._cachedMeta.controller.getParsed(a),m=f&&f[i.axis],g=y=>{const v=y._parsed.find(S=>S[i.axis]===m),x=v&&v[y.vScale.axis];if(ee(x)||isNaN(x))return!0};for(const y of o)if(!(a!==void 0&&g(y))&&((r===!1||u.indexOf(y.stack)===-1||r===void 0&&y.stack===void 0)&&u.push(y.stack),y.index===e))break;return u.length||u.push(void 0),u}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===a).shift()}_getAxis(){const e={},a=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[Ut(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,a)]=!0;return Object.keys(e)}_getStackIndex(e,a,i){const o=this._getStacks(e,i),r=a!==void 0?o.indexOf(a):-1;return r===-1?o.length-1:r}_getRuler(){const e=this.options,a=this._cachedMeta,i=a.iScale,o=[];let r,u;for(r=0,u=a.data.length;r<u;++r)o.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const f=e.barThickness;return{min:f||o3(a),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:f?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:a,_stacked:i,index:o},options:{base:r,minBarLength:u}}=this,f=r||0,m=this.getParsed(e),g=m._custom,y=Qd(g);let v=m[a.axis],x=0,S=i?this.applyStack(a,m,i):v,j,M;S!==v&&(x=S-v,S=v),y&&(v=g.barStart,S=g.barEnd-g.barStart,v!==0&&ks(v)!==ks(g.barEnd)&&(x=0),x+=v);const N=!ee(r)&&!y?r:x;let k=a.getPixelForValue(N);if(this.chart.getDataVisibility(e)?j=a.getPixelForValue(x+S):j=k,M=j-k,Math.abs(M)<u){M=d3(M,a,f)*u,v===f&&(k-=M/2);const H=a.getPixelForDecimal(0),z=a.getPixelForDecimal(1),Q=Math.min(H,z),U=Math.max(H,z);k=Math.max(Math.min(k,U),Q),j=k+M,i&&!y&&(m._stacks[a.axis]._visualValues[o]=a.getValueForPixel(j)-a.getValueForPixel(k))}if(k===a.getPixelForValue(f)){const H=ks(M)*a.getLineWidthForValue(f)/2;k+=H,M-=H}return{size:M,base:k,head:j,center:j+M/2}}_calculateBarIndexPixels(e,a){const i=a.scale,o=this.options,r=o.skipNull,u=Ut(o.maxBarThickness,1/0);let f,m;const g=this._getAxisCount();if(a.grouped){const y=r?this._getStackCount(e):a.stackCount,v=o.barThickness==="flex"?c3(e,a,o,y*g):r3(e,a,o,y*g),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,S=this._getAxis().indexOf(Ut(x,this.getFirstScaleIdForIndexAxis())),j=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+S;f=v.start+v.chunk*j+v.chunk/2,m=Math.min(u,v.chunk*v.ratio)}else f=i.getPixelForValue(this.getParsed(e)[i.axis],e),m=Math.min(u,a.min*a.ratio);return{base:f-m/2,head:f+m/2,center:f,size:m}}draw(){const e=this._cachedMeta,a=e.vScale,i=e.data,o=i.length;let r=0;for(;r<o;++r)this.getParsed(r)[a.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}class y3 extends Of{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const a=this._cachedMeta,{dataset:i,data:o=[],_dataset:r}=a,u=this.chart._animationsDisabled;let{start:f,count:m}=Y5(a,o,u);this._drawStart=f,this._drawCount=m,X5(a)&&(f=0,m=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=o;const g=this.resolveDatasetElementOptions(e);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!u,options:g},e),this.updateElements(o,f,m,e)}updateElements(e,a,i,o){const r=o==="reset",{iScale:u,vScale:f,_stacked:m,_dataset:g}=this._cachedMeta,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(a,o),x=u.axis,S=f.axis,{spanGaps:j,segment:M}=this.options,N=No(j)?j:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||r||o==="none",H=a+i,z=e.length;let Q=a>0&&this.getParsed(a-1);for(let U=0;U<z;++U){const Z=e[U],P=k?Z:{};if(U<a||U>=H){P.skip=!0;continue}const nt=this.getParsed(U),tt=ee(nt[S]),rt=P[x]=u.getPixelForValue(nt[x],U),J=P[S]=r||tt?f.getBasePixel():f.getPixelForValue(m?this.applyStack(f,nt,m):nt[S],U);P.skip=isNaN(rt)||isNaN(J)||tt,P.stop=U>0&&Math.abs(nt[x]-Q[x])>N,M&&(P.parsed=nt,P.raw=g.data[U]),v&&(P.options=y||this.resolveDataElementOptions(U,Z.active?"active":o)),k||this.updateElement(Z,U,P,o),Q=nt}}getMaxOverflow(){const e=this._cachedMeta,a=e.dataset,i=a.options&&a.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const r=o[0].size(this.resolveDataElementOptions(0)),u=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,r,u)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ci(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Df{static override(e){Object.assign(Df.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ci()}parse(){return ci()}format(){return ci()}add(){return ci()}diff(){return ci()}startOf(){return ci()}endOf(){return ci()}}var v3={_date:Df};function b3(n,e,a,i){const{controller:o,data:r,_sorted:u}=n,f=o._cachedMeta.iScale,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(f&&e===f.axis&&e!=="r"&&u&&r.length){const g=f._reversePixels?U5:mi;if(i){if(o._sharedOptions){const y=r[0],v=typeof y.getRange=="function"&&y.getRange(e);if(v){const x=g(r,e,a-v),S=g(r,e,a+v);return{lo:x.lo,hi:S.hi}}}}else{const y=g(r,e,a);if(m){const{vScale:v}=o._cachedMeta,{_parsed:x}=n,S=x.slice(0,y.lo+1).reverse().findIndex(M=>!ee(M[v.axis]));y.lo-=Math.max(0,S);const j=x.slice(y.hi).findIndex(M=>!ee(M[v.axis]));y.hi+=Math.max(0,j)}return y}}return{lo:0,hi:r.length-1}}function Mc(n,e,a,i,o){const r=n.getSortedVisibleDatasetMetas(),u=a[e];for(let f=0,m=r.length;f<m;++f){const{index:g,data:y}=r[f],{lo:v,hi:x}=b3(r[f],e,u,o);for(let S=v;S<=x;++S){const j=y[S];j.skip||i(j,g,S)}}}function x3(n){const e=n.indexOf("x")!==-1,a=n.indexOf("y")!==-1;return function(i,o){const r=e?Math.abs(i.x-o.x):0,u=a?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(u,2))}}function Id(n,e,a,i,o){const r=[];return!o&&!n.isPointInArea(e)||Mc(n,a,e,function(f,m,g){!o&&!wo(f,n.chartArea,0)||f.inRange(e.x,e.y,i)&&r.push({element:f,datasetIndex:m,index:g})},!0),r}function S3(n,e,a,i){let o=[];function r(u,f,m){const{startAngle:g,endAngle:y}=u.getProps(["startAngle","endAngle"],i),{angle:v}=L5(u,{x:e.x,y:e.y});P1(v,g,y)&&o.push({element:u,datasetIndex:f,index:m})}return Mc(n,a,e,r),o}function _3(n,e,a,i,o,r){let u=[];const f=x3(a);let m=Number.POSITIVE_INFINITY;function g(y,v,x){const S=y.inRange(e.x,e.y,o);if(i&&!S)return;const j=y.getCenterPoint(o);if(!(!!r||n.isPointInArea(j))&&!S)return;const N=f(e,j);N<m?(u=[{element:y,datasetIndex:v,index:x}],m=N):N===m&&u.push({element:y,datasetIndex:v,index:x})}return Mc(n,a,e,g),u}function Kd(n,e,a,i,o,r){return!r&&!n.isPointInArea(e)?[]:a==="r"&&!i?S3(n,e,a,o):_3(n,e,a,i,o,r)}function xp(n,e,a,i,o){const r=[],u=a==="x"?"inXRange":"inYRange";let f=!1;return Mc(n,a,e,(m,g,y)=>{m[u]&&m[u](e[a],o)&&(r.push({element:m,datasetIndex:g,index:y}),f=f||m.inRange(e.x,e.y,o))}),i&&!f?[]:r}var j3={modes:{index(n,e,a,i){const o=ui(e,n),r=a.axis||"x",u=a.includeInvisible||!1,f=a.intersect?Id(n,o,r,i,u):Kd(n,o,r,!1,i,u),m=[];return f.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=f[0].index,v=g.data[y];v&&!v.skip&&m.push({element:v,datasetIndex:g.index,index:y})}),m):[]},dataset(n,e,a,i){const o=ui(e,n),r=a.axis||"xy",u=a.includeInvisible||!1;let f=a.intersect?Id(n,o,r,i,u):Kd(n,o,r,!1,i,u);if(f.length>0){const m=f[0].datasetIndex,g=n.getDatasetMeta(m).data;f=[];for(let y=0;y<g.length;++y)f.push({element:g[y],datasetIndex:m,index:y})}return f},point(n,e,a,i){const o=ui(e,n),r=a.axis||"xy",u=a.includeInvisible||!1;return Id(n,o,r,i,u)},nearest(n,e,a,i){const o=ui(e,n),r=a.axis||"xy",u=a.includeInvisible||!1;return Kd(n,o,r,a.intersect,i,u)},x(n,e,a,i){const o=ui(e,n);return xp(n,o,"x",a.intersect,i)},y(n,e,a,i){const o=ui(e,n);return xp(n,o,"y",a.intersect,i)}}};const f2=["left","top","right","bottom"];function co(n,e){return n.filter(a=>a.pos===e)}function Sp(n,e){return n.filter(a=>f2.indexOf(a.pos)===-1&&a.box.axis===e)}function uo(n,e){return n.sort((a,i)=>{const o=e?i:a,r=e?a:i;return o.weight===r.weight?o.index-r.index:o.weight-r.weight})}function N3(n){const e=[];let a,i,o,r,u,f;for(a=0,i=(n||[]).length;a<i;++a)o=n[a],{position:r,options:{stack:u,stackWeight:f=1}}=o,e.push({index:a,box:o,pos:r,horizontal:o.isHorizontal(),weight:o.weight,stack:u&&r+u,stackWeight:f});return e}function w3(n){const e={};for(const a of n){const{stack:i,pos:o,stackWeight:r}=a;if(!i||!f2.includes(o))continue;const u=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=r}return e}function C3(n,e){const a=w3(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let r,u,f;for(r=0,u=n.length;r<u;++r){f=n[r];const{fullSize:m}=f.box,g=a[f.stack],y=g&&f.stackWeight/g.weight;f.horizontal?(f.width=y?y*i:m&&e.availableWidth,f.height=o):(f.width=i,f.height=y?y*o:m&&e.availableHeight)}return a}function M3(n){const e=N3(n),a=uo(e.filter(g=>g.box.fullSize),!0),i=uo(co(e,"left"),!0),o=uo(co(e,"right")),r=uo(co(e,"top"),!0),u=uo(co(e,"bottom")),f=Sp(e,"x"),m=Sp(e,"y");return{fullSize:a,leftAndTop:i.concat(r),rightAndBottom:o.concat(m).concat(u).concat(f),chartArea:co(e,"chartArea"),vertical:i.concat(o).concat(m),horizontal:r.concat(u).concat(f)}}function _p(n,e,a,i){return Math.max(n[a],e[a])+Math.max(n[i],e[i])}function h2(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function A3(n,e,a,i){const{pos:o,box:r}=a,u=n.maxPadding;if(!Wt(o)){a.size&&(n[o]-=a.size);const v=i[a.stack]||{size:0,count:1};v.size=Math.max(v.size,a.horizontal?r.height:r.width),a.size=v.size/v.count,n[o]+=a.size}r.getPadding&&h2(u,r.getPadding());const f=Math.max(0,e.outerWidth-_p(u,n,"left","right")),m=Math.max(0,e.outerHeight-_p(u,n,"top","bottom")),g=f!==n.w,y=m!==n.h;return n.w=f,n.h=m,a.horizontal?{same:g,other:y}:{same:y,other:g}}function E3(n){const e=n.maxPadding;function a(i){const o=Math.max(e[i]-n[i],0);return n[i]+=o,o}n.y+=a("top"),n.x+=a("left"),a("right"),a("bottom")}function T3(n,e){const a=e.maxPadding;function i(o){const r={left:0,top:0,right:0,bottom:0};return o.forEach(u=>{r[u]=Math.max(e[u],a[u])}),r}return i(n?["left","right"]:["top","bottom"])}function go(n,e,a,i){const o=[];let r,u,f,m,g,y;for(r=0,u=n.length,g=0;r<u;++r){f=n[r],m=f.box,m.update(f.width||e.w,f.height||e.h,T3(f.horizontal,e));const{same:v,other:x}=A3(e,a,f,i);g|=v&&o.length,y=y||x,m.fullSize||o.push(f)}return g&&go(o,e,a,i)||y}function Zr(n,e,a,i,o){n.top=a,n.left=e,n.right=e+i,n.bottom=a+o,n.width=i,n.height=o}function jp(n,e,a,i){const o=a.padding;let{x:r,y:u}=e;for(const f of n){const m=f.box,g=i[f.stack]||{placed:0,weight:1},y=f.stackWeight/g.weight||1;if(f.horizontal){const v=e.w*y,x=g.size||m.height;jo(g.start)&&(u=g.start),m.fullSize?Zr(m,o.left,u,a.outerWidth-o.right-o.left,x):Zr(m,e.left+g.placed,u,v,x),g.start=u,g.placed+=v,u=m.bottom}else{const v=e.h*y,x=g.size||m.width;jo(g.start)&&(r=g.start),m.fullSize?Zr(m,r,o.top,x,a.outerHeight-o.bottom-o.top):Zr(m,r,e.top+g.placed,x,v),g.start=r,g.placed+=v,r=m.right}}e.x=r,e.y=u}var ss={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(a){e.draw(a)}}]},n.boxes.push(e)},removeBox(n,e){const a=n.boxes?n.boxes.indexOf(e):-1;a!==-1&&n.boxes.splice(a,1)},configure(n,e,a){e.fullSize=a.fullSize,e.position=a.position,e.weight=a.weight},update(n,e,a,i){if(!n)return;const o=as(n.options.layout.padding),r=Math.max(e-o.width,0),u=Math.max(a-o.height,0),f=M3(n.boxes),m=f.vertical,g=f.horizontal;oe(n.boxes,M=>{typeof M.beforeLayout=="function"&&M.beforeLayout()});const y=m.reduce((M,N)=>N.box.options&&N.box.options.display===!1?M:M+1,0)||1,v=Object.freeze({outerWidth:e,outerHeight:a,padding:o,availableWidth:r,availableHeight:u,vBoxMaxWidth:r/2/y,hBoxMaxHeight:u/2}),x=Object.assign({},o);h2(x,as(i));const S=Object.assign({maxPadding:x,w:r,h:u,x:o.left,y:o.top},o),j=C3(m.concat(g),v);go(f.fullSize,S,v,j),go(m,S,v,j),go(g,S,v,j)&&go(m,S,v,j),E3(S),jp(f.leftAndTop,S,v,j),S.x+=S.w,S.y+=S.h,jp(f.rightAndBottom,S,v,j),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},oe(f.chartArea,M=>{const N=M.box;Object.assign(N,n.chartArea),N.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class m2{acquireContext(e,a){}releaseContext(e){return!1}addEventListener(e,a,i){}removeEventListener(e,a,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,a,i,o){return a=Math.max(0,a||e.width),i=i||e.height,{width:a,height:Math.max(0,o?Math.floor(a/o):i)}}isAttached(e){return!0}updateConfig(e){}}class O3 extends m2{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const lc="$chartjs",D3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Np=n=>n===null||n==="";function z3(n,e){const a=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[lc]={initial:{height:i,width:o,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",Np(o)){const r=op(n,"width");r!==void 0&&(n.width=r)}if(Np(i))if(n.style.height==="")n.height=n.width/(e||2);else{const r=op(n,"height");r!==void 0&&(n.height=r)}return n}const g2=R4?{passive:!0}:!1;function R3(n,e,a){n&&n.addEventListener(e,a,g2)}function k3(n,e,a){n&&n.canvas&&n.canvas.removeEventListener(e,a,g2)}function L3(n,e){const a=D3[n.type]||n.type,{x:i,y:o}=ui(n,e);return{type:a,chart:e,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function pc(n,e){for(const a of n)if(a===e||a.contains(e))return!0}function B3(n,e,a){const i=n.canvas,o=new MutationObserver(r=>{let u=!1;for(const f of r)u=u||pc(f.addedNodes,i),u=u&&!pc(f.removedNodes,i);u&&a()});return o.observe(document,{childList:!0,subtree:!0}),o}function H3(n,e,a){const i=n.canvas,o=new MutationObserver(r=>{let u=!1;for(const f of r)u=u||pc(f.removedNodes,i),u=u&&!pc(f.addedNodes,i);u&&a()});return o.observe(document,{childList:!0,subtree:!0}),o}const Mo=new Map;let wp=0;function p2(){const n=window.devicePixelRatio;n!==wp&&(wp=n,Mo.forEach((e,a)=>{a.currentDevicePixelRatio!==n&&e()}))}function U3(n,e){Mo.size||window.addEventListener("resize",p2),Mo.set(n,e)}function V3(n){Mo.delete(n),Mo.size||window.removeEventListener("resize",p2)}function F3(n,e,a){const i=n.canvas,o=i&&Tf(i);if(!o)return;const r=G1((f,m)=>{const g=o.clientWidth;a(f,m),g<o.clientWidth&&a()},window),u=new ResizeObserver(f=>{const m=f[0],g=m.contentRect.width,y=m.contentRect.height;g===0&&y===0||r(g,y)});return u.observe(o),U3(n,r),u}function Wd(n,e,a){a&&a.disconnect(),e==="resize"&&V3(n)}function P3(n,e,a){const i=n.canvas,o=G1(r=>{n.ctx!==null&&a(L3(r,n))},n);return R3(i,e,o),o}class q3 extends m2{acquireContext(e,a){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(z3(e,a),i):null}releaseContext(e){const a=e.canvas;if(!a[lc])return!1;const i=a[lc].initial;["height","width"].forEach(r=>{const u=i[r];ee(u)?a.removeAttribute(r):a.setAttribute(r,u)});const o=i.style||{};return Object.keys(o).forEach(r=>{a.style[r]=o[r]}),a.width=a.width,delete a[lc],!0}addEventListener(e,a,i){this.removeEventListener(e,a);const o=e.$proxies||(e.$proxies={}),u={attach:B3,detach:H3,resize:F3}[a]||P3;o[a]=u(e,a,i)}removeEventListener(e,a){const i=e.$proxies||(e.$proxies={}),o=i[a];if(!o)return;({attach:Wd,detach:Wd,resize:Wd}[a]||k3)(e,a,o),i[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,a,i,o){return z4(e,a,i,o)}isAttached(e){const a=e&&Tf(e);return!!(a&&a.isConnected)}}function Y3(n){return!Ef()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?O3:q3}class Va{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:a,y:i}=this.getProps(["x","y"],e);return{x:a,y:i}}hasValue(){return No(this.x)&&No(this.y)}getProps(e,a){const i=this.$animations;if(!a||!i)return this;const o={};return e.forEach(r=>{o[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),o}}function X3(n,e){const a=n.options.ticks,i=G3(n),o=Math.min(a.maxTicksLimit||i,i),r=a.major.enabled?I3(e):[],u=r.length,f=r[0],m=r[u-1],g=[];if(u>o)return K3(e,g,r,u/o),g;const y=Q3(r,e,o);if(u>0){let v,x;const S=u>1?Math.round((m-f)/(u-1)):null;for($r(e,g,y,ee(S)?0:f-S,f),v=0,x=u-1;v<x;v++)$r(e,g,y,r[v],r[v+1]);return $r(e,g,y,m,ee(S)?e.length:m+S),g}return $r(e,g,y),g}function G3(n){const e=n.options.offset,a=n._tickSize(),i=n._length/a+(e?0:1),o=n._maxLength/a;return Math.floor(Math.min(i,o))}function Q3(n,e,a){const i=W3(n),o=e.length/a;if(!i)return Math.max(o,1);const r=O5(i);for(let u=0,f=r.length-1;u<f;u++){const m=r[u];if(m>o)return m}return Math.max(o,1)}function I3(n){const e=[];let a,i;for(a=0,i=n.length;a<i;a++)n[a].major&&e.push(a);return e}function K3(n,e,a,i){let o=0,r=a[0],u;for(i=Math.ceil(i),u=0;u<n.length;u++)u===r&&(e.push(n[u]),o++,r=a[o*i])}function $r(n,e,a,i,o){const r=Ut(i,0),u=Math.min(Ut(o,n.length),n.length);let f=0,m,g,y;for(a=Math.ceil(a),o&&(m=o-i,a=m/Math.floor(m/a)),y=r;y<0;)f++,y=Math.round(r+f*a);for(g=Math.max(r,0);g<u;g++)g===y&&(e.push(n[g]),f++,y=Math.round(r+f*a))}function W3(n){const e=n.length;let a,i;if(e<2)return!1;for(i=n[0],a=1;a<e;++a)if(n[a]-n[a-1]!==i)return!1;return i}const Z3=n=>n==="left"?"right":n==="right"?"left":n,Cp=(n,e,a)=>e==="top"||e==="left"?n[e]+a:n[e]-a,Mp=(n,e)=>Math.min(e||n,n);function Ap(n,e){const a=[],i=n.length/e,o=n.length;let r=0;for(;r<o;r+=i)a.push(n[Math.floor(r)]);return a}function $3(n,e,a){const i=n.ticks.length,o=Math.min(e,i-1),r=n._startPixel,u=n._endPixel,f=1e-6;let m=n.getPixelForTick(o),g;if(!(a&&(i===1?g=Math.max(m-r,u-m):e===0?g=(n.getPixelForTick(1)-m)/2:g=(m-n.getPixelForTick(o-1))/2,m+=o<e?g:-g,m<r-f||m>u+f)))return m}function J3(n,e){oe(n,a=>{const i=a.gc,o=i.length/2;let r;if(o>e){for(r=0;r<o;++r)delete a.data[i[r]];i.splice(0,o)}})}function fo(n){return n.drawTicks?n.tickLength:0}function Ep(n,e){if(!n.display)return 0;const a=hn(n.font,e),i=as(n.padding);return(Ge(n.text)?n.text.length:1)*a.lineHeight+i.height}function tS(n,e){return xi(n,{scale:e,type:"scale"})}function eS(n,e,a){return xi(n,{tick:a,index:e,type:"tick"})}function nS(n,e,a){let i=Nf(n);return(a&&e!=="right"||!a&&e==="right")&&(i=Z3(i)),i}function sS(n,e,a,i){const{top:o,left:r,bottom:u,right:f,chart:m}=n,{chartArea:g,scales:y}=m;let v=0,x,S,j;const M=u-o,N=f-r;if(n.isHorizontal()){if(S=dn(i,r,f),Wt(a)){const k=Object.keys(a)[0],H=a[k];j=y[k].getPixelForValue(H)+M-e}else a==="center"?j=(g.bottom+g.top)/2+M-e:j=Cp(n,a,e);x=f-r}else{if(Wt(a)){const k=Object.keys(a)[0],H=a[k];S=y[k].getPixelForValue(H)-N+e}else a==="center"?S=(g.left+g.right)/2-N+e:S=Cp(n,a,e);j=dn(i,u,o),v=a==="left"?-ps:ps}return{titleX:S,titleY:j,maxWidth:x,rotation:v}}class gl extends Va{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,a){return e}getUserBounds(){let{_userMin:e,_userMax:a,_suggestedMin:i,_suggestedMax:o}=this;return e=Os(e,Number.POSITIVE_INFINITY),a=Os(a,Number.NEGATIVE_INFINITY),i=Os(i,Number.POSITIVE_INFINITY),o=Os(o,Number.NEGATIVE_INFINITY),{min:Os(e,i),max:Os(a,o),minDefined:mn(e),maxDefined:mn(a)}}getMinMax(e){let{min:a,max:i,minDefined:o,maxDefined:r}=this.getUserBounds(),u;if(o&&r)return{min:a,max:i};const f=this.getMatchingVisibleMetas();for(let m=0,g=f.length;m<g;++m)u=f[m].controller.getMinMax(this,e),o||(a=Math.min(a,u.min)),r||(i=Math.max(i,u.max));return a=r&&a>i?i:a,i=o&&a>i?a:i,{min:Os(a,Os(i,a)),max:Os(i,Os(a,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Se(this.options.beforeUpdate,[this])}update(e,a,i){const{beginAtZero:o,grace:r,ticks:u}=this.options,f=u.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=a,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=d4(this,r,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=f<this.ticks.length;this._convertTicksToLabels(m?Ap(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=X3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,a,i;this.isHorizontal()?(a=this.left,i=this.right):(a=this.top,i=this.bottom,e=!e),this._startPixel=a,this._endPixel=i,this._reversePixels=e,this._length=i-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Se(this.options.afterUpdate,[this])}beforeSetDimensions(){Se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Se(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Se(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const a=this.options.ticks;let i,o,r;for(i=0,o=e.length;i<o;i++)r=e[i],r.label=Se(a.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,a=e.ticks,i=Mp(this.ticks.length,e.ticks.maxTicksLimit),o=a.minRotation||0,r=a.maxRotation;let u=o,f,m,g;if(!this._isVisible()||!a.display||o>=r||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const y=this._getLabelSizes(),v=y.widest.width,x=y.highest.height,S=qn(this.chart.width-v,0,this.maxWidth);f=e.offset?this.maxWidth/i:S/(i-1),v+6>f&&(f=S/(i-(e.offset?.5:1)),m=this.maxHeight-fo(e.grid)-a.padding-Ep(e.title,this.chart.options.font),g=Math.sqrt(v*v+x*x),u=k5(Math.min(Math.asin(qn((y.highest.height+6)/f,-1,1)),Math.asin(qn(m/g,-1,1))-Math.asin(qn(x/g,-1,1)))),u=Math.max(o,Math.min(r,u))),this.labelRotation=u}afterCalculateLabelRotation(){Se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Se(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:a,options:{ticks:i,title:o,grid:r}}=this,u=this._isVisible(),f=this.isHorizontal();if(u){const m=Ep(o,a.options.font);if(f?(e.width=this.maxWidth,e.height=fo(r)+m):(e.height=this.maxHeight,e.width=fo(r)+m),i.display&&this.ticks.length){const{first:g,last:y,widest:v,highest:x}=this._getLabelSizes(),S=i.padding*2,j=hi(this.labelRotation),M=Math.cos(j),N=Math.sin(j);if(f){const k=i.mirror?0:N*v.width+M*x.height;e.height=Math.min(this.maxHeight,e.height+k+S)}else{const k=i.mirror?0:M*v.width+N*x.height;e.width=Math.min(this.maxWidth,e.width+k+S)}this._calculatePadding(g,y,N,M)}}this._handleMargins(),f?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,a,i,o){const{ticks:{align:r,padding:u},position:f}=this.options,m=this.labelRotation!==0,g=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,S=0;m?g?(x=o*e.width,S=i*a.height):(x=i*e.height,S=o*a.width):r==="start"?S=a.width:r==="end"?x=e.width:r!=="inner"&&(x=e.width/2,S=a.width/2),this.paddingLeft=Math.max((x-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-v+u)*this.width/(this.width-v),0)}else{let y=a.height/2,v=e.height/2;r==="start"?(y=0,v=e.height):r==="end"&&(y=a.height,v=0),this.paddingTop=y+u,this.paddingBottom=v+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Se(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:a}=this.options;return a==="top"||a==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let a,i;for(a=0,i=e.length;a<i;a++)ee(e[a].label)&&(e.splice(a,1),i--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const a=this.options.ticks.sampleSize;let i=this.ticks;a<i.length&&(i=Ap(i,a)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,a,i){const{ctx:o,_longestTextCache:r}=this,u=[],f=[],m=Math.floor(a/Mp(a,i));let g=0,y=0,v,x,S,j,M,N,k,H,z,Q,U;for(v=0;v<a;v+=m){if(j=e[v].label,M=this._resolveTickFontOptions(v),o.font=N=M.string,k=r[N]=r[N]||{data:{},gc:[]},H=M.lineHeight,z=Q=0,!ee(j)&&!Ge(j))z=np(o,k.data,k.gc,z,j),Q=H;else if(Ge(j))for(x=0,S=j.length;x<S;++x)U=j[x],!ee(U)&&!Ge(U)&&(z=np(o,k.data,k.gc,z,U),Q+=H);u.push(z),f.push(Q),g=Math.max(z,g),y=Math.max(Q,y)}J3(r,a);const Z=u.indexOf(g),P=f.indexOf(y),nt=tt=>({width:u[tt]||0,height:f[tt]||0});return{first:nt(0),last:nt(a-1),widest:nt(Z),highest:nt(P),widths:u,heights:f}}getLabelForValue(e){return e}getPixelForValue(e,a){return NaN}getValueForPixel(e){}getPixelForTick(e){const a=this.ticks;return e<0||e>a.length-1?null:this.getPixelForValue(a[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const a=this._startPixel+e*this._length;return H5(this._alignToPixels?ri(this.chart,a,0):a)}getDecimalForPixel(e){const a=(e-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:a}=this;return e<0&&a<0?a:e>0&&a>0?e:0}getContext(e){const a=this.ticks||[];if(e>=0&&e<a.length){const i=a[e];return i.$context||(i.$context=eS(this.getContext(),e,i))}return this.$context||(this.$context=tS(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,a=hi(this.labelRotation),i=Math.abs(Math.cos(a)),o=Math.abs(Math.sin(a)),r=this._getLabelSizes(),u=e.autoSkipPadding||0,f=r?r.widest.width+u:0,m=r?r.highest.height+u:0;return this.isHorizontal()?m*i>f*o?f/i:m/o:m*o<f*i?m/i:f/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const a=this.axis,i=this.chart,o=this.options,{grid:r,position:u,border:f}=o,m=r.offset,g=this.isHorizontal(),v=this.ticks.length+(m?1:0),x=fo(r),S=[],j=f.setContext(this.getContext()),M=j.display?j.width:0,N=M/2,k=function(D){return ri(i,D,M)};let H,z,Q,U,Z,P,nt,tt,rt,J,V,ht;if(u==="top")H=k(this.bottom),P=this.bottom-x,tt=H-N,J=k(e.top)+N,ht=e.bottom;else if(u==="bottom")H=k(this.top),J=e.top,ht=k(e.bottom)-N,P=H+N,tt=this.top+x;else if(u==="left")H=k(this.right),Z=this.right-x,nt=H-N,rt=k(e.left)+N,V=e.right;else if(u==="right")H=k(this.left),rt=e.left,V=k(e.right)-N,Z=H+N,nt=this.left+x;else if(a==="x"){if(u==="center")H=k((e.top+e.bottom)/2+.5);else if(Wt(u)){const D=Object.keys(u)[0],K=u[D];H=k(this.chart.scales[D].getPixelForValue(K))}J=e.top,ht=e.bottom,P=H+N,tt=P+x}else if(a==="y"){if(u==="center")H=k((e.left+e.right)/2);else if(Wt(u)){const D=Object.keys(u)[0],K=u[D];H=k(this.chart.scales[D].getPixelForValue(K))}Z=H-N,nt=Z-x,rt=e.left,V=e.right}const ot=Ut(o.ticks.maxTicksLimit,v),ct=Math.max(1,Math.ceil(v/ot));for(z=0;z<v;z+=ct){const D=this.getContext(z),K=r.setContext(D),E=f.setContext(D),Y=K.lineWidth,st=K.color,A=E.dash||[],F=E.dashOffset,lt=K.tickWidth,ut=K.tickColor,bt=K.tickBorderDash||[],Nt=K.tickBorderDashOffset;Q=$3(this,z,m),Q!==void 0&&(U=ri(i,Q,Y),g?Z=nt=rt=V=U:P=tt=J=ht=U,S.push({tx1:Z,ty1:P,tx2:nt,ty2:tt,x1:rt,y1:J,x2:V,y2:ht,width:Y,color:st,borderDash:A,borderDashOffset:F,tickWidth:lt,tickColor:ut,tickBorderDash:bt,tickBorderDashOffset:Nt}))}return this._ticksLength=v,this._borderValue=H,S}_computeLabelItems(e){const a=this.axis,i=this.options,{position:o,ticks:r}=i,u=this.isHorizontal(),f=this.ticks,{align:m,crossAlign:g,padding:y,mirror:v}=r,x=fo(i.grid),S=x+y,j=v?-y:S,M=-hi(this.labelRotation),N=[];let k,H,z,Q,U,Z,P,nt,tt,rt,J,V,ht="middle";if(o==="top")Z=this.bottom-j,P=this._getXAxisLabelAlignment();else if(o==="bottom")Z=this.top+j,P=this._getXAxisLabelAlignment();else if(o==="left"){const ct=this._getYAxisLabelAlignment(x);P=ct.textAlign,U=ct.x}else if(o==="right"){const ct=this._getYAxisLabelAlignment(x);P=ct.textAlign,U=ct.x}else if(a==="x"){if(o==="center")Z=(e.top+e.bottom)/2+S;else if(Wt(o)){const ct=Object.keys(o)[0],D=o[ct];Z=this.chart.scales[ct].getPixelForValue(D)+S}P=this._getXAxisLabelAlignment()}else if(a==="y"){if(o==="center")U=(e.left+e.right)/2-S;else if(Wt(o)){const ct=Object.keys(o)[0],D=o[ct];U=this.chart.scales[ct].getPixelForValue(D)}P=this._getYAxisLabelAlignment(x).textAlign}a==="y"&&(m==="start"?ht="top":m==="end"&&(ht="bottom"));const ot=this._getLabelSizes();for(k=0,H=f.length;k<H;++k){z=f[k],Q=z.label;const ct=r.setContext(this.getContext(k));nt=this.getPixelForTick(k)+r.labelOffset,tt=this._resolveTickFontOptions(k),rt=tt.lineHeight,J=Ge(Q)?Q.length:1;const D=J/2,K=ct.color,E=ct.textStrokeColor,Y=ct.textStrokeWidth;let st=P;u?(U=nt,P==="inner"&&(k===H-1?st=this.options.reverse?"left":"right":k===0?st=this.options.reverse?"right":"left":st="center"),o==="top"?g==="near"||M!==0?V=-J*rt+rt/2:g==="center"?V=-ot.highest.height/2-D*rt+rt:V=-ot.highest.height+rt/2:g==="near"||M!==0?V=rt/2:g==="center"?V=ot.highest.height/2-D*rt:V=ot.highest.height-J*rt,v&&(V*=-1),M!==0&&!ct.showLabelBackdrop&&(U+=rt/2*Math.sin(M))):(Z=nt,V=(1-J)*rt/2);let A;if(ct.showLabelBackdrop){const F=as(ct.backdropPadding),lt=ot.heights[k],ut=ot.widths[k];let bt=V-F.top,Nt=0-F.left;switch(ht){case"middle":bt-=lt/2;break;case"bottom":bt-=lt;break}switch(P){case"center":Nt-=ut/2;break;case"right":Nt-=ut;break;case"inner":k===H-1?Nt-=ut:k>0&&(Nt-=ut/2);break}A={left:Nt,top:bt,width:ut+F.width,height:lt+F.height,color:ct.backdropColor}}N.push({label:Q,font:tt,textOffset:V,options:{rotation:M,color:K,strokeColor:E,strokeWidth:Y,textAlign:st,textBaseline:ht,translation:[U,Z],backdrop:A}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:a}=this.options;if(-hi(this.labelRotation))return e==="top"?"left":"right";let o="center";return a.align==="start"?o="left":a.align==="end"?o="right":a.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:a,ticks:{crossAlign:i,mirror:o,padding:r}}=this.options,u=this._getLabelSizes(),f=e+r,m=u.widest.width;let g,y;return a==="left"?o?(y=this.right+r,i==="near"?g="left":i==="center"?(g="center",y+=m/2):(g="right",y+=m)):(y=this.right-f,i==="near"?g="right":i==="center"?(g="center",y-=m/2):(g="left",y=this.left)):a==="right"?o?(y=this.left+r,i==="near"?g="right":i==="center"?(g="center",y-=m/2):(g="left",y-=m)):(y=this.left+f,i==="near"?g="left":i==="center"?(g="center",y+=m/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:a},left:i,top:o,width:r,height:u}=this;a&&(e.save(),e.fillStyle=a,e.fillRect(i,o,r,u),e.restore())}getLineWidthForValue(e){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const o=this.ticks.findIndex(r=>r.value===e);return o>=0?a.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const a=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,u;const f=(m,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(m.x,m.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(a.display)for(r=0,u=o.length;r<u;++r){const m=o[r];a.drawOnChartArea&&f({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),a.drawTicks&&f({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:a,options:{border:i,grid:o}}=this,r=i.setContext(this.getContext()),u=i.display?r.width:0;if(!u)return;const f=o.setContext(this.getContext(0)).lineWidth,m=this._borderValue;let g,y,v,x;this.isHorizontal()?(g=ri(e,this.left,u)-u/2,y=ri(e,this.right,f)+f/2,v=x=m):(v=ri(e,this.top,u)-u/2,x=ri(e,this.bottom,f)+f/2,g=y=m),a.save(),a.lineWidth=r.width,a.strokeStyle=r.color,a.beginPath(),a.moveTo(g,v),a.lineTo(y,x),a.stroke(),a.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&Nc(i,o);const r=this.getLabelItems(e);for(const u of r){const f=u.options,m=u.font,g=u.label,y=u.textOffset;Co(i,g,0,y,m,f)}o&&wc(i)}drawTitle(){const{ctx:e,options:{position:a,title:i,reverse:o}}=this;if(!i.display)return;const r=hn(i.font),u=as(i.padding),f=i.align;let m=r.lineHeight/2;a==="bottom"||a==="center"||Wt(a)?(m+=u.bottom,Ge(i.text)&&(m+=r.lineHeight*(i.text.length-1))):m+=u.top;const{titleX:g,titleY:y,maxWidth:v,rotation:x}=sS(this,m,a,f);Co(e,i.text,0,0,r,{color:i.color,maxWidth:v,rotation:x,textAlign:nS(f,a,o),textBaseline:"middle",translation:[g,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,a=e.ticks&&e.ticks.z||0,i=Ut(e.grid&&e.grid.z,-1),o=Ut(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==gl.prototype.draw?[{z:a,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:a,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const a=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let r,u;for(r=0,u=a.length;r<u;++r){const f=a[r];f[i]===this.id&&(!e||f.type===e)&&o.push(f)}return o}_resolveTickFontOptions(e){const a=this.options.ticks.setContext(this.getContext(e));return hn(a.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Jr{constructor(e,a,i){this.type=e,this.scope=a,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const a=Object.getPrototypeOf(e);let i;lS(a)&&(i=this.register(a));const o=this.items,r=e.id,u=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in o||(o[r]=e,aS(e,u,i),this.override&&Le.override(e.id,e.overrides)),u}get(e){return this.items[e]}unregister(e){const a=this.items,i=e.id,o=this.scope;i in a&&delete a[i],o&&i in Le[o]&&(delete Le[o][i],this.override&&delete bi[i])}}function aS(n,e,a){const i=_o(Object.create(null),[a?Le.get(a):{},Le.get(e),n.defaults]);Le.set(e,i),n.defaultRoutes&&iS(e,n.defaultRoutes),n.descriptors&&Le.describe(e,n.descriptors)}function iS(n,e){Object.keys(e).forEach(a=>{const i=a.split("."),o=i.pop(),r=[n].concat(i).join("."),u=e[a].split("."),f=u.pop(),m=u.join(".");Le.route(r,o,m,f)})}function lS(n){return"id"in n&&"defaults"in n}class oS{constructor(){this.controllers=new Jr(Of,"datasets",!0),this.elements=new Jr(Va,"elements"),this.plugins=new Jr(Object,"plugins"),this.scales=new Jr(gl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,a,i){[...a].forEach(o=>{const r=i||this._getRegistryForType(o);i||r.isForType(o)||r===this.plugins&&o.id?this._exec(e,r,o):oe(o,u=>{const f=i||this._getRegistryForType(u);this._exec(e,f,u)})})}_exec(e,a,i){const o=_f(e);Se(i["before"+o],[],i),a[e](i),Se(i["after"+o],[],i)}_getRegistryForType(e){for(let a=0;a<this._typedRegistries.length;a++){const i=this._typedRegistries[a];if(i.isForType(e))return i}return this.plugins}_get(e,a,i){const o=a.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var zs=new oS;class rS{constructor(){this._init=void 0}notify(e,a,i,o){if(a==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=o?this._descriptors(e).filter(o):this._descriptors(e),u=this._notify(r,e,a,i);return a==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),u}_notify(e,a,i,o){o=o||{};for(const r of e){const u=r.plugin,f=u[i],m=[a,o,r.options];if(Se(f,m,u)===!1&&o.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),a}_createDescriptors(e,a){const i=e&&e.config,o=Ut(i.options&&i.options.plugins,{}),r=cS(i);return o===!1&&!a?[]:dS(e,r,o,a)}_notifyStateChanges(e){const a=this._oldCache||[],i=this._cache,o=(r,u)=>r.filter(f=>!u.some(m=>f.plugin.id===m.plugin.id));this._notify(o(a,i),e,"stop"),this._notify(o(i,a),e,"start")}}function cS(n){const e={},a=[],i=Object.keys(zs.plugins.items);for(let r=0;r<i.length;r++)a.push(zs.getPlugin(i[r]));const o=n.plugins||[];for(let r=0;r<o.length;r++){const u=o[r];a.indexOf(u)===-1&&(a.push(u),e[u.id]=!0)}return{plugins:a,localIds:e}}function uS(n,e){return!e&&n===!1?null:n===!0?{}:n}function dS(n,{plugins:e,localIds:a},i,o){const r=[],u=n.getContext();for(const f of e){const m=f.id,g=uS(i[m],o);g!==null&&r.push({plugin:f,options:fS(n.config,{plugin:f,local:a[m]},g,u)})}return r}function fS(n,{plugin:e,local:a},i,o){const r=n.pluginScopeKeys(e),u=n.getOptionScopes(i,r);return a&&e.defaults&&u.push(e.defaults),n.createResolver(u,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function uf(n,e){const a=Le.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||a.indexAxis||"x"}function hS(n,e){let a=n;return n==="_index_"?a=e:n==="_value_"&&(a=e==="x"?"y":"x"),a}function mS(n,e){return n===e?"_index_":"_value_"}function Tp(n){if(n==="x"||n==="y"||n==="r")return n}function gS(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function df(n,...e){if(Tp(n))return n;for(const a of e){const i=a.axis||gS(a.position)||n.length>1&&Tp(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Op(n,e,a){if(a[e+"AxisID"]===n)return{axis:e}}function pS(n,e){if(e.data&&e.data.datasets){const a=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(a.length)return Op(n,"x",a[0])||Op(n,"y",a[0])}return{}}function yS(n,e){const a=bi[n.type]||{scales:{}},i=e.scales||{},o=uf(n.type,e),r=Object.create(null);return Object.keys(i).forEach(u=>{const f=i[u];if(!Wt(f))return console.error(`Invalid scale configuration for scale: ${u}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const m=df(u,f,pS(u,n),Le.scales[f.type]),g=mS(m,o),y=a.scales||{};r[u]=yo(Object.create(null),[{axis:m},f,y[m],y[g]])}),n.data.datasets.forEach(u=>{const f=u.type||n.type,m=u.indexAxis||uf(f,e),y=(bi[f]||{}).scales||{};Object.keys(y).forEach(v=>{const x=hS(v,m),S=u[x+"AxisID"]||x;r[S]=r[S]||Object.create(null),yo(r[S],[{axis:x},i[S],y[v]])})}),Object.keys(r).forEach(u=>{const f=r[u];yo(f,[Le.scales[f.type],Le.scale])}),r}function y2(n){const e=n.options||(n.options={});e.plugins=Ut(e.plugins,{}),e.scales=yS(n,e)}function v2(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function vS(n){return n=n||{},n.data=v2(n.data),y2(n),n}const Dp=new Map,b2=new Set;function tc(n,e){let a=Dp.get(n);return a||(a=e(),Dp.set(n,a),b2.add(a)),a}const ho=(n,e,a)=>{const i=ul(e,a);i!==void 0&&n.add(i)};class bS{constructor(e){this._config=vS(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=v2(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),y2(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return tc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,a){return tc(`${e}.transition.${a}`,()=>[[`datasets.${e}.transitions.${a}`,`transitions.${a}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,a){return tc(`${e}-${a}`,()=>[[`datasets.${e}.elements.${a}`,`datasets.${e}`,`elements.${a}`,""]])}pluginScopeKeys(e){const a=e.id,i=this.type;return tc(`${i}-plugin-${a}`,()=>[[`plugins.${a}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,a){const i=this._scopeCache;let o=i.get(e);return(!o||a)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,a,i){const{options:o,type:r}=this,u=this._cachedScopes(e,i),f=u.get(a);if(f)return f;const m=new Set;a.forEach(y=>{e&&(m.add(e),y.forEach(v=>ho(m,e,v))),y.forEach(v=>ho(m,o,v)),y.forEach(v=>ho(m,bi[r]||{},v)),y.forEach(v=>ho(m,Le,v)),y.forEach(v=>ho(m,rf,v))});const g=Array.from(m);return g.length===0&&g.push(Object.create(null)),b2.has(a)&&u.set(a,g),g}chartOptionScopes(){const{options:e,type:a}=this;return[e,bi[a]||{},Le.datasets[a]||{},{type:a},Le,rf]}resolveNamedOptions(e,a,i,o=[""]){const r={$shared:!0},{resolver:u,subPrefixes:f}=zp(this._resolverCache,e,o);let m=u;if(SS(u,a)){r.$shared=!1,i=Ua(i)?i():i;const g=this.createResolver(e,i,f);m=dl(u,i,g)}for(const g of a)r[g]=m[g];return r}createResolver(e,a,i=[""],o){const{resolver:r}=zp(this._resolverCache,e,i);return Wt(a)?dl(r,a,void 0,o):r}}function zp(n,e,a){let i=n.get(e);i||(i=new Map,n.set(e,i));const o=a.join();let r=i.get(o);return r||(r={resolver:Cf(e,a),subPrefixes:a.filter(f=>!f.toLowerCase().includes("hover"))},i.set(o,r)),r}const xS=n=>Wt(n)&&Object.getOwnPropertyNames(n).some(e=>Ua(n[e]));function SS(n,e){const{isScriptable:a,isIndexable:i}=$1(n);for(const o of e){const r=a(o),u=i(o),f=(u||r)&&n[o];if(r&&(Ua(f)||xS(f))||u&&Ge(f))return!0}return!1}var _S="4.5.1";const jS=["top","bottom","left","right","chartArea"];function Rp(n,e){return n==="top"||n==="bottom"||jS.indexOf(n)===-1&&e==="x"}function kp(n,e){return function(a,i){return a[n]===i[n]?a[e]-i[e]:a[n]-i[n]}}function Lp(n){const e=n.chart,a=e.options.animation;e.notifyPlugins("afterRender"),Se(a&&a.onComplete,[n],e)}function NS(n){const e=n.chart,a=e.options.animation;Se(a&&a.onProgress,[n],e)}function x2(n){return Ef()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const oc={},Bp=n=>{const e=x2(n);return Object.values(oc).filter(a=>a.canvas===e).pop()};function wS(n,e,a){const i=Object.keys(n);for(const o of i){const r=+o;if(r>=e){const u=n[o];delete n[o],(a>0||r>e)&&(n[r+a]=u)}}}function CS(n,e,a,i){return!a||n.type==="mouseout"?null:i?e:n}let Ac=class{static defaults=Le;static instances=oc;static overrides=bi;static registry=zs;static version=_S;static getChart=Bp;static register(...e){zs.add(...e),Hp()}static unregister(...e){zs.remove(...e),Hp()}constructor(e,a){const i=this.config=new bS(a),o=x2(e),r=Bp(o);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Y3(o)),this.platform.updateConfig(i);const f=this.platform.acquireContext(o,u.aspectRatio),m=f&&f.canvas,g=m&&m.height,y=m&&m.width;if(this.id=_5(),this.ctx=f,this.canvas=m,this.width=y,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=P5(v=>this.update(v),u.resizeDelay||0),this._dataChanges=[],oc[this.id]=this,!f||!m){console.error("Failed to create chart: can't acquire context from the given item");return}oa.listen(this,"complete",Lp),oa.listen(this,"progress",NS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:a},width:i,height:o,_aspectRatio:r}=this;return ee(e)?a&&r?r:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return zs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sp(this.canvas,this.ctx),this}stop(){return oa.stop(this),this}resize(e,a){oa.running(this)?this._resizeBeforeDraw={width:e,height:a}:this._resize(e,a)}_resize(e,a){const i=this.options,o=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(o,e,a,r),f=i.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,lp(this,f,!0)&&(this.notifyPlugins("resize",{size:u}),Se(i.onResize,[this,u],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};oe(a,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,a=e.scales,i=this.scales,o=Object.keys(i).reduce((u,f)=>(u[f]=!1,u),{});let r=[];a&&(r=r.concat(Object.keys(a).map(u=>{const f=a[u],m=df(u,f),g=m==="r",y=m==="x";return{options:f,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),oe(r,u=>{const f=u.options,m=f.id,g=df(m,f),y=Ut(f.type,u.dtype);(f.position===void 0||Rp(f.position,g)!==Rp(u.dposition))&&(f.position=u.dposition),o[m]=!0;let v=null;if(m in i&&i[m].type===y)v=i[m];else{const x=zs.getScale(y);v=new x({id:m,type:y,ctx:this.ctx,chart:this}),i[v.id]=v}v.init(f,e)}),oe(o,(u,f)=>{u||delete i[f]}),oe(i,u=>{ss.configure(this,u,u.options),ss.addBox(this,u)})}_updateMetasets(){const e=this._metasets,a=this.data.datasets.length,i=e.length;if(e.sort((o,r)=>o.index-r.index),i>a){for(let o=a;o<i;++o)this._destroyDatasetMeta(o);e.splice(a,i-a)}this._sortedMetasets=e.slice(0).sort(kp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:a}}=this;e.length>a.length&&delete this._stacks,e.forEach((i,o)=>{a.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],a=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=a.length;i<o;i++){const r=a[i];let u=this.getDatasetMeta(i);const f=r.type||this.config.type;if(u.type&&u.type!==f&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=f,u.indexAxis=r.indexAxis||uf(f,this.options),u.order=r.order||0,u.index=i,u.label=""+r.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const m=zs.getController(f),{datasetElementType:g,dataElementType:y}=Le.datasets[f];Object.assign(m,{dataElementType:zs.getElement(y),datasetElementType:g&&zs.getElement(g)}),u.controller=new m(this,i),e.push(u.controller)}}return this._updateMetasets(),e}_resetElements(){oe(this.data.datasets,(e,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const a=this.config;a.update();const i=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:v}=this.getDatasetMeta(g),x=!o&&r.indexOf(v)===-1;v.buildOrUpdateElements(x),u=Math.max(+v.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),o||oe(r,g=>{g.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kp("z","_idx"));const{_active:f,_lastEvent:m}=this;m?this._eventHandler(m,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){oe(this.scales,e=>{ss.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,a=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Qg(a,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,a=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:r}of a){const u=i==="_removeElements"?-r:r;wS(e,o,u)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const a=this.data.datasets.length,i=r=>new Set(e.filter(u=>u[0]===r).map((u,f)=>f+","+u.splice(1).join(","))),o=i(0);for(let r=1;r<a;r++)if(!Qg(o,i(r)))return;return Array.from(o).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ss.update(this,this.width,this.height,e);const a=this.chartArea,i=a.width<=0||a.height<=0;this._layers=[],oe(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,r)=>{o._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let a=0,i=this.data.datasets.length;a<i;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,i=this.data.datasets.length;a<i;++a)this._updateDataset(a,Ua(e)?e({datasetIndex:a}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,a){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(a),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(oa.has(this)?this.attached&&!oa.running(this)&&oa.start(this):(this.draw(),Lp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(e=0;e<a.length&&a[e].z<=0;++e)a[e].draw(this.chartArea);for(this._drawDatasets();e<a.length;++e)a[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const a=this._sortedMetasets,i=[];let o,r;for(o=0,r=a.length;o<r;++o){const u=a[o];(!e||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let a=e.length-1;a>=0;--a)this._drawDataset(e[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const a=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=r2(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Nc(a,o),e.controller.draw(),o&&wc(a),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return wo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,a,i,o){const r=j3.modes[a];return typeof r=="function"?r(this,e,i,o):[]}getDatasetMeta(e){const a=this.data.datasets[e],i=this._metasets;let o=i.filter(r=>r&&r._dataset===a).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:e,_dataset:a,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=xi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const a=this.data.datasets[e];if(!a)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!a.hidden}setDatasetVisibility(e,a){const i=this.getDatasetMeta(e);i.hidden=!a}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,a,i){const o=i?"show":"hide",r=this.getDatasetMeta(e),u=r.controller._resolveAnimations(void 0,o);jo(a)?(r.data[a].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),u.update(r,{visible:i}),this.update(f=>f.datasetIndex===e?o:void 0))}hide(e,a){this._updateVisibility(e,a,!1)}show(e,a){this._updateVisibility(e,a,!0)}_destroyDatasetMeta(e){const a=this._metasets[e];a&&a.controller&&a.controller._destroy(),delete this._metasets[e]}_stop(){let e,a;for(this.stop(),oa.remove(this),e=0,a=this.data.datasets.length;e<a;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:a}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sp(e,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete oc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,a=this.platform,i=(r,u)=>{a.addEventListener(this,r,u),e[r]=u},o=(r,u,f)=>{r.offsetX=u,r.offsetY=f,this._eventHandler(r)};oe(this.options.events,r=>i(r,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,a=this.platform,i=(m,g)=>{a.addEventListener(this,m,g),e[m]=g},o=(m,g)=>{e[m]&&(a.removeEventListener(this,m,g),delete e[m])},r=(m,g)=>{this.canvas&&this.resize(m,g)};let u;const f=()=>{o("attach",f),this.attached=!0,this.resize(),i("resize",r),i("detach",u)};u=()=>{this.attached=!1,o("resize",r),this._stop(),this._resize(0,0),i("attach",f)},a.isAttached(this.canvas)?f():u()}unbindEvents(){oe(this._listeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._listeners={},oe(this._responsiveListeners,(e,a)=>{this.platform.removeEventListener(this,a,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,a,i){const o=i?"set":"remove";let r,u,f,m;for(a==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+o+"DatasetHoverStyle"]()),f=0,m=e.length;f<m;++f){u=e[f];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[o+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const a=this._active||[],i=e.map(({datasetIndex:r,index:u})=>{const f=this.getDatasetMeta(r);if(!f)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:f.data[u],index:u}});!dc(i,a)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,a))}notifyPlugins(e,a,i){return this._plugins.notify(this,e,a,i)}isPluginEnabled(e){return this._plugins._cache.filter(a=>a.plugin.id===e).length===1}_updateHoverStyles(e,a,i){const o=this.options.hover,r=(m,g)=>m.filter(y=>!g.some(v=>y.datasetIndex===v.datasetIndex&&y.index===v.index)),u=r(a,e),f=i?e:r(e,a);u.length&&this.updateHoverStyle(u,o.mode,!1),f.length&&o.mode&&this.updateHoverStyle(f,o.mode,!0)}_eventHandler(e,a){const i={event:e,replay:a,cancelable:!0,inChartArea:this.isPointInArea(e)},o=u=>(u.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const r=this._handleEvent(e,a,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(r||i.changed)&&this.render(),this}_handleEvent(e,a,i){const{_active:o=[],options:r}=this,u=a,f=this._getActiveElements(e,o,i,u),m=A5(e),g=CS(e,this._lastEvent,i,m);i&&(this._lastEvent=null,Se(r.onHover,[e,f,this],this),m&&Se(r.onClick,[e,f,this],this));const y=!dc(f,o);return(y||a)&&(this._active=f,this._updateHoverStyles(f,o,a)),this._lastEvent=g,y}_getActiveElements(e,a,i,o){if(e.type==="mouseout")return[];if(!i)return a;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,o)}};function Hp(){return oe(Ac.instances,n=>n._plugins.invalidate())}function S2(n,e,a=e){n.lineCap=Ut(a.borderCapStyle,e.borderCapStyle),n.setLineDash(Ut(a.borderDash,e.borderDash)),n.lineDashOffset=Ut(a.borderDashOffset,e.borderDashOffset),n.lineJoin=Ut(a.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Ut(a.borderWidth,e.borderWidth),n.strokeStyle=Ut(a.borderColor,e.borderColor)}function MS(n,e,a){n.lineTo(a.x,a.y)}function AS(n){return n.stepped?n4:n.tension||n.cubicInterpolationMode==="monotone"?s4:MS}function _2(n,e,a={}){const i=n.length,{start:o=0,end:r=i-1}=a,{start:u,end:f}=e,m=Math.max(o,u),g=Math.min(r,f),y=o<u&&r<u||o>f&&r>f;return{count:i,start:m,loop:e.loop,ilen:g<m&&!y?i+g-m:g-m}}function ES(n,e,a,i){const{points:o,options:r}=e,{count:u,start:f,loop:m,ilen:g}=_2(o,a,i),y=AS(r);let{move:v=!0,reverse:x}=i||{},S,j,M;for(S=0;S<=g;++S)j=o[(f+(x?g-S:S))%u],!j.skip&&(v?(n.moveTo(j.x,j.y),v=!1):y(n,M,j,x,r.stepped),M=j);return m&&(j=o[(f+(x?g:0))%u],y(n,M,j,x,r.stepped)),!!m}function TS(n,e,a,i){const o=e.points,{count:r,start:u,ilen:f}=_2(o,a,i),{move:m=!0,reverse:g}=i||{};let y=0,v=0,x,S,j,M,N,k;const H=Q=>(u+(g?f-Q:Q))%r,z=()=>{M!==N&&(n.lineTo(y,N),n.lineTo(y,M),n.lineTo(y,k))};for(m&&(S=o[H(0)],n.moveTo(S.x,S.y)),x=0;x<=f;++x){if(S=o[H(x)],S.skip)continue;const Q=S.x,U=S.y,Z=Q|0;Z===j?(U<M?M=U:U>N&&(N=U),y=(v*y+Q)/++v):(z(),n.lineTo(Q,U),j=Z,v=0,M=N=U),k=U}z()}function ff(n){const e=n.options,a=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!a?TS:ES}function OS(n){return n.stepped?k4:n.tension||n.cubicInterpolationMode==="monotone"?L4:di}function DS(n,e,a,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,a,i)&&o.closePath()),S2(n,e.options),n.stroke(o)}function zS(n,e,a,i){const{segments:o,options:r}=e,u=ff(e);for(const f of o)S2(n,r,f.style),n.beginPath(),u(n,e,f,{start:a,end:a+i-1})&&n.closePath(),n.stroke()}const RS=typeof Path2D=="function";function kS(n,e,a,i){RS&&!e.options.segment?DS(n,e,a,i):zS(n,e,a,i)}class Ec extends Va{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,a){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;M4(this._points,i,e,o,a),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=P4(this,this.options.segment))}first(){const e=this.segments,a=this.points;return e.length&&a[e[0].start]}last(){const e=this.segments,a=this.points,i=e.length;return i&&a[e[i-1].end]}interpolate(e,a){const i=this.options,o=e[a],r=this.points,u=o2(this,{property:a,start:o,end:o});if(!u.length)return;const f=[],m=OS(i);let g,y;for(g=0,y=u.length;g<y;++g){const{start:v,end:x}=u[g],S=r[v],j=r[x];if(S===j){f.push(S);continue}const M=Math.abs((o-S[a])/(j[a]-S[a])),N=m(S,j,M,i.stepped);N[a]=e[a],f.push(N)}return f.length===1?f[0]:f}pathSegment(e,a,i){return ff(this)(e,this,a,i)}path(e,a,i){const o=this.segments,r=ff(this);let u=this._loop;a=a||0,i=i||this.points.length-a;for(const f of o)u&=r(e,this,f,{start:a,end:a+i-1});return!!u}draw(e,a,i,o){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),kS(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Up(n,e,a,i){const o=n.options,{[a]:r}=n.getProps([a],i);return Math.abs(e-r)<o.radius+o.hitRadius}class LS extends Va{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,a,i){const o=this.options,{x:r,y:u}=this.getProps(["x","y"],i);return Math.pow(e-r,2)+Math.pow(a-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,a){return Up(this,e,"x",a)}inYRange(e,a){return Up(this,e,"y",a)}getCenterPoint(e){const{x:a,y:i}=this.getProps(["x","y"],e);return{x:a,y:i}}size(e){e=e||this.options||{};let a=e.radius||0;a=Math.max(a,a&&e.hoverRadius||0);const i=a&&e.borderWidth||0;return(a+i)*2}draw(e,a){const i=this.options;this.skip||i.radius<.1||!wo(this,a,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,cf(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function j2(n,e){const{x:a,y:i,base:o,width:r,height:u}=n.getProps(["x","y","base","width","height"],e);let f,m,g,y,v;return n.horizontal?(v=u/2,f=Math.min(a,o),m=Math.max(a,o),g=i-v,y=i+v):(v=r/2,f=a-v,m=a+v,g=Math.min(i,o),y=Math.max(i,o)),{left:f,top:g,right:m,bottom:y}}function Ba(n,e,a,i){return n?0:qn(e,a,i)}function BS(n,e,a){const i=n.options.borderWidth,o=n.borderSkipped,r=Z1(i);return{t:Ba(o.top,r.top,0,a),r:Ba(o.right,r.right,0,e),b:Ba(o.bottom,r.bottom,0,a),l:Ba(o.left,r.left,0,e)}}function HS(n,e,a){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),o=n.options.borderRadius,r=ol(o),u=Math.min(e,a),f=n.borderSkipped,m=i||Wt(o);return{topLeft:Ba(!m||f.top||f.left,r.topLeft,0,u),topRight:Ba(!m||f.top||f.right,r.topRight,0,u),bottomLeft:Ba(!m||f.bottom||f.left,r.bottomLeft,0,u),bottomRight:Ba(!m||f.bottom||f.right,r.bottomRight,0,u)}}function US(n){const e=j2(n),a=e.right-e.left,i=e.bottom-e.top,o=BS(n,a/2,i/2),r=HS(n,a/2,i/2);return{outer:{x:e.left,y:e.top,w:a,h:i,radius:r},inner:{x:e.left+o.l,y:e.top+o.t,w:a-o.l-o.r,h:i-o.t-o.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,r.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(o.b,o.r))}}}}function Zd(n,e,a,i){const o=e===null,r=a===null,f=n&&!(o&&r)&&j2(n,i);return f&&(o||ka(e,f.left,f.right))&&(r||ka(a,f.top,f.bottom))}function VS(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function FS(n,e){n.rect(e.x,e.y,e.w,e.h)}function $d(n,e,a={}){const i=n.x!==a.x?-e:0,o=n.y!==a.y?-e:0,r=(n.x+n.w!==a.x+a.w?e:0)-i,u=(n.y+n.h!==a.y+a.h?e:0)-o;return{x:n.x+i,y:n.y+o,w:n.w+r,h:n.h+u,radius:n.radius}}class PS extends Va{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:a,options:{borderColor:i,backgroundColor:o}}=this,{inner:r,outer:u}=US(this),f=VS(u.radius)?mc:FS;e.save(),(u.w!==r.w||u.h!==r.h)&&(e.beginPath(),f(e,$d(u,a,r)),e.clip(),f(e,$d(r,-a,u)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),f(e,$d(r,a)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,a,i){return Zd(this,e,a,i)}inXRange(e,a){return Zd(this,e,null,a)}inYRange(e,a){return Zd(this,null,e,a)}getCenterPoint(e){const{x:a,y:i,base:o,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(a+o)/2:a,y:r?i:(i+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function qS(n,e,a){const i=n.segments,o=n.points,r=e.points,u=[];for(const f of i){let{start:m,end:g}=f;g=Tc(m,g,o);const y=hf(a,o[m],o[g],f.loop);if(!e.segments){u.push({source:f,target:y,start:o[m],end:o[g]});continue}const v=o2(e,y);for(const x of v){const S=hf(a,r[x.start],r[x.end],x.loop),j=l2(f,o,S);for(const M of j)u.push({source:M,target:x,start:{[a]:Vp(y,S,"start",Math.max)},end:{[a]:Vp(y,S,"end",Math.min)}})}}return u}function hf(n,e,a,i){if(i)return;let o=e[n],r=a[n];return n==="angle"&&(o=Rs(o),r=Rs(r)),{property:n,start:o,end:r}}function YS(n,e){const{x:a=null,y:i=null}=n||{},o=e.points,r=[];return e.segments.forEach(({start:u,end:f})=>{f=Tc(u,f,o);const m=o[u],g=o[f];i!==null?(r.push({x:m.x,y:i}),r.push({x:g.x,y:i})):a!==null&&(r.push({x:a,y:m.y}),r.push({x:a,y:g.y}))}),r}function Tc(n,e,a){for(;e>n;e--){const i=a[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Vp(n,e,a,i){return n&&e?i(n[a],e[a]):n?n[a]:e?e[a]:0}function N2(n,e){let a=[],i=!1;return Ge(n)?(i=!0,a=n):a=YS(n,e),a.length?new Ec({points:a,options:{tension:0},_loop:i,_fullLoop:i}):null}function Fp(n){return n&&n.fill!==!1}function XS(n,e,a){let o=n[e].fill;const r=[e];let u;if(!a)return o;for(;o!==!1&&r.indexOf(o)===-1;){if(!mn(o))return o;if(u=n[o],!u)return!1;if(u.visible)return o;r.push(o),o=u.fill}return!1}function GS(n,e,a){const i=WS(n);if(Wt(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return mn(o)&&Math.floor(o)===o?QS(i[0],e,o,a):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function QS(n,e,a,i){return(n==="-"||n==="+")&&(a=e+a),a===e||a<0||a>=i?!1:a}function IS(n,e){let a=null;return n==="start"?a=e.bottom:n==="end"?a=e.top:Wt(n)?a=e.getPixelForValue(n.value):e.getBasePixel&&(a=e.getBasePixel()),a}function KS(n,e,a){let i;return n==="start"?i=a:n==="end"?i=e.options.reverse?e.min:e.max:Wt(n)?i=n.value:i=e.getBaseValue(),i}function WS(n){const e=n.options,a=e.fill;let i=Ut(a&&a.target,a);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function ZS(n){const{scale:e,index:a,line:i}=n,o=[],r=i.segments,u=i.points,f=$S(e,a);f.push(N2({x:null,y:e.bottom},i));for(let m=0;m<r.length;m++){const g=r[m];for(let y=g.start;y<=g.end;y++)JS(o,u[y],f)}return new Ec({points:o,options:{}})}function $S(n,e){const a=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const r=i[o];if(r.index===e)break;r.hidden||a.unshift(r.dataset)}return a}function JS(n,e,a){const i=[];for(let o=0;o<a.length;o++){const r=a[o],{first:u,last:f,point:m}=t_(r,e,"x");if(!(!m||u&&f)){if(u)i.unshift(m);else if(n.push(m),!f)break}}n.push(...i)}function t_(n,e,a){const i=n.interpolate(e,a);if(!i)return{};const o=i[a],r=n.segments,u=n.points;let f=!1,m=!1;for(let g=0;g<r.length;g++){const y=r[g],v=u[y.start][a],x=u[y.end][a];if(ka(o,v,x)){f=o===v,m=o===x;break}}return{first:f,last:m,point:i}}class w2{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,a,i){const{x:o,y:r,radius:u}=this;return a=a||{start:0,end:ys},e.arc(o,r,u,a.end,a.start,!0),!i.bounds}interpolate(e){const{x:a,y:i,radius:o}=this,r=e.angle;return{x:a+Math.cos(r)*o,y:i+Math.sin(r)*o,angle:r}}}function e_(n){const{chart:e,fill:a,line:i}=n;if(mn(a))return n_(e,a);if(a==="stack")return ZS(n);if(a==="shape")return!0;const o=s_(n);return o instanceof w2?o:N2(o,i)}function n_(n,e){const a=n.getDatasetMeta(e);return a&&n.isDatasetVisible(e)?a.dataset:null}function s_(n){return(n.scale||{}).getPointPositionForValue?i_(n):a_(n)}function a_(n){const{scale:e={},fill:a}=n,i=IS(a,e);if(mn(i)){const o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function i_(n){const{scale:e,fill:a}=n,i=e.options,o=e.getLabels().length,r=i.reverse?e.max:e.min,u=KS(a,e,r),f=[];if(i.grid.circular){const m=e.getPointPositionForValue(0,r);return new w2({x:m.x,y:m.y,radius:e.getDistanceFromCenterForValue(u)})}for(let m=0;m<o;++m)f.push(e.getPointPositionForValue(m,u));return f}function Jd(n,e,a){const i=e_(e),{chart:o,index:r,line:u,scale:f,axis:m}=e,g=u.options,y=g.fill,v=g.backgroundColor,{above:x=v,below:S=v}=y||{},j=o.getDatasetMeta(r),M=r2(o,j);i&&u.points.length&&(Nc(n,a),l_(n,{line:u,target:i,above:x,below:S,area:a,scale:f,axis:m,clip:M}),wc(n))}function l_(n,e){const{line:a,target:i,above:o,below:r,area:u,scale:f,clip:m}=e,g=a._loop?"angle":e.axis;n.save();let y=r;r!==o&&(g==="x"?(Pp(n,i,u.top),tf(n,{line:a,target:i,color:o,scale:f,property:g,clip:m}),n.restore(),n.save(),Pp(n,i,u.bottom)):g==="y"&&(qp(n,i,u.left),tf(n,{line:a,target:i,color:r,scale:f,property:g,clip:m}),n.restore(),n.save(),qp(n,i,u.right),y=o)),tf(n,{line:a,target:i,color:y,scale:f,property:g,clip:m}),n.restore()}function Pp(n,e,a){const{segments:i,points:o}=e;let r=!0,u=!1;n.beginPath();for(const f of i){const{start:m,end:g}=f,y=o[m],v=o[Tc(m,g,o)];r?(n.moveTo(y.x,y.y),r=!1):(n.lineTo(y.x,a),n.lineTo(y.x,y.y)),u=!!e.pathSegment(n,f,{move:u}),u?n.closePath():n.lineTo(v.x,a)}n.lineTo(e.first().x,a),n.closePath(),n.clip()}function qp(n,e,a){const{segments:i,points:o}=e;let r=!0,u=!1;n.beginPath();for(const f of i){const{start:m,end:g}=f,y=o[m],v=o[Tc(m,g,o)];r?(n.moveTo(y.x,y.y),r=!1):(n.lineTo(a,y.y),n.lineTo(y.x,y.y)),u=!!e.pathSegment(n,f,{move:u}),u?n.closePath():n.lineTo(a,v.y)}n.lineTo(a,e.first().y),n.closePath(),n.clip()}function tf(n,e){const{line:a,target:i,property:o,color:r,scale:u,clip:f}=e,m=qS(a,i,o);for(const{source:g,target:y,start:v,end:x}of m){const{style:{backgroundColor:S=r}={}}=g,j=i!==!0;n.save(),n.fillStyle=S,o_(n,u,f,j&&hf(o,v,x)),n.beginPath();const M=!!a.pathSegment(n,g);let N;if(j){M?n.closePath():Yp(n,i,x,o);const k=!!i.pathSegment(n,y,{move:M,reverse:!0});N=M&&k,N||Yp(n,i,v,o)}n.closePath(),n.fill(N?"evenodd":"nonzero"),n.restore()}}function o_(n,e,a,i){const o=e.chart.chartArea,{property:r,start:u,end:f}=i||{};if(r==="x"||r==="y"){let m,g,y,v;r==="x"?(m=u,g=o.top,y=f,v=o.bottom):(m=o.left,g=u,y=o.right,v=f),n.beginPath(),a&&(m=Math.max(m,a.left),y=Math.min(y,a.right),g=Math.max(g,a.top),v=Math.min(v,a.bottom)),n.rect(m,g,y-m,v-g),n.clip()}}function Yp(n,e,a,i){const o=e.interpolate(a,i);o&&n.lineTo(o.x,o.y)}var r_={id:"filler",afterDatasetsUpdate(n,e,a){const i=(n.data.datasets||[]).length,o=[];let r,u,f,m;for(u=0;u<i;++u)r=n.getDatasetMeta(u),f=r.dataset,m=null,f&&f.options&&f instanceof Ec&&(m={visible:n.isDatasetVisible(u),index:u,fill:GS(f,u,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:f}),r.$filler=m,o.push(m);for(u=0;u<i;++u)m=o[u],!(!m||m.fill===!1)&&(m.fill=XS(o,u,a.propagate))},beforeDraw(n,e,a){const i=a.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let u=o.length-1;u>=0;--u){const f=o[u].$filler;f&&(f.line.updateControlPoints(r,f.axis),i&&f.fill&&Jd(n.ctx,f,r))}},beforeDatasetsDraw(n,e,a){if(a.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const r=i[o].$filler;Fp(r)&&Jd(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,e,a){const i=e.meta.$filler;!Fp(i)||a.drawTime!=="beforeDatasetDraw"||Jd(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Xp=(n,e)=>{let{boxHeight:a=e,boxWidth:i=e}=n;return n.usePointStyle&&(a=Math.min(a,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:a,itemHeight:Math.max(e,a)}},c_=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Gp extends Va{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,a,i){this.maxWidth=e,this.maxHeight=a,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let a=Se(e.generateLabels,[this.chart],this)||[];e.filter&&(a=a.filter(i=>e.filter(i,this.chart.data))),e.sort&&(a=a.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:e,ctx:a}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=hn(i.font),r=o.size,u=this._computeTitleHeight(),{boxWidth:f,itemHeight:m}=Xp(i,r);let g,y;a.font=o.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(u,r,f,m)+10):(y=this.maxHeight,g=this._fitCols(u,o,f,m)+10),this.width=Math.min(g,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,a,i,o){const{ctx:r,maxWidth:u,options:{labels:{padding:f}}}=this,m=this.legendHitBoxes=[],g=this.lineWidths=[0],y=o+f;let v=e;r.textAlign="left",r.textBaseline="middle";let x=-1,S=-y;return this.legendItems.forEach((j,M)=>{const N=i+a/2+r.measureText(j.text).width;(M===0||g[g.length-1]+N+2*f>u)&&(v+=y,g[g.length-(M>0?0:1)]=0,S+=y,x++),m[M]={left:0,top:S,row:x,width:N,height:o},g[g.length-1]+=N+f}),v}_fitCols(e,a,i,o){const{ctx:r,maxHeight:u,options:{labels:{padding:f}}}=this,m=this.legendHitBoxes=[],g=this.columnSizes=[],y=u-e;let v=f,x=0,S=0,j=0,M=0;return this.legendItems.forEach((N,k)=>{const{itemWidth:H,itemHeight:z}=u_(i,a,r,N,o);k>0&&S+z+2*f>y&&(v+=x+f,g.push({width:x,height:S}),j+=x+f,M++,x=S=0),m[k]={left:j,top:S,col:M,width:H,height:z},x=Math.max(x,H),S+=z+f}),v+=x,g.push({width:x,height:S}),v}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:i,labels:{padding:o},rtl:r}}=this,u=rl(r,this.left,this.width);if(this.isHorizontal()){let f=0,m=dn(i,this.left+o,this.right-this.lineWidths[f]);for(const g of a)f!==g.row&&(f=g.row,m=dn(i,this.left+o,this.right-this.lineWidths[f])),g.top+=this.top+e+o,g.left=u.leftForLtr(u.x(m),g.width),m+=g.width+o}else{let f=0,m=dn(i,this.top+e+o,this.bottom-this.columnSizes[f].height);for(const g of a)g.col!==f&&(f=g.col,m=dn(i,this.top+e+o,this.bottom-this.columnSizes[f].height)),g.top=m,g.left+=this.left+o,g.left=u.leftForLtr(u.x(g.left),g.width),m+=g.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Nc(e,this),this._draw(),wc(e)}}_draw(){const{options:e,columnSizes:a,lineWidths:i,ctx:o}=this,{align:r,labels:u}=e,f=Le.color,m=rl(e.rtl,this.left,this.width),g=hn(u.font),{padding:y}=u,v=g.size,x=v/2;let S;this.drawTitle(),o.textAlign=m.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=g.string;const{boxWidth:j,boxHeight:M,itemHeight:N}=Xp(u,v),k=function(Z,P,nt){if(isNaN(j)||j<=0||isNaN(M)||M<0)return;o.save();const tt=Ut(nt.lineWidth,1);if(o.fillStyle=Ut(nt.fillStyle,f),o.lineCap=Ut(nt.lineCap,"butt"),o.lineDashOffset=Ut(nt.lineDashOffset,0),o.lineJoin=Ut(nt.lineJoin,"miter"),o.lineWidth=tt,o.strokeStyle=Ut(nt.strokeStyle,f),o.setLineDash(Ut(nt.lineDash,[])),u.usePointStyle){const rt={radius:M*Math.SQRT2/2,pointStyle:nt.pointStyle,rotation:nt.rotation,borderWidth:tt},J=m.xPlus(Z,j/2),V=P+x;K1(o,rt,J,V,u.pointStyleWidth&&j)}else{const rt=P+Math.max((v-M)/2,0),J=m.leftForLtr(Z,j),V=ol(nt.borderRadius);o.beginPath(),Object.values(V).some(ht=>ht!==0)?mc(o,{x:J,y:rt,w:j,h:M,radius:V}):o.rect(J,rt,j,M),o.fill(),tt!==0&&o.stroke()}o.restore()},H=function(Z,P,nt){Co(o,nt.text,Z,P+N/2,g,{strikethrough:nt.hidden,textAlign:m.textAlign(nt.textAlign)})},z=this.isHorizontal(),Q=this._computeTitleHeight();z?S={x:dn(r,this.left+y,this.right-i[0]),y:this.top+y+Q,line:0}:S={x:this.left+y,y:dn(r,this.top+Q+y,this.bottom-a[0].height),line:0},s2(this.ctx,e.textDirection);const U=N+y;this.legendItems.forEach((Z,P)=>{o.strokeStyle=Z.fontColor,o.fillStyle=Z.fontColor;const nt=o.measureText(Z.text).width,tt=m.textAlign(Z.textAlign||(Z.textAlign=u.textAlign)),rt=j+x+nt;let J=S.x,V=S.y;m.setWidth(this.width),z?P>0&&J+rt+y>this.right&&(V=S.y+=U,S.line++,J=S.x=dn(r,this.left+y,this.right-i[S.line])):P>0&&V+U>this.bottom&&(J=S.x=J+a[S.line].width+y,S.line++,V=S.y=dn(r,this.top+Q+y,this.bottom-a[S.line].height));const ht=m.x(J);if(k(ht,V,Z),J=q5(tt,J+j+x,z?J+rt:this.right,e.rtl),H(m.x(J),V,Z),z)S.x+=rt+y;else if(typeof Z.text!="string"){const ot=g.lineHeight;S.y+=C2(Z,ot)+y}else S.y+=U}),a2(this.ctx,e.textDirection)}drawTitle(){const e=this.options,a=e.title,i=hn(a.font),o=as(a.padding);if(!a.display)return;const r=rl(e.rtl,this.left,this.width),u=this.ctx,f=a.position,m=i.size/2,g=o.top+m;let y,v=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),y=this.top+g,v=dn(e.align,v,this.right-x);else{const j=this.columnSizes.reduce((M,N)=>Math.max(M,N.height),0);y=g+dn(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const S=dn(f,v,v+x);u.textAlign=r.textAlign(Nf(f)),u.textBaseline="middle",u.strokeStyle=a.color,u.fillStyle=a.color,u.font=i.string,Co(u,a.text,S,y,i)}_computeTitleHeight(){const e=this.options.title,a=hn(e.font),i=as(e.padding);return e.display?a.lineHeight+i.height:0}_getLegendItemAt(e,a){let i,o,r;if(ka(e,this.left,this.right)&&ka(a,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(o=r[i],ka(e,o.left,o.left+o.width)&&ka(a,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const a=this.options;if(!h_(e.type,a))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,r=c_(o,i);o&&!r&&Se(a.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!r&&Se(a.onHover,[e,i,this],this)}else i&&Se(a.onClick,[e,i,this],this)}}function u_(n,e,a,i,o){const r=d_(i,n,e,a),u=f_(o,i,e.lineHeight);return{itemWidth:r,itemHeight:u}}function d_(n,e,a,i){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((r,u)=>r.length>u.length?r:u)),e+a.size/2+i.measureText(o).width}function f_(n,e,a){let i=n;return typeof e.text!="string"&&(i=C2(e,a)),i}function C2(n,e){const a=n.text?n.text.length:0;return e*a}function h_(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var m_={id:"legend",_element:Gp,start(n,e,a){const i=n.legend=new Gp({ctx:n.ctx,options:a,chart:n});ss.configure(n,i,a),ss.addBox(n,i)},stop(n){ss.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,a){const i=n.legend;ss.configure(n,i,a),i.options=a},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,a){const i=e.datasetIndex,o=a.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:a,pointStyle:i,textAlign:o,color:r,useBorderRadius:u,borderRadius:f}}=n.legend.options;return n._getSortedDatasetMetas().map(m=>{const g=m.controller.getStyle(a?0:void 0),y=as(g.borderWidth);return{text:e[m.index].label,fillStyle:g.backgroundColor,fontColor:r,hidden:!m.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:o||g.textAlign,borderRadius:u&&(f||g.borderRadius),datasetIndex:m.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class M2 extends Va{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,a){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=a;const o=Ge(i.text)?i.text.length:1;this._padding=as(i.padding);const r=o*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:a,left:i,bottom:o,right:r,options:u}=this,f=u.align;let m=0,g,y,v;return this.isHorizontal()?(y=dn(f,i,r),v=a+e,g=r-i):(u.position==="left"?(y=i+e,v=dn(f,o,a),m=tn*-.5):(y=r-e,v=dn(f,a,o),m=tn*.5),g=o-a),{titleX:y,titleY:v,maxWidth:g,rotation:m}}draw(){const e=this.ctx,a=this.options;if(!a.display)return;const i=hn(a.font),r=i.lineHeight/2+this._padding.top,{titleX:u,titleY:f,maxWidth:m,rotation:g}=this._drawArgs(r);Co(e,a.text,0,0,i,{color:a.color,maxWidth:m,rotation:g,textAlign:Nf(a.align),textBaseline:"middle",translation:[u,f]})}}function g_(n,e){const a=new M2({ctx:n.ctx,options:e,chart:n});ss.configure(n,a,e),ss.addBox(n,a),n.titleBlock=a}var p_={id:"title",_element:M2,start(n,e,a){g_(n,a)},stop(n){const e=n.titleBlock;ss.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,a){const i=n.titleBlock;ss.configure(n,i,a),i.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const po={average(n){if(!n.length)return!1;let e,a,i=new Set,o=0,r=0;for(e=0,a=n.length;e<a;++e){const f=n[e].element;if(f&&f.hasValue()){const m=f.tooltipPosition();i.add(m.x),o+=m.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((f,m)=>f+m)/i.size,y:o/r}},nearest(n,e){if(!n.length)return!1;let a=e.x,i=e.y,o=Number.POSITIVE_INFINITY,r,u,f;for(r=0,u=n.length;r<u;++r){const m=n[r].element;if(m&&m.hasValue()){const g=m.getCenterPoint(),y=of(e,g);y<o&&(o=y,f=m)}}if(f){const m=f.tooltipPosition();a=m.x,i=m.y}return{x:a,y:i}}};function Ds(n,e){return e&&(Ge(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ra(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function y_(n,e){const{element:a,datasetIndex:i,index:o}=e,r=n.getDatasetMeta(i).controller,{label:u,value:f}=r.getLabelAndValue(o);return{chart:n,label:u,parsed:r.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:f,dataset:r.getDataset(),dataIndex:o,datasetIndex:i,element:a}}function Qp(n,e){const a=n.chart.ctx,{body:i,footer:o,title:r}=n,{boxWidth:u,boxHeight:f}=e,m=hn(e.bodyFont),g=hn(e.titleFont),y=hn(e.footerFont),v=r.length,x=o.length,S=i.length,j=as(e.padding);let M=j.height,N=0,k=i.reduce((Q,U)=>Q+U.before.length+U.lines.length+U.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,v&&(M+=v*g.lineHeight+(v-1)*e.titleSpacing+e.titleMarginBottom),k){const Q=e.displayColors?Math.max(f,m.lineHeight):m.lineHeight;M+=S*Q+(k-S)*m.lineHeight+(k-1)*e.bodySpacing}x&&(M+=e.footerMarginTop+x*y.lineHeight+(x-1)*e.footerSpacing);let H=0;const z=function(Q){N=Math.max(N,a.measureText(Q).width+H)};return a.save(),a.font=g.string,oe(n.title,z),a.font=m.string,oe(n.beforeBody.concat(n.afterBody),z),H=e.displayColors?u+2+e.boxPadding:0,oe(i,Q=>{oe(Q.before,z),oe(Q.lines,z),oe(Q.after,z)}),H=0,a.font=y.string,oe(n.footer,z),a.restore(),N+=j.width,{width:N,height:M}}function v_(n,e){const{y:a,height:i}=e;return a<i/2?"top":a>n.height-i/2?"bottom":"center"}function b_(n,e,a,i){const{x:o,width:r}=i,u=a.caretSize+a.caretPadding;if(n==="left"&&o+r+u>e.width||n==="right"&&o-r-u<0)return!0}function x_(n,e,a,i){const{x:o,width:r}=a,{width:u,chartArea:{left:f,right:m}}=n;let g="center";return i==="center"?g=o<=(f+m)/2?"left":"right":o<=r/2?g="left":o>=u-r/2&&(g="right"),b_(g,n,e,a)&&(g="center"),g}function Ip(n,e,a){const i=a.yAlign||e.yAlign||v_(n,a);return{xAlign:a.xAlign||e.xAlign||x_(n,e,a,i),yAlign:i}}function S_(n,e){let{x:a,width:i}=n;return e==="right"?a-=i:e==="center"&&(a-=i/2),a}function __(n,e,a){let{y:i,height:o}=n;return e==="top"?i+=a:e==="bottom"?i-=o+a:i-=o/2,i}function Kp(n,e,a,i){const{caretSize:o,caretPadding:r,cornerRadius:u}=n,{xAlign:f,yAlign:m}=a,g=o+r,{topLeft:y,topRight:v,bottomLeft:x,bottomRight:S}=ol(u);let j=S_(e,f);const M=__(e,m,g);return m==="center"?f==="left"?j+=g:f==="right"&&(j-=g):f==="left"?j-=Math.max(y,x)+o:f==="right"&&(j+=Math.max(v,S)+o),{x:qn(j,0,i.width-e.width),y:qn(M,0,i.height-e.height)}}function ec(n,e,a){const i=as(a.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function Wp(n){return Ds([],ra(n))}function j_(n,e,a){return xi(n,{tooltip:e,tooltipItems:a,type:"tooltip"})}function Zp(n,e){const a=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return a?n.override(a):n}const A2={beforeTitle:la,title(n){if(n.length>0){const e=n[0],a=e.chart.data.labels,i=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return a[e.dataIndex]}return""},afterTitle:la,beforeBody:la,beforeLabel:la,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const a=n.formattedValue;return ee(a)||(e+=a),e},labelColor(n){const a=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const a=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:la,afterBody:la,beforeFooter:la,footer:la,afterFooter:la};function Mn(n,e,a,i){const o=n[e].call(a,i);return typeof o>"u"?A2[e].call(a,i):o}class $p extends Va{static positioners=po;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const a=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&a.options.animation&&i.animations,r=new c2(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=j_(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,a){const{callbacks:i}=a,o=Mn(i,"beforeTitle",this,e),r=Mn(i,"title",this,e),u=Mn(i,"afterTitle",this,e);let f=[];return f=Ds(f,ra(o)),f=Ds(f,ra(r)),f=Ds(f,ra(u)),f}getBeforeBody(e,a){return Wp(Mn(a.callbacks,"beforeBody",this,e))}getBody(e,a){const{callbacks:i}=a,o=[];return oe(e,r=>{const u={before:[],lines:[],after:[]},f=Zp(i,r);Ds(u.before,ra(Mn(f,"beforeLabel",this,r))),Ds(u.lines,Mn(f,"label",this,r)),Ds(u.after,ra(Mn(f,"afterLabel",this,r))),o.push(u)}),o}getAfterBody(e,a){return Wp(Mn(a.callbacks,"afterBody",this,e))}getFooter(e,a){const{callbacks:i}=a,o=Mn(i,"beforeFooter",this,e),r=Mn(i,"footer",this,e),u=Mn(i,"afterFooter",this,e);let f=[];return f=Ds(f,ra(o)),f=Ds(f,ra(r)),f=Ds(f,ra(u)),f}_createItems(e){const a=this._active,i=this.chart.data,o=[],r=[],u=[];let f=[],m,g;for(m=0,g=a.length;m<g;++m)f.push(y_(this.chart,a[m]));return e.filter&&(f=f.filter((y,v,x)=>e.filter(y,v,x,i))),e.itemSort&&(f=f.sort((y,v)=>e.itemSort(y,v,i))),oe(f,y=>{const v=Zp(e.callbacks,y);o.push(Mn(v,"labelColor",this,y)),r.push(Mn(v,"labelPointStyle",this,y)),u.push(Mn(v,"labelTextColor",this,y))}),this.labelColors=o,this.labelPointStyles=r,this.labelTextColors=u,this.dataPoints=f,f}update(e,a){const i=this.options.setContext(this.getContext()),o=this._active;let r,u=[];if(!o.length)this.opacity!==0&&(r={opacity:0});else{const f=po[i.position].call(this,o,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const m=this._size=Qp(this,i),g=Object.assign({},f,m),y=Ip(this.chart,i,g),v=Kp(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,r={opacity:1,x:v.x,y:v.y,width:m.width,height:m.height,caretX:f.x,caretY:f.y}}this._tooltipItems=u,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(e,a,i,o){const r=this.getCaretPosition(e,i,o);a.lineTo(r.x1,r.y1),a.lineTo(r.x2,r.y2),a.lineTo(r.x3,r.y3)}getCaretPosition(e,a,i){const{xAlign:o,yAlign:r}=this,{caretSize:u,cornerRadius:f}=i,{topLeft:m,topRight:g,bottomLeft:y,bottomRight:v}=ol(f),{x,y:S}=e,{width:j,height:M}=a;let N,k,H,z,Q,U;return r==="center"?(Q=S+M/2,o==="left"?(N=x,k=N-u,z=Q+u,U=Q-u):(N=x+j,k=N+u,z=Q-u,U=Q+u),H=N):(o==="left"?k=x+Math.max(m,y)+u:o==="right"?k=x+j-Math.max(g,v)-u:k=this.caretX,r==="top"?(z=S,Q=z-u,N=k-u,H=k+u):(z=S+M,Q=z+u,N=k+u,H=k-u),U=z),{x1:N,x2:k,x3:H,y1:z,y2:Q,y3:U}}drawTitle(e,a,i){const o=this.title,r=o.length;let u,f,m;if(r){const g=rl(i.rtl,this.x,this.width);for(e.x=ec(this,i.titleAlign,i),a.textAlign=g.textAlign(i.titleAlign),a.textBaseline="middle",u=hn(i.titleFont),f=i.titleSpacing,a.fillStyle=i.titleColor,a.font=u.string,m=0;m<r;++m)a.fillText(o[m],g.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+f,m+1===r&&(e.y+=i.titleMarginBottom-f)}}_drawColorBox(e,a,i,o,r){const u=this.labelColors[i],f=this.labelPointStyles[i],{boxHeight:m,boxWidth:g}=r,y=hn(r.bodyFont),v=ec(this,"left",r),x=o.x(v),S=m<y.lineHeight?(y.lineHeight-m)/2:0,j=a.y+S;if(r.usePointStyle){const M={radius:Math.min(g,m)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},N=o.leftForLtr(x,g)+g/2,k=j+m/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,cf(e,M,N,k),e.strokeStyle=u.borderColor,e.fillStyle=u.backgroundColor,cf(e,M,N,k)}else{e.lineWidth=Wt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,e.strokeStyle=u.borderColor,e.setLineDash(u.borderDash||[]),e.lineDashOffset=u.borderDashOffset||0;const M=o.leftForLtr(x,g),N=o.leftForLtr(o.xPlus(x,1),g-2),k=ol(u.borderRadius);Object.values(k).some(H=>H!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,mc(e,{x:M,y:j,w:g,h:m,radius:k}),e.fill(),e.stroke(),e.fillStyle=u.backgroundColor,e.beginPath(),mc(e,{x:N,y:j+1,w:g-2,h:m-2,radius:k}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(M,j,g,m),e.strokeRect(M,j,g,m),e.fillStyle=u.backgroundColor,e.fillRect(N,j+1,g-2,m-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,a,i){const{body:o}=this,{bodySpacing:r,bodyAlign:u,displayColors:f,boxHeight:m,boxWidth:g,boxPadding:y}=i,v=hn(i.bodyFont);let x=v.lineHeight,S=0;const j=rl(i.rtl,this.x,this.width),M=function(nt){a.fillText(nt,j.x(e.x+S),e.y+x/2),e.y+=x+r},N=j.textAlign(u);let k,H,z,Q,U,Z,P;for(a.textAlign=u,a.textBaseline="middle",a.font=v.string,e.x=ec(this,N,i),a.fillStyle=i.bodyColor,oe(this.beforeBody,M),S=f&&N!=="right"?u==="center"?g/2+y:g+2+y:0,Q=0,Z=o.length;Q<Z;++Q){for(k=o[Q],H=this.labelTextColors[Q],a.fillStyle=H,oe(k.before,M),z=k.lines,f&&z.length&&(this._drawColorBox(a,e,Q,j,i),x=Math.max(v.lineHeight,m)),U=0,P=z.length;U<P;++U)M(z[U]),x=v.lineHeight;oe(k.after,M)}S=0,x=v.lineHeight,oe(this.afterBody,M),e.y-=r}drawFooter(e,a,i){const o=this.footer,r=o.length;let u,f;if(r){const m=rl(i.rtl,this.x,this.width);for(e.x=ec(this,i.footerAlign,i),e.y+=i.footerMarginTop,a.textAlign=m.textAlign(i.footerAlign),a.textBaseline="middle",u=hn(i.footerFont),a.fillStyle=i.footerColor,a.font=u.string,f=0;f<r;++f)a.fillText(o[f],m.x(e.x),e.y+u.lineHeight/2),e.y+=u.lineHeight+i.footerSpacing}}drawBackground(e,a,i,o){const{xAlign:r,yAlign:u}=this,{x:f,y:m}=e,{width:g,height:y}=i,{topLeft:v,topRight:x,bottomLeft:S,bottomRight:j}=ol(o.cornerRadius);a.fillStyle=o.backgroundColor,a.strokeStyle=o.borderColor,a.lineWidth=o.borderWidth,a.beginPath(),a.moveTo(f+v,m),u==="top"&&this.drawCaret(e,a,i,o),a.lineTo(f+g-x,m),a.quadraticCurveTo(f+g,m,f+g,m+x),u==="center"&&r==="right"&&this.drawCaret(e,a,i,o),a.lineTo(f+g,m+y-j),a.quadraticCurveTo(f+g,m+y,f+g-j,m+y),u==="bottom"&&this.drawCaret(e,a,i,o),a.lineTo(f+S,m+y),a.quadraticCurveTo(f,m+y,f,m+y-S),u==="center"&&r==="left"&&this.drawCaret(e,a,i,o),a.lineTo(f,m+v),a.quadraticCurveTo(f,m,f+v,m),a.closePath(),a.fill(),o.borderWidth>0&&a.stroke()}_updateAnimationTarget(e){const a=this.chart,i=this.$animations,o=i&&i.x,r=i&&i.y;if(o||r){const u=po[e.position].call(this,this._active,this._eventPosition);if(!u)return;const f=this._size=Qp(this,e),m=Object.assign({},u,this._size),g=Ip(a,e,m),y=Kp(e,m,g,a);(o._to!==y.x||r._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=f.width,this.height=f.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const a=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(a);const o={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=as(a.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&f&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,o,a),s2(e,a.textDirection),r.y+=u.top,this.drawTitle(r,e,a),this.drawBody(r,e,a),this.drawFooter(r,e,a),a2(e,a.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,a){const i=this._active,o=e.map(({datasetIndex:f,index:m})=>{const g=this.chart.getDatasetMeta(f);if(!g)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:g.data[m],index:m}}),r=!dc(i,o),u=this._positionChanged(o,a);(r||u)&&(this._active=o,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,a,i=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,r=this._active||[],u=this._getActiveElements(e,r,a,i),f=this._positionChanged(u,e),m=a||!dc(u,r)||f;return m&&(this._active=u,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,a))),m}_getActiveElements(e,a,i,o){const r=this.options;if(e.type==="mouseout")return[];if(!o)return a.filter(f=>this.chart.data.datasets[f.datasetIndex]&&this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index)!==void 0);const u=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&u.reverse(),u}_positionChanged(e,a){const{caretX:i,caretY:o,options:r}=this,u=po[r.position].call(this,e,a);return u!==!1&&(i!==u.x||o!==u.y)}}var N_={id:"tooltip",_element:$p,positioners:po,afterInit(n,e,a){a&&(n.tooltip=new $p({chart:n,options:a}))},beforeUpdate(n,e,a){n.tooltip&&n.tooltip.initialize(a)},reset(n,e,a){n.tooltip&&n.tooltip.initialize(a)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const a={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",a)}},afterEvent(n,e){if(n.tooltip){const a=e.replay;n.tooltip.handleEvent(e.event,a,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:A2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const w_=(n,e,a,i)=>(typeof e=="string"?(a=n.push(e)-1,i.unshift({index:a,label:e})):isNaN(e)&&(a=null),a);function C_(n,e,a,i){const o=n.indexOf(e);if(o===-1)return w_(n,e,a,i);const r=n.lastIndexOf(e);return o!==r?a:o}const M_=(n,e)=>n===null?null:qn(Math.round(n),0,e);function Jp(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class A_ extends gl{static id="category";static defaults={ticks:{callback:Jp}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const a=this._addedLabels;if(a.length){const i=this.getLabels();for(const{index:o,label:r}of a)i[o]===r&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,a){if(ee(e))return null;const i=this.getLabels();return a=isFinite(a)&&i[a]===e?a:C_(i,e,Ut(a,e),this._addedLabels),M_(a,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:a}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),a||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,a=this.max,i=this.options.offset,o=[];let r=this.getLabels();r=e===0&&a===r.length-1?r:r.slice(e,a+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let u=e;u<=a;u++)o.push({value:u});return o}getLabelForValue(e){return Jp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const a=this.ticks;return e<0||e>a.length-1?null:this.getPixelForValue(a[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function E_(n,e){const a=[],{bounds:o,step:r,min:u,max:f,precision:m,count:g,maxTicks:y,maxDigits:v,includeBounds:x}=n,S=r||1,j=y-1,{min:M,max:N}=e,k=!ee(u),H=!ee(f),z=!ee(g),Q=(N-M)/(v+1);let U=Kg((N-M)/j/S)*S,Z,P,nt,tt;if(U<1e-14&&!k&&!H)return[{value:M},{value:N}];tt=Math.ceil(N/U)-Math.floor(M/U),tt>j&&(U=Kg(tt*U/j/S)*S),ee(m)||(Z=Math.pow(10,m),U=Math.ceil(U*Z)/Z),o==="ticks"?(P=Math.floor(M/U)*U,nt=Math.ceil(N/U)*U):(P=M,nt=N),k&&H&&r&&z5((f-u)/r,U/1e3)?(tt=Math.round(Math.min((f-u)/U,y)),U=(f-u)/tt,P=u,nt=f):z?(P=k?u:P,nt=H?f:nt,tt=g-1,U=(nt-P)/tt):(tt=(nt-P)/U,vo(tt,Math.round(tt),U/1e3)?tt=Math.round(tt):tt=Math.ceil(tt));const rt=Math.max(Wg(U),Wg(P));Z=Math.pow(10,ee(m)?rt:m),P=Math.round(P*Z)/Z,nt=Math.round(nt*Z)/Z;let J=0;for(k&&(x&&P!==u?(a.push({value:u}),P<u&&J++,vo(Math.round((P+J*U)*Z)/Z,u,t1(u,Q,n))&&J++):P<u&&J++);J<tt;++J){const V=Math.round((P+J*U)*Z)/Z;if(H&&V>f)break;a.push({value:V})}return H&&x&&nt!==f?a.length&&vo(a[a.length-1].value,f,t1(f,Q,n))?a[a.length-1].value=f:a.push({value:f}):(!H||nt===f)&&a.push({value:nt}),a}function t1(n,e,{horizontal:a,minRotation:i}){const o=hi(i),r=(a?Math.sin(o):Math.cos(o))||.001,u=.75*e*(""+n).length;return Math.min(e/r,u)}class T_ extends gl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,a){return ee(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:a,maxDefined:i}=this.getUserBounds();let{min:o,max:r}=this;const u=m=>o=a?o:m,f=m=>r=i?r:m;if(e){const m=ks(o),g=ks(r);m<0&&g<0?f(0):m>0&&g>0&&u(0)}if(o===r){let m=r===0?1:Math.abs(r*.05);f(r+m),e||u(o-m)}this.min=o,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:a,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),a=a||11),a&&(o=Math.min(a,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,a=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},r=this._range||this,u=E_(o,r);return e.bounds==="ticks"&&R5(u,this,"value"),e.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const e=this.ticks;let a=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-a)/Math.max(e.length-1,1)/2;a-=o,i+=o}this._startValue=a,this._endValue=i,this._valueRange=i-a}getLabelForValue(e){return Q1(e,this.chart.options.locale,this.options.ticks.format)}}class O_ extends T_{static id="linear";static defaults={ticks:{callback:I1.formatters.numeric}};determineDataLimits(){const{min:e,max:a}=this.getMinMax(!0);this.min=mn(e)?e:0,this.max=mn(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),a=e?this.width:this.height,i=hi(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,r.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Oc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},An=Object.keys(Oc);function e1(n,e){return n-e}function n1(n,e){if(ee(e))return null;const a=n._adapter,{parser:i,round:o,isoWeekday:r}=n._parseOpts;let u=e;return typeof i=="function"&&(u=i(u)),mn(u)||(u=typeof i=="string"?a.parse(u,i):a.parse(u)),u===null?null:(o&&(u=o==="week"&&(No(r)||r===!0)?a.startOf(u,"isoWeek",r):a.startOf(u,o)),+u)}function s1(n,e,a,i){const o=An.length;for(let r=An.indexOf(n);r<o-1;++r){const u=Oc[An[r]],f=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((a-e)/(f*u.size))<=i)return An[r]}return An[o-1]}function D_(n,e,a,i,o){for(let r=An.length-1;r>=An.indexOf(a);r--){const u=An[r];if(Oc[u].common&&n._adapter.diff(o,i,u)>=e-1)return u}return An[a?An.indexOf(a):0]}function z_(n){for(let e=An.indexOf(n)+1,a=An.length;e<a;++e)if(Oc[An[e]].common)return An[e]}function a1(n,e,a){if(!a)n[e]=!0;else if(a.length){const{lo:i,hi:o}=jf(a,e),r=a[i]>=e?a[i]:a[o];n[r]=!0}}function R_(n,e,a,i){const o=n._adapter,r=+o.startOf(e[0].value,i),u=e[e.length-1].value;let f,m;for(f=r;f<=u;f=+o.add(f,1,i))m=a[f],m>=0&&(e[m].major=!0);return e}function i1(n,e,a){const i=[],o={},r=e.length;let u,f;for(u=0;u<r;++u)f=e[u],o[f]=u,i.push({value:f,major:!1});return r===0||!a?i:R_(n,i,o,a)}class l1 extends gl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,a={}){const i=e.time||(e.time={}),o=this._adapter=new v3._date(e.adapters.date);o.init(a),yo(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=a.normalized}parse(e,a){return e===void 0?null:n1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,a=this._adapter,i=e.time.unit||"day";let{min:o,max:r,minDefined:u,maxDefined:f}=this.getUserBounds();function m(g){!u&&!isNaN(g.min)&&(o=Math.min(o,g.min)),!f&&!isNaN(g.max)&&(r=Math.max(r,g.max))}(!u||!f)&&(m(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&m(this.getMinMax(!1))),o=mn(o)&&!isNaN(o)?o:+a.startOf(Date.now(),i),r=mn(r)&&!isNaN(r)?r:+a.endOf(Date.now(),i)+1,this.min=Math.min(o,r-1),this.max=Math.max(o+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(a=e[0],i=e[e.length-1]),{min:a,max:i}}buildTicks(){const e=this.options,a=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const r=this.min,u=this.max,f=V5(o,r,u);return this._unit=a.unit||(i.autoSkip?s1(a.minUnit,this.min,this.max,this._getLabelCapacity(r)):D_(this,f.length,a.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:z_(this._unit),this.initOffsets(o),e.reverse&&f.reverse(),i1(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let a=0,i=0,o,r;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?a=1-o:a=(this.getDecimalForValue(e[1])-o)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const u=e.length<3?.5:.25;a=qn(a,0,u),i=qn(i,0,u),this._offsets={start:a,end:i,factor:1/(a+1+i)}}_generate(){const e=this._adapter,a=this.min,i=this.max,o=this.options,r=o.time,u=r.unit||s1(r.minUnit,a,i,this._getLabelCapacity(a)),f=Ut(o.ticks.stepSize,1),m=u==="week"?r.isoWeekday:!1,g=No(m)||m===!0,y={};let v=a,x,S;if(g&&(v=+e.startOf(v,"isoWeek",m)),v=+e.startOf(v,g?"day":u),e.diff(i,a,u)>1e5*f)throw new Error(a+" and "+i+" are too far apart with stepSize of "+f+" "+u);const j=o.ticks.source==="data"&&this.getDataTimestamps();for(x=v,S=0;x<i;x=+e.add(x,f,u),S++)a1(y,x,j);return(x===i||o.bounds==="ticks"||S===1)&&a1(y,x,j),Object.keys(y).sort(e1).map(M=>+M)}getLabelForValue(e){const a=this._adapter,i=this.options.time;return i.tooltipFormat?a.format(e,i.tooltipFormat):a.format(e,i.displayFormats.datetime)}format(e,a){const o=this.options.time.displayFormats,r=this._unit,u=a||o[r];return this._adapter.format(e,u)}_tickFormatFunction(e,a,i,o){const r=this.options,u=r.ticks.callback;if(u)return Se(u,[e,a,i],this);const f=r.time.displayFormats,m=this._unit,g=this._majorUnit,y=m&&f[m],v=g&&f[g],x=i[a],S=g&&v&&x&&x.major;return this._adapter.format(e,o||(S?v:y))}generateTickLabels(e){let a,i,o;for(a=0,i=e.length;a<i;++a)o=e[a],o.label=this._tickFormatFunction(o.value,a,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const a=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((a.start+i)*a.factor)}getValueForPixel(e){const a=this._offsets,i=this.getDecimalForPixel(e)/a.factor-a.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const a=this.options.ticks,i=this.ctx.measureText(e).width,o=hi(this.isHorizontal()?a.maxRotation:a.minRotation),r=Math.cos(o),u=Math.sin(o),f=this._resolveTickFontOptions(0).size;return{w:i*r+f*u,h:i*u+f*r}}_getLabelCapacity(e){const a=this.options.time,i=a.displayFormats,o=i[a.unit]||i.millisecond,r=this._tickFormatFunction(e,0,i1(this,[e],this._majorUnit),o),u=this._getLabelSize(r),f=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return f>0?f:1}getDataTimestamps(){let e=this._cache.data||[],a,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(a=0,i=o.length;a<i;++a)e=e.concat(o[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let a,i;if(e.length)return e;const o=this.getLabels();for(a=0,i=o.length;a<i;++a)e.push(n1(this,o[a]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Y1(e.sort(e1))}}function nc(n,e,a){let i=0,o=n.length-1,r,u,f,m;a?(e>=n[i].pos&&e<=n[o].pos&&({lo:i,hi:o}=mi(n,"pos",e)),{pos:r,time:f}=n[i],{pos:u,time:m}=n[o]):(e>=n[i].time&&e<=n[o].time&&({lo:i,hi:o}=mi(n,"time",e)),{time:r,pos:f}=n[i],{time:u,pos:m}=n[o]);const g=u-r;return g?f+(m-f)*(e-r)/g:f}class A6 extends l1{static id="timeseries";static defaults=l1.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(e);this._minPos=nc(a,this.min),this._tableRange=nc(a,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:a,max:i}=this,o=[],r=[];let u,f,m,g,y;for(u=0,f=e.length;u<f;++u)g=e[u],g>=a&&g<=i&&o.push(g);if(o.length<2)return[{time:a,pos:0},{time:i,pos:1}];for(u=0,f=o.length;u<f;++u)y=o[u+1],m=o[u-1],g=o[u],Math.round((y+m)/2)!==g&&r.push({time:g,pos:u/(f-1)});return r}_generate(){const e=this.min,a=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(a)||i.length===1)&&i.push(a),i.sort((o,r)=>o-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const a=this.getDataTimestamps(),i=this.getLabelTimestamps();return a.length&&i.length?e=this.normalize(a.concat(i)):e=a.length?a:i,e=this._cache.all=e,e}getDecimalForValue(e){return(nc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const a=this._offsets,i=this.getDecimalForPixel(e)/a.factor-a.end;return nc(this._table,i*this._tableRange+this._minPos,!0)}}const E2="label";function o1(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function k_(n,e){const a=n.options;a&&e&&Object.assign(a,e)}function T2(n,e){n.labels=e}function O2(n,e,a=E2){const i=[];n.datasets=e.map(o=>{const r=n.datasets.find(u=>u[a]===o[a]);return!r||!o.data||i.includes(r)?{...o}:(i.push(r),Object.assign(r,o),r)})}function L_(n,e=E2){const a={labels:[],datasets:[]};return T2(a,n.labels),O2(a,n.datasets,e),a}function B_(n,e){const{height:a=150,width:i=300,redraw:o=!1,datasetIdKey:r,type:u,data:f,options:m,plugins:g=[],fallbackContent:y,updateMode:v,...x}=n,S=C.useRef(null),j=C.useRef(null),M=()=>{S.current&&(j.current=new Ac(S.current,{type:u,data:L_(f,r),options:m&&{...m},plugins:g}),o1(e,j.current))},N=()=>{o1(e,null),j.current&&(j.current.destroy(),j.current=null)};return C.useEffect(()=>{!o&&j.current&&m&&k_(j.current,m)},[o,m]),C.useEffect(()=>{!o&&j.current&&T2(j.current.config.data,f.labels)},[o,f.labels]),C.useEffect(()=>{!o&&j.current&&f.datasets&&O2(j.current.config.data,f.datasets,r)},[o,f.datasets]),C.useEffect(()=>{j.current&&(o?(N(),setTimeout(M)):j.current.update(v))},[o,m,f.labels,f.datasets,v]),C.useEffect(()=>{j.current&&(N(),setTimeout(M))},[u]),C.useEffect(()=>(M(),()=>N()),[]),d.jsx("canvas",{ref:S,role:"img",height:a,width:i,...x,children:y})}const H_=C.forwardRef(B_);function D2(n,e){return Ac.register(e),C.forwardRef((a,i)=>d.jsx(H_,{...a,ref:i,type:n}))}const U_=D2("line",y3),V_=D2("bar",p3);Ac.register(A_,O_,LS,Ec,PS,p_,N_,m_,r_);function F_(){const[n,e]=C.useState(null),[a,i]=C.useState(null),[o,r]=C.useState(!0),[u,f]=C.useState(null),[m,g]=C.useState(7);if(C.useEffect(()=>{const U=async()=>{try{r(!0),f(null);const P=await Bg.getConsumption();console.log("Octopus Energy API response:",P),P.success===!1?(f(P.error||P.message||"Failed to load energy data"),e(null)):P.results&&P.results.length>0?(e(P),f(null)):(f("No consumption data available"),e(null))}catch(P){console.error("Error fetching Octopus Energy data:",P),f(P.message||"Failed to load energy data"),e(null)}finally{r(!1)}};U();const Z=setInterval(U,300*1e3);return()=>clearInterval(Z)},[]),C.useEffect(()=>{(async()=>{try{const Z=await Bg.getHistory(m);Z.success&&Z.data&&i(Z.data)}catch(Z){console.error("Error fetching history:",Z)}})()},[m]),o)return d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Energy Usage"}),d.jsx("div",{children:"Loading..."})]});if(u)return d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Energy Usage"}),d.jsxs("div",{className:"widget-error",children:["Error: ",u]})]});if(!n||!n.results||n.results.length===0)return d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Energy Usage"}),d.jsx("div",{className:"widget-error",children:u||"No consumption data available"})]});const y=n.results.slice(0,10),v=new Date().toISOString().split("T")[0],x=y.filter(U=>U.interval_start.startsWith(v)),S=x.reduce((U,Z)=>U+(Z.consumption||0),0),j=x.reduce((U,Z)=>U+(Z.cost_pounds||0),0),M=n?.tariff,N=M?.is_prepay||!1,k=a?{labels:a.map(U=>new Date(U.date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric"})),datasets:[{label:"Consumption (kWh)",data:a.map(U=>U.consumption),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointRadius:2,pointHoverRadius:4}]}:null,H=a&&a.length>0?(()=>{const U={};a.forEach(P=>{const tt=new Date(P.date).toISOString().split("T")[0];U[tt]||(U[tt]=0),U[tt]+=P.consumption||0});const Z=Object.keys(U).sort();return{labels:Z.map(P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Daily Consumption (kWh)",data:Z.map(P=>U[P]),backgroundColor:"rgba(59, 130, 246, 0.6)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]}})():null,z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(59, 130, 246, 0.5)",borderWidth:1}},scales:{x:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"#8e8ea0",maxRotation:45,minRotation:45}},y:{grid:{color:"rgba(255, 255, 255, 0.05)"},ticks:{color:"#8e8ea0"},beginAtZero:!0}}},Q={...z,scales:{...z.scales,y:{...z.scales.y,title:{display:!0,text:"Consumption (kWh)",color:"#8e8ea0"}}}};return d.jsxs("div",{className:"widget",children:[d.jsx("div",{className:"widget-title",children:"Energy Usage"}),d.jsxs("div",{className:"octopus-energy-content",children:[d.jsxs("div",{className:"octopus-energy-main",children:[S>0&&d.jsxs("div",{className:"octopus-energy-stat",children:[d.jsx("div",{className:"stat-box-label",children:"Today's Total"}),d.jsxs("div",{className:"stat-box-value",children:[S.toFixed(2)," kWh"]}),j>0&&d.jsxs("div",{className:"stat-box-cost",children:["",j.toFixed(2)]})]}),N&&d.jsxs("div",{className:"octopus-energy-stat octopus-prepay-notice",children:[d.jsx("div",{className:"stat-box-label",children:"Prepay Meter"}),d.jsx("div",{className:"stat-box-value",style:{fontSize:"0.85em",color:"#8e8ea0"},children:"Balance/credit not available via API. Check your meter or Octopus app."})]}),M&&M.unit_rate&&d.jsxs("div",{className:"octopus-energy-stat",children:[d.jsx("div",{className:"stat-box-label",children:"Current Rate"}),d.jsxs("div",{className:"stat-box-value",style:{fontSize:"0.9em"},children:[(M.unit_rate/100).toFixed(2),"p/kWh"]})]})]}),k&&d.jsxs("div",{className:"octopus-energy-chart",children:[d.jsxs("div",{className:"octopus-energy-chart-header",children:[d.jsx("div",{className:"stat-box-label",children:"Consumption Over Time"}),d.jsxs("select",{value:m,onChange:U=>g(Number(U.target.value)),className:"octopus-energy-days-select",children:[d.jsx("option",{value:1,children:"Last 24 hours"}),d.jsx("option",{value:3,children:"Last 3 days"}),d.jsx("option",{value:7,children:"Last 7 days"}),d.jsx("option",{value:14,children:"Last 14 days"}),d.jsx("option",{value:30,children:"Last 30 days"})]})]}),d.jsx("div",{className:"octopus-energy-chart-container",children:d.jsx(U_,{data:k,options:z})})]}),H&&d.jsxs("div",{className:"octopus-energy-chart",children:[d.jsx("div",{className:"octopus-energy-chart-header",children:d.jsx("div",{className:"stat-box-label",children:"Consumption Per Day"})}),d.jsx("div",{className:"octopus-energy-chart-container",children:d.jsx(V_,{data:H,options:Q})})]})]})]})}function P_({open:n,onClose:e,onSelect:a}){const{personas:i,currentPersona:o,reload:r}=jc();return C.useEffect(()=>{n&&r()},[n]),n?d.jsx("div",{className:"modal-overlay active",onClick:u=>u.target.className==="modal-overlay active"&&e(),children:d.jsxs("div",{className:"modal-content",children:[d.jsx("button",{className:"modal-close",onClick:e,children:""}),d.jsxs("div",{className:"modal-header",children:[d.jsx("div",{className:"modal-title",children:"Select Persona"}),d.jsx("div",{className:"modal-subtitle",children:"Choose an AI personality for your assistant."})]}),d.jsx("div",{className:"persona-list",children:i.map(u=>d.jsxs("div",{className:`persona-item ${u.name===o?"selected":""}`,onClick:()=>a(u.name),children:[d.jsx("div",{className:"persona-image-placeholder",children:""}),d.jsx("div",{className:"persona-name",children:u.title}),d.jsx("div",{className:"persona-title",children:u.name})]},u.name))})]})}):null}function q_(){const[n,e]=C.useState([]),[a,i]=C.useState(-1),[o,r]=C.useState(!1),[u,f]=C.useState(!1),[m,g]=C.useState(null),[y,v]=C.useState(!1),[x,S]=C.useState(0),[j,M]=C.useState(0),N=C.useRef(null),k=C.useRef(null),H=C.useRef([]),z=C.useRef(-1),Q=C.useRef(!1),U=C.useRef(!1);C.useEffect(()=>{H.current=n,z.current=a,Q.current=o,U.current=u},[n,a,o,u]),C.useEffect(()=>{N.current=new Audio,N.current.preload="none";const ht=()=>{N.current&&S(N.current.currentTime)},ot=()=>{N.current&&M(N.current.duration||0)},ct=()=>{!U.current&&Q.current&&i(K=>{const E=K+1;return E>=H.current.length?(r(!1),g(null),v(!1),S(0),-1):E})},D=K=>{console.error("Audio playback error:",K),v(!1),r(!1),U.current||i(E=>{const Y=E+1;return Y>=H.current.length?(r(!1),g(null),v(!1),S(0),-1):Y})};return N.current.addEventListener("timeupdate",ht),N.current.addEventListener("durationchange",ot),N.current.addEventListener("ended",ct),N.current.addEventListener("error",D),()=>{N.current&&(N.current.removeEventListener("timeupdate",ht),N.current.removeEventListener("durationchange",ot),N.current.removeEventListener("ended",ct),N.current.removeEventListener("error",D),N.current.pause(),N.current.src="")}},[]),C.useEffect(()=>{const ht=()=>{k.current=localStorage.getItem("chatSessionId")||"default"};ht();const ot=setInterval(ht,1e3);return()=>clearInterval(ot)},[]);const Z=C.useCallback(async()=>{const ht=z.current,ot=H.current;if(ht<0||ht>=ot.length||!Q.current||U.current)return;const ct=ot[ht];if(!(!ct||!ct.messageId)){v(!0);try{const D=await wx.generateAudioForMessage(k.current,ct.messageId);if(D.success&&D.audio_url){const K=D.audio_url.startsWith("/")?D.audio_url:`/${D.audio_url}`;if(g(K),N.current&&Q.current&&!U.current){N.current.src=K,N.current.load(),await new Promise((E,Y)=>{const st=N.current;if(!st){Y(new Error("Audio element not found"));return}const A=()=>{st.removeEventListener("canplay",A),st.removeEventListener("error",F),st.removeEventListener("loadeddata",A),E()},F=lt=>{st.removeEventListener("canplay",A),st.removeEventListener("error",F),st.removeEventListener("loadeddata",A),Y(new Error(`Audio load error: ${st.error?.message||"Unknown error"}`))};st.addEventListener("canplay",A,{once:!0}),st.addEventListener("loadeddata",A,{once:!0}),st.addEventListener("error",F,{once:!0}),st.readyState>=2&&A()});try{const E=N.current.play();E!==void 0&&(await E,v(!1))}catch(E){console.error("Error playing audio:",E),v(!1),i(Y=>{const st=Y+1;return st>=H.current.length?(r(!1),g(null),-1):st})}}}else console.error("Failed to generate audio:",D.error),v(!1),i(K=>{const E=K+1;return E>=H.current.length?(r(!1),g(null),-1):E})}catch(D){console.error("Error generating/playing audio:",D),v(!1),i(K=>{const E=K+1;return E>=H.current.length?(r(!1),g(null),-1):E})}}},[]);C.useEffect(()=>{a>=0&&a<n.length&&o&&!u&&Z()},[a,o,u,n.length,Z]);const P=C.useCallback((ht,ot,ct=null)=>{if(!ht){console.warn("Cannot add message to queue: messageId is required");return}e(D=>{if(D.some(E=>E.messageId===ht))return D;const K=[...D,{messageId:ht,text:ot,persona:ct}];return!Q.current&&!U.current&&setTimeout(()=>{i(0),r(!0)},100),K})},[]),nt=C.useCallback(()=>{f(!1),e(ht=>(ht.length>0&&(i(ot=>ot<0?0:ot),r(!0)),ht))},[]),tt=C.useCallback(()=>{r(!1),f(!1),i(-1),g(null),v(!1),S(0),N.current&&(N.current.pause(),N.current.currentTime=0,N.current.src="")},[]),rt=C.useCallback(ht=>{N.current&&j>0&&(N.current.currentTime=Math.max(0,Math.min(ht,j)),S(N.current.currentTime))},[j]),J=C.useCallback(()=>{f(!0),r(!1),N.current&&N.current.pause()},[]),V=C.useCallback(()=>{tt(),e([])},[tt]);return{queue:n,currentIndex:a,isPlaying:o,isPaused:u,isGenerating:y,currentAudioUrl:m,currentTime:x,duration:j,addToQueue:P,startQueue:nt,stopQueue:tt,pauseQueue:J,clearQueue:V,seekTo:rt,queueLength:n.length}}const z2=C.createContext(null);function Y_({children:n}){const[e,a]=C.useState(!1),[i,o]=C.useState(0),[r,u]=C.useState(0),[f,m]=C.useState(1),[g,y]=C.useState(null),[v,x]=C.useState([]),[S,j]=C.useState(-1),[M,N]=C.useState(!1),[k,H]=C.useState([]),z=C.useRef(null),Q=C.useRef(null),U=C.useRef([]),Z=C.useRef(!1);C.useEffect(()=>{z.current=new Audio;const ct=()=>{z.current&&o(z.current.currentTime||0)},D=()=>{z.current&&u(z.current.duration||0)},K=()=>{if(console.log("[MusicPlayer] Song ended, handleNextRef.current:",Q.current),Q.current)try{Q.current()}catch(Y){console.error("[MusicPlayer] Error calling handleNext:",Y)}else console.warn("[MusicPlayer] No handleNext handler set")},E=z.current;return E.addEventListener("timeupdate",ct),E.addEventListener("loadedmetadata",D),E.addEventListener("loadeddata",D),E.addEventListener("durationchange",D),E.addEventListener("ended",K),()=>{E.removeEventListener("timeupdate",ct),E.removeEventListener("loadedmetadata",D),E.removeEventListener("loadeddata",D),E.removeEventListener("durationchange",D),E.removeEventListener("ended",K)}},[]),C.useEffect(()=>{z.current&&(z.current.volume=f)},[f]),C.useEffect(()=>{U.current=v},[v]);const P=C.useCallback((ct,D,K)=>{if(!z.current)return;const E=ct.file_path||ct.path;if(!E){console.error("Song has no path:",ct);return}K&&(x(K),U.current=K),j(D),y(ct),o(0),z.current.src=`/api/music/stream?path=${encodeURIComponent(E)}`,z.current.currentTime=0,z.current.play().then(()=>{a(!0)}).catch(Y=>{console.error("Error playing song:",Y),a(!1)})},[]),nt=C.useCallback(()=>{z.current&&(z.current.pause(),a(!1))},[]),tt=C.useCallback(()=>{z.current&&g&&z.current.play().then(()=>{a(!0)}).catch(ct=>{console.error("Error resuming song:",ct)})},[g]),rt=C.useCallback(()=>{e?nt():tt()},[e,nt,tt]),J=C.useCallback(ct=>{z.current&&(z.current.currentTime=ct,o(ct))},[]),V=C.useCallback(ct=>{Q.current=ct},[]),ht=C.useCallback((ct,D)=>{x(ct),U.current=ct,j(D)},[]);C.useEffect(()=>{const ct=()=>{z.current&&!z.current.paused?(Z.current=!0,z.current.pause(),a(!1)):Z.current=!1},D=()=>{Z.current&&z.current&&g&&z.current.play().then(()=>{a(!0)}).catch(K=>{console.error("Error resuming music after focus mode:",K)}),Z.current=!1};return window.addEventListener("enterFocusMode",ct),window.addEventListener("exitFocusMode",D),()=>{window.removeEventListener("enterFocusMode",ct),window.removeEventListener("exitFocusMode",D)}},[g]);const ot={isPlaying:e,progress:i,duration:r,volume:f,currentSong:g,playlist:v,currentIndex:S,isShuffled:M,shuffleQueue:k,audioRef:z,playSong:P,pause:nt,resume:tt,togglePlayPause:rt,seek:J,setVolume:m,setIsShuffled:N,setShuffleQueue:H,setNextHandler:V,setPlaylistAndIndex:ht,setCurrentIndex:j};return d.jsx(z2.Provider,{value:ot,children:n})}function X_(){const n=C.useContext(z2);if(!n)throw new Error("useMusicPlayer must be used within MusicPlayerProvider");return n}function G_({searchQuery:n=""}){const[e,a]=C.useState([]),[i,o]=C.useState(!1),[r,u]=C.useState(""),{isPlaying:f,progress:m,duration:g,volume:y,currentSong:v,playlist:x,currentIndex:S,isShuffled:j,shuffleQueue:M,audioRef:N,playSong:k,pause:H,resume:z,togglePlayPause:Q,seek:U,setVolume:Z,setIsShuffled:P,setShuffleQueue:nt,setNextHandler:tt,setPlaylistAndIndex:rt,setCurrentIndex:J}=X_(),[V,ht]=C.useState(null),[ot,ct]=C.useState(null),[D,K]=C.useState("artists"),[E,Y]=C.useState({}),[st,A]=C.useState([]),[F,lt]=C.useState(null),[ut,bt]=C.useState({}),[Nt,ft]=C.useState(!1),[Tt,gt]=C.useState(""),[fe,He]=C.useState({}),[Ze,$e]=C.useState(!1),[Qe,De]=C.useState(""),[pt,xt]=C.useState({}),[Bt,Yt]=C.useState(!1),[Mt,Ht]=C.useState(""),[Ne,Ot]=C.useState({}),[Vt,Ft]=C.useState(!1),[Ue,we]=C.useState(""),[ze,cn]=C.useState(null),[yn,en]=C.useState(!1),[vn,Ve]=C.useState(""),[he,nn]=C.useState(""),[Ce,is]=C.useState(null),[Si,_i]=C.useState(!1),[bs,Yn]=C.useState(""),[ua,On]=C.useState(!1),[ls,os]=C.useState(null),[Bs,Fa]=C.useState(!1),_e=x,Ae=S,xs=j;C.useRef(null);const rs=C.useRef(null),Ss=C.useRef(null),ji=C.useRef(null),ye=C.useRef(null),bn=C.useRef([]),Pa=C.useRef({}),Hs=C.useRef([]),sn=C.useMemo(()=>{if(!n||!n.trim())return e;const w=n.toLowerCase();return e.map(L=>{const $=L.albums.map(jt=>{const ae=jt.songs.filter(Ke=>Ke.name?.toLowerCase().includes(w)||Ke.title?.toLowerCase().includes(w));return jt.name?.toLowerCase().includes(w)||ae.length>0?{...jt,songs:ae.length>0?ae:jt.songs}:null}).filter(Boolean);return L.name?.toLowerCase().includes(w)||$.length>0?{...L,albums:$}:null}).filter(Boolean)},[e,n]),Xt=C.useMemo(()=>V&&sn.find(w=>w.name===V)||null,[V,sn]),me=C.useMemo(()=>Xt?.albums?[...Xt.albums].sort((w,L)=>{const $=w.year||(w.date?parseInt(String(w.date).split("-")[0]):0),dt=L.year||(L.date?parseInt(String(L.date).split("-")[0]):0);return dt!==$?(dt||0)-($||0):w.name.localeCompare(L.name)}):[],[Xt]);C.useEffect(()=>{Hs.current=me},[me]);const _s=w=>{ht(w),ct(null),K("artists")},Us=async()=>{o(!0),u("");try{const w=await pe.getLibrary();if(w.success){a(w.artists||[]);const L=w.artists?.[0];L&&ht(L.name)}else u(w.error||"Failed to load library")}catch(w){u(w?.message||"Failed to load library")}finally{o(!1)}},Vs=async()=>{_i(!0);try{const w=await pe.getPlaylists();w?.success&&A(w.playlists||[])}catch(w){console.error("Failed to load playlists",w)}finally{_i(!1)}};C.useEffect(()=>{Us(),Vs()},[]),C.useEffect(()=>{D==="playlists"&&st.length>0&&!F&&lt(st[0].name),F&&!st.some(w=>w.name===F)&&st.length>0&&lt(st[0].name)},[D,st,F]),C.useEffect(()=>{bn.current=_e},[_e]),C.useEffect(()=>{Pa.current=E},[E]),C.useEffect(()=>{ji.current=xn,ye.current=pl}),C.useEffect(()=>{if(!Ss.current||!rs.current)return;const w=220,L=200,$=()=>{if(!rs.current)return;const jt=rs.current.scrollTop;Fa(ae=>jt>=w?!0:jt<=L?!1:ae)},dt=rs.current;return dt.addEventListener("scroll",$,{passive:!0}),$(),()=>{dt.removeEventListener("scroll",$)}},[V,ot,F]),C.useEffect(()=>{try{const w=sessionStorage.getItem("musicPlayerState");if(w){const L=JSON.parse(w);console.log("Restoring player state:",L),L.selectedArtist&&ht(L.selectedArtist),L.selectedAlbum&&ct(L.selectedAlbum),L.selectedPlaylist&&lt(L.selectedPlaylist),L.playlist&&L.playlist.length>0&&(rt(L.playlist,L.currentIndex>=0?L.currentIndex:-1),bn.current=L.playlist)}}catch(w){console.error("Failed to restore player state:",w)}},[rt]),C.useEffect(()=>{if(Ae>=0&&_e.length>0){const w={currentIndex:Ae,playlist:_e,selectedArtist:V,selectedAlbum:ot,selectedPlaylist:F,timestamp:Date.now()};try{sessionStorage.setItem("musicPlayerState",JSON.stringify(w)),console.log("Saved player state:",w)}catch(L){console.error("Failed to save player state:",L)}}},[Ae,_e,V,ot,F]);const pl=async(w,L)=>{const $=L||bn.current;if(!$||w<0||w>=$.length)return;bn.current=$;const dt=$[w];if(console.log("Playing track:",dt),console.log("Track path:",dt.path),!dt.path){console.error("Track has no path!",dt);return}rt($,w),k(dt,w,$);try{await pe.trackPlay(dt.path,dt.duration)}catch(jt){console.error("Failed to track play:",jt)}},Ni=()=>{Q()},Fs=()=>{const w=bn.current||_e;if(!w.length)return;const L=Ae>0?Ae-1:w.length-1;ye.current&&ye.current(L,w)},Xn=(w=[])=>w.slice().sort((L,$)=>{const dt=L.track_number??9999,jt=$.track_number??9999;return dt-jt}),js=w=>{const L=Hs.current||[];if(!L.length)return null;const $=L.map(Fe=>({album:Fe,songs:Xn(Fe.songs||[])})).filter(Fe=>Fe.songs.length);if(!$.length)return null;let dt=-1,jt=-1;if($.forEach((Fe,Ke)=>{const Me=Fe.songs.findIndex(kn=>kn.path===w);Me!==-1&&(dt=Ke,jt=Me)}),dt===-1)return{songs:$[0].songs,idx:0};if(jt+1<$[dt].songs.length)return{songs:$[dt].songs,idx:jt+1};const ae=dt+1;return ae<$.length?{songs:$[ae].songs,idx:0}:{songs:$[0].songs,idx:0}},xn=C.useCallback(()=>{console.log("[MusicPage] handleNext called, currentIndex:",Ae,"playlist length:",_e.length);const w=bn.current||_e;if(!w.length){console.log("[MusicPage] No songs in playlist");return}const L=Ae+1;if(L<w.length){console.log("[MusicPage] Playing next song in playlist, index:",L),ye.current?ye.current(L,w):console.error("[MusicPage] playIndexRef.current is not set!");return}const $=V?ut[V]||[]:[],dt=$.length>0&&w.length===$.length&&w[0]?.path===$[0]?.path;if(D!=="playlists"&&!dt){const jt=w[Ae]?.path,ae=js(jt);if(ae&&ye.current){console.log("[MusicPage] Auto-advancing to next album"),ye.current(ae.idx,ae.songs);return}}console.log("[MusicPage] Looping back to beginning"),ye.current?ye.current(0,w):console.error("[MusicPage] playIndexRef.current is not set for loop!")},[_e,Ae,D,V,ut]);C.useEffect(()=>{console.log("[MusicPage] Setting next handler:",xn),tt(xn)},[tt,xn]);const Ps=w=>{if(w.stopPropagation(),w.preventDefault(),console.log("handleSeek called"),!N.current){console.log("No audio ref");return}const L=g||N.current.duration;if(console.log("Audio duration:",L,"readyState:",N.current.readyState),!L||isNaN(L)||L===0){console.log("Duration not valid:",L);return}if(N.current.readyState<2){console.log("Audio not ready for seeking, readyState:",N.current.readyState);return}const $=w.currentTarget.getBoundingClientRect(),dt=Math.min(1,Math.max(0,(w.clientX-$.left)/$.width)),jt=dt*L;console.log("Seeking to:",jt,"seconds (",Math.round(dt*100),"% of",L,")");try{U(jt),console.log("Seek successful")}catch(ae){console.error("Seek failed:",ae)}},cs=w=>{const L=w.currentTarget.getBoundingClientRect(),$=Math.min(1,Math.max(0,(w.clientX-L.left)/L.width));Z($)},ne=()=>{y>0?Z(0):Z(1)},Dn=(w,L)=>{if(console.log("handleSongClick called with:",{songCount:w.length,index:L,firstSong:w[0]}),P(!1),nt([]),!w||!Array.isArray(w)||L<0||L>=w.length){console.error("Invalid songs or index:",{songs:w,idx:L});return}N.current&&!N.current.paused&&(H(),console.log("Paused current song before switching")),ye.current&&ye.current(L,w)},ve=()=>{if(xs)P(!1),nt([]);else{let w=[];if(D==="playlists"&&F?w=st.find($=>$.name===F)?.songs||[]:ot&&Gt?w=Xn(Gt.songs||[]):Xt&&!ot&&(At&&At.length>0?w=At:w=me.flatMap($=>Xn($.songs||[]))),w.length>0){const L=[...w];for(let $=L.length-1;$>0;$--){const dt=Math.floor(Math.random()*($+1));[L[$],L[dt]]=[L[dt],L[$]]}P(!0),nt(L),ye.current&&ye.current(0,L)}}},Gn=(w=null)=>{is(w),Ve(""),nn(""),en(!0)},Ee=()=>{Gn(null),K("playlists")},yl=async()=>{gt(""),Yn("");const w=(he||vn).trim();if(!w)return;const L=Ce;if(L)try{Yn(""),await pe.addToPlaylist({name:w,path:L.path,title:L.title||L.name,artist:L.artist,album:L.album,track_number:L.track_number,duration_seconds:L.duration??L.duration_seconds}),await Vs()}catch($){console.error("Failed to add to playlist",$),Yn($?.message||"Failed to add to playlist");return}else try{Yn(""),await pe.createPlaylist(w),await Vs()}catch($){console.error("Failed to create playlist",$),Yn($?.message||"Failed to create playlist");return}lt(w),K("playlists"),en(!1),is(null)},qa=(w,L,$)=>{if(!w)return;const dt={...w,album:w.album||w.album_title||L||w.albumName,artist:w.artist||w.artistName||$||w.artist_name};is(dt),Gn(dt)},T=w=>{os(w),On(!0)},yt=async()=>{if(!(!ls||!F))try{const w=await pe.removeFromPlaylist(F,ls.path);if(w.success){const L=await pe.getPlaylists();L.success&&A(L.playlists||[])}else console.error("Failed to remove song:",w.error)}catch(w){console.error("Error removing song from playlist:",w)}finally{On(!1),os(null)}},St=()=>{On(!1),os(null)},At=C.useMemo(()=>V?ut[V]||[]:[],[V,ut]),Zt=async w=>{if(w){gt(""),ft(!0);try{const L=await pe.getPopular(w);if(L.success){const $=L.popular||[];console.log("Popular songs loaded for",w,":",$);const dt=$.filter(jt=>jt.path?!0:(console.error("Popular song missing path:",jt),!1));dt.length!==$.length&&console.warn(`Filtered out ${$.length-dt.length} invalid songs`),bt(jt=>({...jt,[w]:dt}))}else gt(L.error||"Failed to load popular songs")}catch(L){gt(L?.message||"Failed to load popular songs")}finally{ft(!1)}}},Dt=async()=>{if(V){gt(""),ft(!0);try{console.log("Popular refresh: requesting generatePopular for",V);const w=await pe.generatePopular(V);console.log("Popular refresh response:",w),w.success?bt(L=>({...L,[V]:w.popular||[]})):(gt(w.error||"Failed to generate popular songs"),console.error("Popular refresh failed:",w))}catch(w){gt(w?.message||"Failed to generate popular songs"),console.error("Popular refresh exception:",w)}finally{ft(!1)}}},ge=async w=>{if(w){De(""),$e(!0);try{const L=await pe.getAbout(w);L.success?L.about&&He($=>({...$,[w]:L.about})):De(L.error||"Failed to load about info")}catch(L){De(L?.message||"Failed to load about info")}finally{$e(!1)}}},Lt=async()=>{if(V){De(""),$e(!0);try{const w=await pe.generateAbout(V);w.success?He(L=>({...L,[V]:w.about||""})):De(w.error||"Failed to generate about info")}catch(w){De(w?.message||"Failed to generate about info")}finally{$e(!1)}}},zn=async w=>{if(w){Ht(""),Yt(!0);try{const L=await pe.getDiscography(w);L.success?L.discography&&xt($=>({...$,[w]:L.discography})):Ht(L.error||"Failed to load discography")}catch(L){Ht(L?.message||"Failed to load discography")}finally{Yt(!1)}}},Rn=async()=>{if(V){console.log("=== GENERATE DISCOGRAPHY ==="),console.log("Artist:",V),Ht(""),Yt(!0);try{const w=await pe.generateDiscography(V);console.log("Discography response:",w),w.success?(console.log("Success! Discography:",w.discography),xt(L=>({...L,[V]:w.discography||[]}))):(console.error("Discography generation failed:",w.error),console.error("Debug info:",w.debug),Ht(w.error||"Failed to generate discography"))}catch(w){console.error("Discography exception:",w),Ht(w?.message||"Failed to generate discography")}finally{Yt(!1)}}},Ie=async w=>{if(w){we(""),Ft(!0);try{const L=await pe.getVideos(w);L.success?L.videos&&Ot($=>({...$,[w]:L.videos})):we(L.error||"Failed to load videos")}catch(L){we(L?.message||"Failed to load videos")}finally{Ft(!1)}}},da=async()=>{if(V){we(""),Ft(!0);try{const w=await pe.generateVideos(V);w.success?Ot(L=>({...L,[V]:w.videos||[]})):we(w.error||"Failed to generate videos")}catch(w){we(w?.message||"Failed to generate videos")}finally{Ft(!1)}}},se=w=>{const L=w?.albums?.[0]?.songs?.[0]?.path;if(!L)return null;const $=L.split("/");return $.length<3?null:$.slice(0,-2).join("/")},us=w=>{if(!w)return null;const L="/Users/davidnorminton/Music/";if(w.startsWith(L))return w.substring(L.length);if(w.startsWith("/Users/davidnorminton/Music")){let $=w.substring(27);return $.startsWith("/")&&($=$.substring(1)),$}return w},wi=w=>{if(!w)return null;const $=us(w).split("/");if($.length<2)return null;const dt=$.slice(0,-1).join("/"),jt=["cover","Cover","folder","Folder","album","Album"],ae=["webp","jpg","jpeg","png"],Fe=[];return jt.forEach(Ke=>ae.forEach(Me=>Fe.push(`${dt}/${Ke}.${Me}`))),Fe[0]||null},Ci=(w,L="")=>{const $=[],dt=Me=>{Me&&$.push(Me)};dt(w?.image_path),dt(w?.imagePath),dt(w?.image);const jt=se(w),ae=[];jt&&ae.push(jt),L&&ae.push(`/Users/davidnorminton/Music/${L}`),ae.forEach(Me=>{dt(`${Me}/cover.jpg`)});const Fe=[],Ke=[];return ae.forEach(Me=>{Fe.forEach(kn=>{Ke.forEach(ws=>{const Ei=`${Me}/${kn}.${ws}`;Ei!==`${Me}/cover.jpg`&&dt(Ei)})})}),Array.from(new Set($.filter(Boolean)))},qs=(w,L)=>{const dt=Number(w.target.dataset.idx||"0")+1,jt=L?.[dt];jt&&(w.target.dataset.idx=String(dt),w.target.src=`/api/music/stream?path=${encodeURIComponent(jt)}`)},Ns=C.useMemo(()=>F&&st.find(w=>w.name===F)||null,[F,st]),Mi=C.useMemo(()=>{const w=[];return e.forEach(L=>{(L.albums||[]).forEach($=>{w.push({...$,artistName:L.name})})}),w.sort((L,$)=>{const dt=L.date?new Date(L.date):new Date(L.year||0,0,1);return($.date?new Date($.date):new Date($.year||0,0,1)).getTime()-dt.getTime()})},[e]),Gt=C.useMemo(()=>!V||!ot||!Xt?null:Xt.albums?.find(L=>L.name===ot)||null,[V,ot,Xt]),zo=()=>{if(f){N.current&&(N.current.pause(),setIsPlaying(!1));return}if(_e.length&&Ae>=0){N.current?.play().then(()=>setIsPlaying(!0)).catch($=>console.error("Play error",$));return}if(D==="playlists"&&Ns?.songs?.length){ye.current&&ye.current(0,Ns.songs);return}const w=Gt||me[0],L=Xn(w?.songs||[]);L.length&&ye.current&&ye.current(0,L)},Ys=w=>{if(!w||isNaN(w))return"0:00";const L=Math.floor(w/3600),$=Math.floor(w%3600/60),dt=Math.floor(w%60).toString().padStart(2,"0");return L>0?`${L} hr ${$} min`:`${$}:${dt}`},Qn=C.useMemo(()=>{let w=0,L=0;const $=(dt=[])=>{dt.forEach(jt=>{w+=1,L+=jt.duration??E[jt.path]??0})};if(D==="playlists"&&F){const dt=st.find(jt=>jt.name===F);$(dt?.songs||[])}else ot&&Gt?.songs?$(Gt.songs):Xt?.albums&&Xt.albums.forEach(dt=>$(dt.songs));return{songs:w,durationText:L?Ys(L):""}},[D,F,st,ot,Gt,Xt,E]);C.useEffect(()=>{if(!Xt?.albums?.length)return;const w=Xt.albums.flatMap($=>$.songs||[]);if(!w.length)return;(async()=>{const $={};await Promise.all(w.map(async dt=>{if(!E[dt.path])try{const jt=await pe.getMetadata(dt.path);$[dt.path]=jt.duration||0}catch{$[dt.path]=0}})),Object.keys($).length&&Y(dt=>({...dt,...$}))})()},[Xt,E]),C.useEffect(()=>{D!=="playlists"&&V&&(Zt(V),ge(V),zn(V),Ie(V))},[V,D]);const Ya=(w,L)=>{ht(w),ct(L),K("albums")},Dc=D==="playlists"&&F?"Playlist":ot&&Gt?"Album":"Artist",Ro=D==="playlists"&&F?F:ot&&Gt?Gt.name:V||"Select an artist",Ai=D==="playlists"&&F?`${Qn.songs} songs${Qn.durationText?`  ${Qn.durationText}`:""}`:ot&&Gt?`${Gt.artist||V||""}${Gt.songs?.length?`  ${Gt.songs.length} songs`:""}`:Qn.songs?`${Qn.songs} songs${Qn.durationText?`  ${Qn.durationText}`:""}`:"",gn=C.useMemo(()=>{const w=[],L=$=>{if($){const dt=us($);dt&&w.push(dt)}};if(Gt&&(L(Gt.cover_path),L(Gt.coverPath),L(Gt.image),L(Gt.image_path),L(Gt.imagePath)),D==="playlists"&&F){const dt=st.find(jt=>jt.name===F)?.songs?.[0];if(dt){const jt=dt.album||dt.album_title||dt.albumName,ae=dt.artist||dt.artistName||dt.artist_name;if(jt&&ae){const Me=e.find(kn=>kn.name===ae)?.albums?.find(kn=>kn.name===jt);Me&&L(Me.image||Me.cover_path||Me.coverPath||Me.image_path||Me.imagePath)}const Fe=wi(dt.path);L(Fe)}}return Ci(Xt,V).forEach($=>L($)),Array.from(new Set(w.filter(Boolean)))},[Gt,Xt,V,D,F,st,e]),vl={backgroundImage:gn.length>0?["linear-gradient(180deg, rgba(11, 139, 230, 0.82) 0%, rgba(5, 47, 107, 0.92) 100%)",...gn.map(w=>`url(/api/music/stream?path=${encodeURIComponent(w)})`)].join(", "):"linear-gradient(180deg, rgba(11, 139, 230, 0.82) 0%, rgba(5, 47, 107, 0.92) 100%)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};return d.jsxs("div",{className:"music-page",children:[r&&d.jsx("div",{className:"music-error",children:r}),d.jsxs("div",{className:"music-layout",children:[d.jsxs("div",{className:"music-sidebar",children:[d.jsxs("div",{className:"music-filters",children:[d.jsx("button",{className:`filter-pill ${D==="artists"?"active":""}`,onClick:()=>{K("artists"),lt(null),sn.length>0&&(ht(sn[0].name),ct(null))},children:"Artists"}),d.jsx("button",{className:`filter-pill ${D==="albums"?"active":""}`,onClick:()=>{if(K("albums"),lt(null),Mi.length>0){const w=Mi[0];ht(w.artistName),ct(w.name)}else ht(null),ct(null)},children:"Albums"}),d.jsx("button",{className:`filter-pill ${D==="playlists"?"active":""}`,onClick:()=>{K("playlists"),ht(null),ct(null),st.length>0&&lt(st[0].name)},children:"Playlists"})]}),d.jsxs("div",{className:"music-library",children:[sn.length===0&&!i&&d.jsx("div",{className:"music-empty",children:n?"No results found":"No music found yet."}),D==="playlists"&&d.jsx("div",{className:"playlist-actions",children:d.jsx("button",{className:"playlist-add-btn",onClick:Ee,children:"+ New playlist"})}),D==="artists"&&sn.map(w=>{const L=Ci(w,w.name),$=L[0];return d.jsxs("div",{className:`music-row artist-only ${V===w.name&&!ot?"active":""}`,onClick:()=>_s(w.name),children:[$&&d.jsx("img",{src:`/api/music/stream?path=${encodeURIComponent($)}`,alt:`${w.name} cover`,className:"artist-thumb","data-idx":"0",onError:dt=>qs(dt,L)}),d.jsx("strong",{children:w.name})]},w.name)}),D==="playlists"&&st.map(w=>d.jsxs("div",{className:`music-row artist-only ${F===w.name?"active":""}`,onClick:()=>{lt(w.name),ht(null),ct(null)},children:[d.jsx("strong",{children:w.name}),d.jsxs("div",{className:"music-row-sub",children:[w.songs?.length||0," songs"]})]},w.name)),D==="albums"&&Mi.map(w=>d.jsxs("div",{className:`music-row album-only ${ot===w.name&&V===w.artistName?"active":""}`,onClick:()=>Ya(w.artistName,w.name),children:[d.jsxs("div",{className:"music-row-title",children:[d.jsxs("div",{className:"music-row-title-line",children:[(()=>{const L=w.image||w.cover_path||w.coverPath||(w.songs?.[0]?.path?wi(w.songs?.[0]?.path):null);return L?d.jsx("img",{src:`/api/music/stream?path=${encodeURIComponent(L)}`,alt:`${w.name} cover`,className:"album-thumb"}):null})(),d.jsx("strong",{children:w.name})]}),d.jsx("div",{className:"music-row-sub",children:w.artistName})]}),d.jsx("div",{className:"music-row-meta",children:w.year||(w.date?new Date(w.date).getFullYear():"")})]},`${w.artistName}-${w.name}`))]})]}),d.jsxs("div",{className:"music-main",ref:rs,children:[d.jsxs("div",{className:`music-hero-minimal ${Bs?"visible":""}`,children:[d.jsx("button",{className:"hero-play-minimal",onClick:zo,title:f?"Pause":"Play",children:f?d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M2.7 1a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7H2.7zm8 0a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-2.6z"})}):d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"})})}),d.jsx("h2",{className:"hero-title-minimal",children:Ro})]}),d.jsxs("div",{ref:Ss,className:"music-hero",style:vl,children:[gn[0]?d.jsx("img",{src:`/api/music/stream?path=${encodeURIComponent(gn[0])}`,alt:Xt?.name||Gt?.name||Ns?.name||"Artist",className:"album-hero","data-idx":"0",onError:w=>qs(w,gn)}):d.jsx("div",{className:"album-hero",style:{background:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",color:"#999"},children:D==="playlists"?d.jsx("svg",{width:"48",height:"48",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M15 14.5H5V13h10v1.5zm0-5.75H5v1.5h10v-1.5zM15 3H5v1.5h10V3zM3 3H1v1.5h2V3zm0 11.5H1V16h2v-1.5zm0-5.75H1v1.5h2v-1.5z"})}):d.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 16 16",fill:"currentColor",children:[d.jsx("path",{d:"M11 5a3 3 0 11-6 0 3 3 0 016 0zM8 7a2 2 0 100-4 2 2 0 000 4zm.256 7a4.474 4.474 0 01-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10c.26 0 .507.009.74.025.226-.341.496-.65.804-.918C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4s1 1 1 1h5.256z"}),d.jsx("path",{d:"M12.5 16a3.5 3.5 0 100-7 3.5 3.5 0 000 7zm-.646-4.854l.646.647.646-.647a.5.5 0 01.708.708l-.647.646.647.646a.5.5 0 01-.708.708L12.5 13.207l-.646.647a.5.5 0 01-.708-.708l.647-.646-.647-.646a.5.5 0 01.708-.708z"})]})}),d.jsxs("div",{className:"hero-text",children:[d.jsx("div",{className:"album-label",children:Dc}),d.jsx("h1",{className:"hero-title",children:Ro}),d.jsx("div",{className:"album-artist",children:ot&&Gt?d.jsxs(d.Fragment,{children:[(()=>{const w=e.find($=>$.name===(Gt.artist||V));let L=w?.image||w?.image_path;return L&&(L=us(L)),!L&&w?.name&&(L=`${w.name}/cover.jpg`),L?d.jsx("img",{src:`/api/music/stream?path=${encodeURIComponent(L)}`,alt:w?.name,className:"artist-circular-thumb",onError:$=>$.target.style.display="none"}):null})(),d.jsx("span",{className:"artist-name-link",onClick:()=>{ct(null),K("artists")},children:Gt.artist||V||""}),Gt.songs?.length?`  ${Gt.songs.length} songs`:"",Qn.durationText?`  ${Qn.durationText}`:""]}):Ai}),d.jsxs("div",{className:"hero-actions",children:[d.jsx("button",{className:"hero-play",onClick:zo,title:f?"Pause":"Play",children:f?d.jsx("svg",{width:"28",height:"28",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M2.7 1a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7H2.7zm8 0a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-2.6z"})}):d.jsx("svg",{width:"28",height:"28",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"})})}),d.jsx("button",{className:`hero-icon ${xs?"active":""}`,onClick:ve,title:xs?"Shuffle: On":"Shuffle: Off",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M13.151.922a.75.75 0 10-1.06 1.06L13.109 3H11.16a3.75 3.75 0 00-2.873 1.34l-6.173 7.356A2.25 2.25 0 01.39 13H0v1.5h.391a3.75 3.75 0 002.873-1.34l6.173-7.356A2.25 2.25 0 0111.16 4.5h1.95l-1.02 1.02a.75.75 0 101.06 1.06l2.273-2.273a.75.75 0 000-1.06L13.151.922zM11.16 12.5H13.11l-1.02-1.02a.75.75 0 111.06-1.06l2.273 2.273a.75.75 0 010 1.06l-2.273 2.273a.75.75 0 11-1.06-1.06l1.02-1.02H11.16a2.25 2.25 0 01-1.722-.804l-1.367-1.628a3.75 3.75 0 002.873 1.932zm-8.282-.804A2.25 2.25 0 010 10.5V9h.391a3.75 3.75 0 002.873-1.34l1.367-1.628a3.75 3.75 0 00-2.873 1.932l-1.867 2.228z"})})}),d.jsx("button",{className:"hero-icon",title:"Repeat",children:d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M0 4.75A3.75 3.75 0 013.75 1h8.5A3.75 3.75 0 0116 4.75v5a3.75 3.75 0 01-3.75 3.75H9.81l1.018 1.018a.75.75 0 11-1.06 1.06L6.939 12.75l2.829-2.828a.75.75 0 111.06 1.06L9.811 12h2.439a2.25 2.25 0 002.25-2.25v-5a2.25 2.25 0 00-2.25-2.25h-8.5a2.25 2.25 0 00-2.25 2.25v5A2.25 2.25 0 003.75 12H5v1.5H3.75A3.75 3.75 0 010 9.75v-5z"})})})]})]})]}),d.jsx("div",{className:"music-tracklist",children:d.jsx("div",{className:"tracklist-body",children:D==="playlists"?Ns?.songs?.length?d.jsxs("div",{className:"album-section",children:[d.jsx("div",{className:"album-section-title",children:Ns.name}),d.jsxs("div",{className:"tracklist-header playlist-view",children:[d.jsx("span",{className:"col-index",children:"#"}),d.jsx("span",{className:"col-title",children:"Title"}),d.jsx("span",{className:"col-album",children:"Album"}),d.jsx("span",{className:"col-length",children:d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[d.jsx("path",{d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8z"}),d.jsx("path",{d:"M8 3.25a.75.75 0 01.75.75v3.25H11a.75.75 0 010 1.5H7.25V4A.75.75 0 018 3.25z"})]})}),d.jsx("span",{className:"col-add"})]}),Ns.songs.map((w,L)=>{const $=_e[Ae]?.path===w.path,dt=w.duration??E[w.path];return d.jsxs("div",{className:`track-row playlist-view ${$?"active":""}`,onClick:()=>Dn(Ns.songs,L),children:[d.jsx("span",{className:"col-index",children:$&&f?d.jsxs("div",{className:"playing-bars",children:[d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"})]}):L+1}),d.jsxs("span",{className:"col-title",children:[d.jsx("div",{className:"title-main",children:w.name}),d.jsx("div",{className:"title-sub",children:w.artist||w.artistName||w.artist_name||""})]}),d.jsx("span",{className:"col-album",children:w.album||w.album_title||w.albumName||""}),d.jsx("span",{className:"col-length",children:Ys(dt)}),d.jsx("button",{className:"track-remove",title:"Remove from playlist",onClick:jt=>{jt.stopPropagation(),T(w)},children:""})]},`${w.path}-${L}`)})]}):d.jsx("div",{className:"music-empty",children:st.length?"Select a playlist to view tracks":"Create a playlist to get started"}):d.jsxs(d.Fragment,{children:[!(D==="albums"&&ot)&&d.jsxs("div",{className:"album-section popular-section",children:[d.jsxs("div",{className:"album-section-title popular-title",children:[d.jsx("span",{children:"Popular"}),d.jsx("div",{className:"popular-actions",children:d.jsx("button",{className:"playlist-add-btn",onClick:Dt,disabled:Nt,title:"Refresh popular songs",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",className:Nt?"spinning":"",children:d.jsx("path",{fillRule:"evenodd",d:"M8 3a5 5 0 104.546 2.914.5.5 0 00-.908-.417A4 4 0 118 4v1H6.5a.5.5 0 000 1H9a.5.5 0 00.5-.5V2.5a.5.5 0 00-1 0V3z"})})})})]}),Tt&&d.jsx("div",{className:"music-error-inline",children:Tt}),Nt&&d.jsx("div",{className:"music-empty",children:"Loading popular songs"}),At.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"tracklist-header",children:[d.jsx("span",{className:"col-index",children:"#"}),d.jsx("span",{className:"col-title",children:"Title"}),d.jsx("span",{className:"col-length",children:"Length"}),d.jsx("span",{className:"col-add"})]}),At.map((w,L)=>{const $=_e[Ae]?.path===w.path,dt=w.duration??w.duration_seconds??E[w.path];return d.jsxs("div",{className:`track-row ${$?"active":""}`,onClick:()=>Dn(At,L),children:[d.jsx("span",{className:"col-index",children:$&&f?d.jsxs("div",{className:"playing-bars",children:[d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"})]}):L+1}),d.jsx("span",{className:"col-title",children:w.title||w.name}),d.jsx("span",{className:"col-length",children:Ys(dt)}),d.jsx("button",{className:"track-add",title:"Add to playlist",onClick:jt=>{jt.stopPropagation(),qa({...w,name:w.title||w.name})},children:"+"})]},`${w.path}-${L}`)})]})]}),D==="albums"&&ot&&Gt?d.jsxs("div",{className:"album-section",children:[d.jsxs("div",{className:"tracklist-header",children:[d.jsx("span",{className:"col-index",children:"#"}),d.jsx("span",{className:"col-title",children:"Title"}),d.jsx("span",{className:"col-length",children:"Length"}),d.jsx("span",{className:"col-add"})]}),Xn(Gt.songs||[]).map((w,L)=>{const $=_e[Ae]?.path===w.path,dt=w.duration??E[w.path],jt=Xn(Gt.songs||[]);return d.jsxs("div",{className:`track-row ${$?"active":""}`,onClick:()=>Dn(jt,L),children:[d.jsx("span",{className:"col-index",children:$&&f?d.jsxs("div",{className:"playing-bars",children:[d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"}),d.jsx("span",{className:"bar"})]}):w.track_number||L+1}),d.jsx("span",{className:"col-title",children:w.name}),d.jsx("span",{className:"col-length",children:Ys(dt)}),d.jsx("button",{className:"track-add",title:"Add to playlist",onClick:ae=>{ae.stopPropagation(),qa(w)},children:"+"})]},w.path)})]}):d.jsxs(d.Fragment,{children:[me.length>0&&d.jsxs("div",{className:"album-section",children:[d.jsx("div",{className:"album-section-title",children:"Discography"}),d.jsx("div",{className:"album-grid",children:me.map(w=>{const L=w.image||w.cover_path||w.coverPath||(w.songs?.[0]?.path?wi(w.songs?.[0]?.path):null);return d.jsxs("div",{className:"album-card",onClick:()=>Ya(V,w.name),children:[L?d.jsx("img",{src:`/api/music/stream?path=${encodeURIComponent(L)}`,alt:`${w.name} cover`,className:"album-card-img"}):d.jsx("div",{className:"album-card-placeholder",children:d.jsx("svg",{width:"48",height:"48",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M8 0a8 8 0 100 16A8 8 0 008 0zM3.5 6.5a.5.5 0 11-1 0 .5.5 0 011 0zm9.5 0a.5.5 0 11-1 0 .5.5 0 011 0zM8 13a4.5 4.5 0 01-3.848-2.13c-.178-.3.162-.654.478-.472C5.564 11.152 6.762 11.5 8 11.5s2.437-.348 3.37-1.102c.316-.182.656.172.478.472A4.5 4.5 0 018 13z"})})}),d.jsx("div",{className:"album-card-title",children:w.name}),d.jsx("div",{className:"album-card-meta",children:w.year||(w.date?new Date(w.date).getFullYear():"")})]},w.name)})})]}),V&&d.jsxs("div",{className:"album-section about-section",children:[d.jsx("div",{className:"album-section-title",children:"About"}),fe[V]?d.jsx("div",{className:"about-content",children:fe[V]}):d.jsx("button",{className:"about-generate-btn",onClick:Lt,disabled:Ze,children:Ze?"Generating...":"Generate About Info"}),Qe&&d.jsx("div",{className:"music-error-inline",children:Qe})]}),V&&d.jsxs("div",{className:"album-section discography-section",children:[d.jsx("div",{className:"album-section-title",children:"Full Discography"}),pt[V]?d.jsx("div",{className:"discography-list",children:pt[V].map((w,L)=>{const $=me.find(dt=>dt.name.toLowerCase()===w.title.toLowerCase());return d.jsxs("div",{className:"discography-item",children:[d.jsx("span",{className:"discography-year",children:w.year}),$?d.jsx("span",{className:"discography-title linked",onClick:()=>Ya(V,$.name),children:w.title}):d.jsx("span",{className:"discography-title",children:w.title})]},L)})}):d.jsx("button",{className:"about-generate-btn",onClick:Rn,disabled:Bt,children:Bt?"Generating...":"Generate Full Discography"}),Mt&&d.jsx("div",{className:"music-error-inline",children:Mt})]}),V&&d.jsxs("div",{className:"album-section videos-section",children:[d.jsxs("div",{className:"album-section-title",children:["Videos",d.jsx("span",{className:"videos-disclaimer",children:" (Some videos may be region-restricted)"})]}),Ne[V]?d.jsx("div",{className:"videos-grid",children:Ne[V].map((w,L)=>d.jsxs("div",{className:"video-card",onClick:()=>cn(w),children:[d.jsxs("div",{className:"video-thumbnail",children:[d.jsx("img",{src:`https://img.youtube.com/vi/${w.videoId}/mqdefault.jpg`,alt:w.title}),d.jsx("div",{className:"video-play-overlay",children:d.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"white",children:d.jsx("path",{d:"M8 5v14l11-7z"})})})]}),d.jsx("div",{className:"video-title",children:w.title})]},L))}):d.jsx("button",{className:"about-generate-btn",onClick:da,disabled:Vt,children:Vt?"Generating...":"Generate Video List"}),Ue&&d.jsx("div",{className:"music-error-inline",children:Ue})]}),!me.length&&d.jsx("div",{className:"music-empty",children:"Select an artist to view albums"})]})]})})})]})]}),d.jsx("div",{className:"music-bottom-spacer"}),ze&&d.jsx("div",{className:"video-modal-overlay",onClick:()=>cn(null),children:d.jsxs("div",{className:"video-modal",onClick:w=>w.stopPropagation(),children:[d.jsx("button",{className:"video-close",onClick:()=>cn(null),children:""}),d.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${ze.videoId}?autoplay=1`,title:ze.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})}),d.jsxs("div",{className:"music-player-footer",children:[d.jsxs("div",{className:"music-player-left",children:[d.jsxs("div",{className:"music-controls-row",children:[d.jsx("button",{className:`control-icon ${xs?"active":""}`,onClick:ve,title:xs?"Shuffle: On":"Shuffle: Off",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M13.151.922a.75.75 0 10-1.06 1.06L13.109 3H11.16a3.75 3.75 0 00-2.873 1.34l-6.173 7.356A2.25 2.25 0 01.39 13H0v1.5h.391a3.75 3.75 0 002.873-1.34l6.173-7.356A2.25 2.25 0 0111.16 4.5h1.95l-1.02 1.02a.75.75 0 101.06 1.06l2.273-2.273a.75.75 0 000-1.06L13.151.922zM11.16 12.5H13.11l-1.02-1.02a.75.75 0 111.06-1.06l2.273 2.273a.75.75 0 010 1.06l-2.273 2.273a.75.75 0 11-1.06-1.06l1.02-1.02H11.16a2.25 2.25 0 01-1.722-.804l-1.367-1.628a3.75 3.75 0 002.873 1.932zm-8.282-.804A2.25 2.25 0 010 10.5V9h.391a3.75 3.75 0 002.873-1.34l1.367-1.628a3.75 3.75 0 00-2.873 1.932l-1.867 2.228z"})})}),d.jsx("button",{className:"control-btn",onClick:Fs,title:"Previous",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M3.3 1a.7.7 0 01.7.7v5.15l9.95-5.744a.7.7 0 011.05.606v12.575a.7.7 0 01-1.05.607L4 9.149V14.3a.7.7 0 01-.7.7H1.7a.7.7 0 01-.7-.7V1.7a.7.7 0 01.7-.7h1.6z"})})}),d.jsx("button",{className:"control-btn play-btn",onClick:Ni,title:f?"Pause":"Play",children:f?d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M2.7 1a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7H2.7zm8 0a.7.7 0 00-.7.7v12.6a.7.7 0 00.7.7h2.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-2.6z"})}):d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M3 1.713a.7.7 0 011.05-.607l10.89 6.288a.7.7 0 010 1.212L4.05 14.894A.7.7 0 013 14.288V1.713z"})})}),d.jsx("button",{className:"control-btn",onClick:xn,title:"Next",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M12.7 1a.7.7 0 00-.7.7v5.15L2.05 1.107A.7.7 0 001 1.712v12.575a.7.7 0 001.05.607L12 9.149V14.3a.7.7 0 00.7.7h1.6a.7.7 0 00.7-.7V1.7a.7.7 0 00-.7-.7h-1.6z"})})}),d.jsx("button",{className:"control-icon",title:"Repeat",children:d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M0 4.75A3.75 3.75 0 013.75 1h8.5A3.75 3.75 0 0116 4.75v5a3.75 3.75 0 01-3.75 3.75H9.81l1.018 1.018a.75.75 0 11-1.06 1.06L6.939 12.75l2.829-2.828a.75.75 0 111.06 1.06L9.811 12h2.439a2.25 2.25 0 002.25-2.25v-5a2.25 2.25 0 00-2.25-2.25h-8.5a2.25 2.25 0 00-2.25 2.25v5A2.25 2.25 0 003.75 12H5v1.5H3.75A3.75 3.75 0 010 9.75v-5z"})})})]}),d.jsxs("div",{className:"music-progress-container",children:[d.jsx("span",{className:"time-stamp",children:Ys(m)}),d.jsxs("div",{className:"music-progress",onClick:Ps,children:[d.jsx("div",{className:"music-progress-fill",style:{width:g?`${m/g*100}%`:"0%"}}),d.jsx("div",{className:"music-progress-handle",style:{left:g?`${m/g*100}%`:"0%"}})]}),d.jsx("span",{className:"time-stamp",children:Ys(g)})]})]}),d.jsxs("div",{className:"music-volume-control",children:[d.jsx("button",{className:"volume-icon",onClick:ne,title:y>0?"Mute":"Unmute",children:y===0?d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[d.jsx("path",{d:"M13.86 5.47a.75.75 0 00-1.061 0l-1.47 1.47-1.47-1.47A.75.75 0 008.8 6.53L10.269 8l-1.47 1.47a.75.75 0 101.06 1.06l1.47-1.47 1.47 1.47a.75.75 0 001.06-1.06L12.39 8l1.47-1.47a.75.75 0 000-1.06z"}),d.jsx("path",{d:"M10.116 1.5A.75.75 0 008.991.85l-6.925 4a3.642 3.642 0 00-1.33 4.967 3.639 3.639 0 001.33 1.332l6.925 4a.75.75 0 001.125-.649v-1.906a4.73 4.73 0 01-1.5-.694v1.3L2.817 9.852a2.141 2.141 0 01-.781-2.92c.187-.324.456-.594.78-.782l5.8-3.35v1.3c.45-.313.956-.55 1.5-.694V1.5z"})]}):y<.5?d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.642 3.642 0 01-1.33-4.967 3.639 3.639 0 011.33-1.332l6.925-4a.75.75 0 01.75 0zm-6.924 5.3a2.139 2.139 0 000 3.7l5.8 3.35V2.8l-5.8 3.35zm8.683 4.29V5.56a2.75 2.75 0 010 4.88z"})}):d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:d.jsx("path",{d:"M9.741.85a.75.75 0 01.375.65v13a.75.75 0 01-1.125.65l-6.925-4a3.642 3.642 0 01-1.33-4.967 3.639 3.639 0 011.33-1.332l6.925-4a.75.75 0 01.75 0zm-6.924 5.3a2.139 2.139 0 000 3.7l5.8 3.35V2.8l-5.8 3.35zm8.683 6.087a4.502 4.502 0 000-8.474v1.65a2.999 2.999 0 010 5.175v1.649z"})})}),d.jsxs("div",{className:"music-volume-slider",onClick:cs,children:[d.jsx("div",{className:"music-volume-fill",style:{width:`${y*100}%`}}),d.jsx("div",{className:"music-volume-handle",style:{left:`${y*100}%`}})]})]})]}),yn&&d.jsx("div",{className:"playlist-modal-overlay",onClick:()=>en(!1),children:d.jsxs("div",{className:"playlist-modal",onClick:w=>w.stopPropagation(),children:[d.jsx("h4",{children:Ce?"Add to playlist":"Create playlist"}),st.length>0&&d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Select existing"}),d.jsxs("select",{value:he,onChange:w=>nn(w.target.value),children:[d.jsx("option",{value:"",children:"-- none --"}),st.map(w=>d.jsx("option",{value:w.name,children:w.name},w.name))]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Or create new"}),d.jsx("input",{type:"text",placeholder:"Playlist name",value:vn,onChange:w=>Ve(w.target.value)})]}),bs&&d.jsx("div",{className:"settings-message error",children:bs}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"save-button secondary",onClick:()=>en(!1),children:"Cancel"}),d.jsx("button",{className:"save-button",onClick:yl,disabled:!he&&!vn.trim(),children:Ce?"Add":"Create"})]})]})}),ua&&d.jsx("div",{className:"playlist-modal-overlay",onClick:St,children:d.jsxs("div",{className:"playlist-modal",onClick:w=>w.stopPropagation(),children:[d.jsx("h4",{children:"Remove from playlist"}),d.jsxs("p",{style:{marginBottom:"20px",color:"#e0e0e0"},children:['Are you sure you want to remove "',ls?.name||ls?.title,'" from this playlist?']}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{className:"save-button secondary",onClick:St,children:"Cancel"}),d.jsx("button",{className:"save-button",onClick:yt,style:{background:"#dc3545"},children:"Remove"})]})]})})]})}function Q_(){const[n,e]=C.useState(!0),[a,i]=C.useState([]),[o,r]=C.useState(null),[u,f]=C.useState(null),[m,g]=C.useState(null),[y,v]=C.useState({}),[x,S]=C.useState(""),[j,M]=C.useState(null),[N,k]=C.useState({videoId:"",title:""}),[H,z]=C.useState(""),[Q,U]=C.useState(null),[Z,P]=C.useState({videoId:"",title:""});C.useEffect(()=>{nt()},[]);const nt=async()=>{e(!0);try{const E=await pe.getEditorData();E.success&&i(E.artists||[])}catch(E){console.error("Failed to load editor data:",E)}finally{e(!1)}},tt=(E,Y)=>{g({type:E,id:Y.id}),E==="artist"?v({name:Y.name,image_path:Y.image_path||""}):E==="album"?v({title:Y.title,year:Y.year||"",genre:Y.genre||"",cover_path:Y.cover_path||""}):E==="song"&&v({title:Y.title,track_number:Y.track_number||"",duration_seconds:Y.duration_seconds||""})},rt=()=>{g(null),v({}),S("")},J=async()=>{if(m){S("Saving...");try{const E={};Object.keys(y).forEach(st=>{const A=y[st];A!==""&&A!==null&&A!==void 0&&(E[st]=A)});let Y;m.type==="artist"?Y=await pe.updateArtist(m.id,E):m.type==="album"?Y=await pe.updateAlbum(m.id,E):m.type==="song"&&(Y=await pe.updateSong(m.id,E)),Y.success?(S(" Saved"),setTimeout(()=>{S(""),g(null),nt()},1e3)):S(`Error: ${Y.error}`)}catch(E){S(`Error: ${E.message}`)}}},V=E=>{if(!E)return"--:--";const Y=Math.floor(E/60),st=Math.floor(E%60).toString().padStart(2,"0");return`${Y}:${st}`},ht=async(E,Y)=>{if(confirm("Delete this video?")){z("Deleting...");try{const st=await pe.deleteArtistVideo(E,Y);st.success?(z(" Deleted"),setTimeout(()=>{z(""),nt()},1e3)):z(`Error: ${st.error}`)}catch(st){z(`Error: ${st.message}`)}}},ot=async E=>{if(!N.videoId||!N.title){z("Video ID and title are required");return}z("Adding...");try{const Y=await pe.addArtistVideo(E,N);Y.success?(z(" Added"),setTimeout(()=>{z(""),M(null),k({videoId:"",title:""}),nt()},1e3)):z(`Error: ${Y.error}`)}catch(Y){z(`Error: ${Y.message}`)}},ct=(E,Y)=>{U({artistId:E,originalVideoId:Y.videoId}),P({videoId:Y.videoId,title:Y.title})},D=async E=>{if(!Z.videoId||!Z.title){z("Video ID and title are required");return}z("Saving...");try{const Y=await pe.updateArtistVideo(E,Q.originalVideoId,Z);Y.success?(z(" Saved"),setTimeout(()=>{z(""),U(null),P({videoId:"",title:""}),nt()},1e3)):z(`Error: ${Y.error}`)}catch(Y){z(`Error: ${Y.message}`)}},K=()=>{U(null),P({videoId:"",title:""}),z("")};return n?d.jsx("div",{className:"music-editor-page",children:d.jsx("div",{className:"editor-loading",children:"Loading music library..."})}):d.jsxs("div",{className:"music-editor-page",children:[d.jsxs("div",{className:"editor-header",children:[d.jsx("h2",{children:"Music Library Editor"}),d.jsx("p",{children:"Edit artist, album, and song metadata. Changes are saved to the database."})]}),d.jsx("div",{className:"editor-content",children:a.map(E=>d.jsxs("div",{className:"editor-artist",children:[d.jsxs("div",{className:"editor-item-header artist-header",onClick:()=>r(o===E.id?null:E.id),children:[d.jsx("span",{className:"expand-icon",children:o===E.id?"":""}),d.jsx("strong",{children:E.name}),d.jsxs("span",{className:"item-count",children:["(",E.albums.length," albums)"]}),d.jsx("button",{className:"edit-btn",onClick:Y=>{Y.stopPropagation(),tt("artist",E)},children:"Edit"})]}),m?.type==="artist"&&m.id===E.id&&d.jsxs("div",{className:"editor-form",children:[d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Name:"}),d.jsx("input",{type:"text",value:y.name||"",onChange:Y=>v({...y,name:Y.target.value})})]}),d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Image Path:"}),d.jsx("input",{type:"text",value:y.image_path||"",onChange:Y=>v({...y,image_path:Y.target.value}),placeholder:"e.g., Artist Name/cover.jpg"})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{className:"save-btn",onClick:J,children:"Save"}),d.jsx("button",{className:"cancel-btn",onClick:rt,children:"Cancel"}),x&&d.jsx("span",{className:"save-status",children:x})]})]}),o===E.id&&d.jsxs("div",{className:"editor-albums",children:[E.albums.map(Y=>d.jsxs("div",{className:"editor-album",children:[d.jsxs("div",{className:"editor-item-header album-header",onClick:()=>f(u===Y.id?null:Y.id),children:[d.jsx("span",{className:"expand-icon",children:u===Y.id?"":""}),d.jsx("span",{children:Y.title}),d.jsxs("span",{className:"album-meta",children:["(",Y.year||"N/A",")  ",Y.songs.length," songs"]}),d.jsx("button",{className:"edit-btn",onClick:st=>{st.stopPropagation(),tt("album",Y)},children:"Edit"})]}),m?.type==="album"&&m.id===Y.id&&d.jsxs("div",{className:"editor-form",children:[d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Title:"}),d.jsx("input",{type:"text",value:y.title||"",onChange:st=>v({...y,title:st.target.value})})]}),d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Year:"}),d.jsx("input",{type:"number",value:y.year||"",onChange:st=>v({...y,year:parseInt(st.target.value)||""})})]}),d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Genre:"}),d.jsx("input",{type:"text",value:y.genre||"",onChange:st=>v({...y,genre:st.target.value})})]}),d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Cover Path:"}),d.jsx("input",{type:"text",value:y.cover_path||"",onChange:st=>v({...y,cover_path:st.target.value}),placeholder:"e.g., Artist Name/Album Name/cover.jpg"})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{className:"save-btn",onClick:J,children:"Save"}),d.jsx("button",{className:"cancel-btn",onClick:rt,children:"Cancel"}),x&&d.jsx("span",{className:"save-status",children:x})]})]}),u===Y.id&&d.jsxs("div",{className:"editor-songs",children:[d.jsxs("div",{className:"songs-header",children:[d.jsx("span",{className:"song-track",children:"#"}),d.jsx("span",{className:"song-title",children:"Title"}),d.jsx("span",{className:"song-duration",children:"Duration"}),d.jsx("span",{className:"song-actions",children:"Actions"})]}),Y.songs.map(st=>d.jsx("div",{className:"editor-song",children:m?.type==="song"&&m.id===st.id?d.jsxs("div",{className:"editor-form inline-form",children:[d.jsx("input",{type:"number",className:"track-input",value:y.track_number||"",onChange:A=>v({...y,track_number:parseInt(A.target.value)||""})}),d.jsx("input",{type:"text",className:"title-input",value:y.title||"",onChange:A=>v({...y,title:A.target.value})}),d.jsx("input",{type:"number",className:"duration-input",value:y.duration_seconds||"",onChange:A=>v({...y,duration_seconds:parseInt(A.target.value)||""}),placeholder:"seconds"}),d.jsxs("div",{className:"inline-actions",children:[d.jsx("button",{className:"save-btn small",onClick:J,children:""}),d.jsx("button",{className:"cancel-btn small",onClick:rt,children:""}),x&&d.jsx("span",{className:"save-status small",children:x})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"song-track",children:st.track_number||"-"}),d.jsx("span",{className:"song-title",children:st.title}),d.jsx("span",{className:"song-duration",children:V(st.duration_seconds)}),d.jsx("span",{className:"song-actions",children:d.jsx("button",{className:"edit-btn small",onClick:()=>tt("song",st),children:"Edit"})})]})},st.id))]})]},Y.id)),d.jsxs("div",{className:"editor-videos",children:[d.jsxs("div",{className:"videos-header",children:[d.jsx("strong",{children:"Videos"}),d.jsx("button",{className:"add-video-btn",onClick:()=>M(j===E.id?null:E.id),children:j===E.id?" Cancel":"+ Add Video"})]}),j===E.id&&d.jsxs("div",{className:"editor-form add-video-form",children:[d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Video ID:"}),d.jsx("input",{type:"text",value:N.videoId,onChange:Y=>k({...N,videoId:Y.target.value}),placeholder:"e.g., dQw4w9WgXcQ (11 characters)"})]}),d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Title:"}),d.jsx("input",{type:"text",value:N.title,onChange:Y=>k({...N,title:Y.target.value}),placeholder:"e.g., Song Name (Official Video)"})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{className:"save-btn",onClick:()=>ot(E.name),children:"Add Video"}),d.jsx("button",{className:"cancel-btn",onClick:()=>{M(null),k({videoId:"",title:""}),z("")},children:"Cancel"}),H&&d.jsx("span",{className:"save-status",children:H})]})]}),E.videos&&E.videos.length>0?d.jsx("div",{className:"videos-list",children:E.videos.map((Y,st)=>d.jsx("div",{className:"video-item",children:Q?.artistId===E.id&&Q?.originalVideoId===Y.videoId?d.jsxs("div",{className:"editor-form video-edit-form",children:[d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Video ID:"}),d.jsx("input",{type:"text",value:Z.videoId,onChange:A=>P({...Z,videoId:A.target.value}),placeholder:"e.g., dQw4w9WgXcQ"})]}),d.jsxs("div",{className:"form-row",children:[d.jsx("label",{children:"Title:"}),d.jsx("input",{type:"text",value:Z.title,onChange:A=>P({...Z,title:A.target.value}),placeholder:"e.g., Song Name (Official Video)"})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{className:"save-btn small",onClick:()=>D(E.name),children:"Save"}),d.jsx("button",{className:"cancel-btn small",onClick:K,children:"Cancel"}),H&&d.jsx("span",{className:"save-status small",children:H})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"video-info",children:[d.jsx("strong",{children:Y.title}),d.jsxs("a",{href:`https://www.youtube.com/watch?v=${Y.videoId}`,target:"_blank",rel:"noopener noreferrer",className:"video-url",children:["https://www.youtube.com/watch?v=",Y.videoId]})]}),d.jsxs("div",{className:"video-actions",children:[d.jsx("button",{className:"edit-btn small",onClick:()=>ct(E.id,Y),children:"Edit"}),d.jsx("button",{className:"delete-btn small",onClick:()=>ht(E.name,Y.videoId),children:"Delete"})]})]})},st))}):d.jsx("div",{className:"no-videos",children:'No videos added. Click "Add Video" to add one.'})]})]})]},E.id))})]})}function I_(){const[n,e]=C.useState(null),[a,i]=C.useState(!0),[o,r]=C.useState(""),[u,f]=C.useState(1),[m,g]=C.useState(1),[y,v]=C.useState(1),x=10;C.useEffect(()=>{S()},[]);const S=async()=>{try{i(!0);const J=await pe.getAnalytics();e(J),r("")}catch(J){console.error("Failed to load analytics:",J),r("Failed to load analytics data")}finally{i(!1)}};if(a)return d.jsxs("div",{className:"analytics-page",children:[d.jsx("div",{className:"analytics-header",children:d.jsx("h1",{children:"Music Analytics"})}),d.jsx("div",{className:"analytics-loading",children:"Loading analytics..."})]});if(o)return d.jsxs("div",{className:"analytics-page",children:[d.jsx("div",{className:"analytics-header",children:d.jsx("h1",{children:"Music Analytics"})}),d.jsx("div",{className:"analytics-error",children:o})]});if(!n)return null;const j=Math.max(...n.most_played.map(J=>J.play_count),1),M=Math.max(...n.top_artists.map(J=>J.play_count),1),N=Math.max(...n.top_albums.map(J=>J.play_count),1),k=Math.ceil(n.most_played.length/x),H=(u-1)*x,z=n.most_played.slice(H,H+x),Q=Math.ceil(n.top_artists.length/x),U=(m-1)*x,Z=n.top_artists.slice(U,U+x),P=Math.ceil(n.top_albums.length/x),nt=(y-1)*x,tt=n.top_albums.slice(nt,nt+x),rt=(J,V,ht)=>V<=1?null:d.jsxs("div",{className:"analytics-pagination",children:[d.jsx("button",{onClick:()=>ht(ot=>Math.max(1,ot-1)),disabled:J===1,className:"pagination-button",children:""}),d.jsxs("span",{className:"pagination-info",children:[J," / ",V]}),d.jsx("button",{onClick:()=>ht(ot=>Math.min(V,ot+1)),disabled:J===V,className:"pagination-button",children:""})]});return d.jsxs("div",{className:"analytics-page",children:[d.jsxs("div",{className:"analytics-header",children:[d.jsx("h1",{children:"Music Analytics"}),d.jsx("button",{onClick:S,className:"analytics-refresh",children:" Refresh"})]}),d.jsxs("div",{className:"analytics-summary",children:[d.jsxs("div",{className:"analytics-stat-card",children:[d.jsx("div",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("div",{className:"stat-value",children:n.total_plays.toLocaleString()}),d.jsx("div",{className:"stat-label",children:"Total Plays"})]})]}),d.jsxs("div",{className:"analytics-stat-card",children:[d.jsx("div",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("div",{className:"stat-value",children:n.songs_played.toLocaleString()}),d.jsx("div",{className:"stat-label",children:"Songs Played"})]})]}),d.jsxs("div",{className:"analytics-stat-card",children:[d.jsx("div",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("div",{className:"stat-value",children:n.top_artists.length}),d.jsx("div",{className:"stat-label",children:"Active Artists"})]})]}),d.jsxs("div",{className:"analytics-stat-card",children:[d.jsx("div",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("div",{className:"stat-value",children:n.top_albums.length}),d.jsx("div",{className:"stat-label",children:"Albums Played"})]})]})]}),d.jsxs("div",{className:"analytics-section",children:[d.jsxs("div",{className:"analytics-section-header",children:[d.jsx("h2",{children:" Most Played Songs"}),rt(u,k,f)]}),d.jsx("div",{className:"analytics-chart",children:z.map((J,V)=>d.jsxs("div",{className:"chart-row",children:[d.jsx("div",{className:"chart-rank",children:d.jsx("span",{className:"rank-number",children:H+V+1})}),d.jsxs("div",{className:"chart-info",children:[d.jsx("div",{className:"chart-song-title",children:J.title}),d.jsxs("div",{className:"chart-song-meta",children:[J.artist,"  ",J.album]})]}),d.jsx("div",{className:"chart-bar-container",children:d.jsx("div",{className:"chart-bar",style:{width:`${J.play_count/j*100}%`,background:"linear-gradient(90deg, #3b82f6, #8b5cf6)"},children:d.jsx("span",{className:"chart-bar-label",children:J.play_count})})})]},J.id))})]}),d.jsxs("div",{className:"analytics-section",children:[d.jsxs("div",{className:"analytics-section-header",children:[d.jsx("h2",{children:" Top Artists"}),rt(m,Q,g)]}),d.jsx("div",{className:"analytics-chart",children:Z.map((J,V)=>d.jsxs("div",{className:"chart-row",children:[d.jsx("div",{className:"chart-rank",children:d.jsx("span",{className:"rank-number",children:U+V+1})}),d.jsxs("div",{className:"chart-info",children:[d.jsx("div",{className:"chart-song-title",children:J.name}),d.jsxs("div",{className:"chart-song-meta",children:[J.play_count," ",J.play_count===1?"play":"plays"]})]}),d.jsx("div",{className:"chart-bar-container",children:d.jsx("div",{className:"chart-bar artist-bar",style:{width:`${J.play_count/M*100}%`,background:"linear-gradient(90deg, #10b981, #3b82f6)"},children:d.jsx("span",{className:"chart-bar-label",children:J.play_count})})})]},V))})]}),d.jsxs("div",{className:"analytics-section",children:[d.jsxs("div",{className:"analytics-section-header",children:[d.jsx("h2",{children:" Top Albums"}),rt(y,P,v)]}),d.jsx("div",{className:"analytics-chart",children:tt.map((J,V)=>d.jsxs("div",{className:"chart-row",children:[d.jsx("div",{className:"chart-rank",children:d.jsx("span",{className:"rank-number",children:nt+V+1})}),d.jsxs("div",{className:"chart-info",children:[d.jsx("div",{className:"chart-song-title",children:J.title}),d.jsx("div",{className:"chart-song-meta",children:J.artist})]}),d.jsx("div",{className:"chart-bar-container",children:d.jsx("div",{className:"chart-bar album-bar",style:{width:`${J.play_count/N*100}%`,background:"linear-gradient(90deg, #f59e0b, #ef4444)"},children:d.jsx("span",{className:"chart-bar-label",children:J.play_count})})})]},V))})]})]})}function K_(n,e,a){const[i,o]=C.useState([]),[r,u]=C.useState(!0),[f,m]=C.useState(!0),[g,y]=C.useState(0),[v,x]=C.useState(!1),S=C.useRef(0);C.useEffect(()=>{S.current=g},[g]);const j=C.useCallback(async(H=!0)=>{try{u(!0);const z=H?0:S.current,Q=await gs.getHistory(50,z,n,e,a);if(H){o(Q.messages||[]);const U=Q.messages?.length||0;y(U)}else o(U=>[...Q.messages||[],...U]),y(U=>U+(Q.messages?.length||0));return m(Q.has_more||!1),u(!1),Q.messages||[]}catch(z){return console.error("Error loading chat history:",z),u(!1),[]}},[n,e,a]),M=C.useCallback(async()=>{y(0),m(!0),u(!0);try{const H=await gs.getHistory(50,0,n,e,a);o(H.messages||[]),m((H.messages?.length||0)===50)}catch(H){console.error("Error loading chat history:",H)}finally{u(!1)}},[n,e,a]),N=C.useCallback(async()=>{if(!(v||!f)){x(!0);try{y(H=>(gs.getHistory(50,H,n,e,a).then(z=>{z.messages&&z.messages.length>0?(o(Q=>[...z.messages||[],...Q]),m(z.has_more||!1)):m(!1),x(!1)}).catch(z=>{console.error("Error loading more chat:",z),x(!1)}),H)),y(H=>H)}catch(H){console.error("Error loading more chat:",H),x(!1)}}},[v,f,n,e,a]),k=async(H,z,Q,U,Z="qa",P="general")=>{try{const nt=await gs.sendMessage(H,n,Z,P);if(!nt.ok)throw new Error("Failed to send message");const tt=nt.body.getReader(),rt=new TextDecoder;let J="",V="",ht=null;for(;;){const{done:ot,value:ct}=await tt.read();if(ot)break;J+=rt.decode(ct,{stream:!0});const D=J.split(`
`);J=D.pop()||"";for(const K of D)if(K.startsWith("data: "))try{const E=JSON.parse(K.slice(6));if(E.chunk&&(V+=E.chunk,z?.(V)),E.done)return ht=E.message_id,Q?.(V,ht),V;if(E.error){U?.(E.error);return}}catch(E){console.error("Error parsing SSE data:",E)}}}catch(nt){throw console.error("Error sending message:",nt),U?.(nt.message),nt}};return C.useEffect(()=>{console.log("[useChat] useEffect triggered - sessionId:",n,"mode:",e,"persona:",a),o([]),u(!0),y(0),m(!0),S.current=0,(async()=>{try{console.log("[useChat] Loading history for sessionId:",n,"mode:",e,"persona:",a);const z=n&&n.startsWith("chat-")?await gs.getHistory(50,0,n,null,null):await gs.getHistory(50,0,n,e,a);console.log("[useChat] Loaded messages:",z.messages?.length||0,"for sessionId:",n),o(z.messages||[]);const Q=z.messages?.length||0;y(Q),S.current=Q,m(z.has_more||!1),u(!1)}catch(z){console.error("[useChat] Error loading chat history:",z),u(!1)}})()},[n,e,a]),{messages:i,loading:r,hasMore:f,isLoadingMore:v,loadHistory:j,loadMore:N,sendMessage:k,reloadHistory:M}}function W_(){const[n,e]=C.useState([]),[a,i]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{const r=await _x.getExpertTypes();e(r.expert_types||[])}catch(r){console.error("Error loading expert types:",r)}finally{i(!1)}};return{expertTypes:n,loading:a}}function Z_({sessionId:n,onMicClick:e,searchQuery:a=""}){const[i,o]=C.useState("qa"),[r,u]=C.useState("general"),[f,m]=C.useState(""),[g,y]=C.useState(null),[v,x]=C.useState(!1),[S,j]=C.useState(null),[M,N]=C.useState(!0),[k,H]=C.useState([]),[z,Q]=C.useState({}),[U,Z]=C.useState(null),[P,nt]=C.useState(""),[tt,rt]=C.useState(()=>n&&n.startsWith("chat-")?n:`chat-${Date.now()}`),J=C.useRef(null),V=C.useRef(null),ht=C.useRef(null),{currentPersona:ot,currentTitle:ct}=jc(),{expertTypes:D}=W_(),K=tt&&tt.startsWith("chat-")?tt:`${tt||`chat-${Date.now()}`}_${i}_${r}`,{messages:E,loading:Y,hasMore:st,isLoadingMore:A,loadMore:F,sendMessage:lt,reloadHistory:ut}=K_(K,i,ot);C.useEffect(()=>{console.log("[Chat] Session ID changed:",K,"currentSessionId:",tt,"messages count:",E.length)},[K,tt,E.length]);const bt=C.useRef(!1);C.useEffect(()=>{const xt=setTimeout(async()=>{if(!bt.current)try{const Bt=await gs.getSessions();if(Bt.success&&Bt.sessions){const Yt=Bt.sessions.map(Ht=>Ht.session_id);tt&&tt.startsWith("chat-")&&!Yt.includes(tt)&&Yt.unshift(tt),H(Yt);const Mt={};Bt.sessions.forEach(Ht=>{Ht.title&&(Mt[Ht.session_id]=Ht.title)}),Q(Ht=>({...Ht,...Mt}))}}catch(Bt){console.error("Error loading sessions:",Bt)}},500);return()=>clearTimeout(xt)},[tt]),C.useEffect(()=>{J.current?.scrollIntoView({behavior:"smooth"})},[E,g,S]),C.useEffect(()=>{const pt=V.current;if(!pt)return;const xt=()=>{pt.scrollTop<100&&st&&!A&&F()};return pt.addEventListener("scroll",xt),()=>pt.removeEventListener("scroll",xt)},[st,A,F]);const Nt=pt=>{if(!pt)return"";const xt=document.createElement("div");return xt.textContent=pt,xt.innerHTML},ft=async()=>{if(!f.trim())return;const pt=f;m("");const xt={id:`temp-user-${Date.now()}`,role:"user",message:pt,created_at:new Date().toISOString()};j(xt),x(!0),await lt(pt,Bt=>{y({id:"streaming",role:"assistant",message:Bt}),x(!1),j(null)},async Bt=>{y(null),x(!1),j(null),await ut();try{const Yt=await gs.getHistory(100,0,null,null,null),Mt=new Set;Yt.messages&&Yt.messages.forEach(Ot=>{if(Ot.session_id){const Vt=Ot.session_id.split("_")[0];Mt.add(Vt)}});const Ht=Array.from(Mt).slice(0,20),Ne={};for(const Ot of Ht)try{const Vt=await gs.getSessionTitle(Ot);Vt.success&&Vt.title&&(Ne[Ot]=Vt.title)}catch{}Q(Ne)}catch{}},async Bt=>{console.error("Error sending message:",Bt),y(null),x(!1),j(null)},i,r)},Tt=async pt=>{pt&&(pt.preventDefault(),pt.stopPropagation()),console.log("[Chat] handleNewChat called, current sessionId:",tt),bt.current=!0;const xt=`chat-${Date.now()}`;console.log("[Chat] Creating new session:",xt),j(null),y(null);const Bt=`${xt} ${Date.now()}`;H(Yt=>[xt,...Yt.filter(Ht=>Ht!==xt)].slice(0,20)),Q(Yt=>({...Yt,[xt]:Bt})),rt(xt),console.log("[Chat] Set currentSessionId to:",xt,"with title:",Bt),gs.createSession(xt).then(Yt=>{Yt.success&&Yt.title&&Q(Mt=>({...Mt,[xt]:Yt.title})),setTimeout(()=>{bt.current=!1},1e3)}).catch(Yt=>{console.error("[Chat] Error creating session in DB (non-critical):",Yt),setTimeout(()=>{bt.current=!1},1e3)})},gt=pt=>{console.log("[Chat] Selecting session:",pt),j(null),y(null),Z(null),rt(pt)},fe=(pt,xt)=>{xt.stopPropagation(),Z(pt),nt(z[pt]||"")},He=async(pt,xt)=>{xt.stopPropagation();try{const Bt=await gs.updateSessionTitle(pt,P);Bt.success&&(Q(Yt=>({...Yt,[pt]:Bt.title||null})),Z(null),nt(""))}catch(Bt){console.error("Error saving title:",Bt)}},Ze=pt=>{pt.stopPropagation(),Z(null),nt("")},$e=pt=>{if(z[pt])return z[pt];if(pt.startsWith("chat-")){const xt=pt.replace("chat-","");return`${pt} ${xt}`}return pt.substring(0,20)+"..."},Qe=E.filter(pt=>pt.session_id?K&&K.startsWith("chat-")?pt.session_id===K:pt.session_id.startsWith(tt):!1),De=[...S?[S]:[],...Qe,...g?[g]:[]];return C.useEffect(()=>{ht.current&&!v&&E.length===0&&!S&&!g&&ht.current.focus()},[v,E.length,S,g]),d.jsxs("div",{className:"chatgpt-page",children:[M&&d.jsxs("div",{className:"chatgpt-sidebar",children:[d.jsxs("button",{className:"chatgpt-new-chat",onClick:Tt,children:[d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M12 5v14M5 12h14"})}),"New chat"]}),d.jsxs("div",{className:"chatgpt-sidebar-nav",children:[d.jsxs("button",{className:"chatgpt-nav-item",children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),d.jsx("path",{d:"M9 9h6v6H9z"})]}),"Images"]}),d.jsxs("button",{className:"chatgpt-nav-item",children:[d.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),d.jsx("path",{d:"M9 9h6v6H9z"})]}),"Apps"]})]}),d.jsxs("div",{className:"chatgpt-chats-section",children:[d.jsx("div",{className:"chatgpt-section-title",children:"Your chats"}),d.jsx("div",{className:"chatgpt-chats-list",children:k.filter(pt=>{if(!a.trim())return!0;const xt=a.toLowerCase();return(z[pt]||$e(pt)).toLowerCase().includes(xt)}).map(pt=>d.jsxs("div",{className:`chatgpt-chat-item ${pt===tt?"active":""}`,onClick:()=>gt(pt),children:[d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),U===pt?d.jsxs("div",{className:"chatgpt-chat-title-edit",onClick:xt=>xt.stopPropagation(),children:[d.jsx("input",{type:"text",value:P,onChange:xt=>nt(xt.target.value),onKeyPress:xt=>{xt.key==="Enter"?He(pt,xt):xt.key==="Escape"&&Ze(xt)},autoFocus:!0,className:"chatgpt-title-input"}),d.jsx("button",{onClick:xt=>He(pt,xt),className:"chatgpt-title-save",children:""}),d.jsx("button",{onClick:Ze,className:"chatgpt-title-cancel",children:""})]}):d.jsx("span",{onDoubleClick:xt=>fe(pt,xt),title:"Double-click to edit",className:"chatgpt-chat-title",children:$e(pt)})]},pt))})]})]}),d.jsxs("div",{className:"chatgpt-main",children:[d.jsxs("div",{className:"chatgpt-header",children:[d.jsx("button",{className:"chatgpt-menu-btn",onClick:()=>N(!M),children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M3 12h18M3 6h18M3 18h18"})})}),d.jsx("div",{className:"chatgpt-header-title",children:ct||"AI Assistant"})]}),d.jsxs("div",{className:"chatgpt-messages",ref:V,children:[Y&&De.length===0?d.jsx("div",{className:"chatgpt-empty",children:"Loading..."}):De.length===0?d.jsxs("div",{className:"chatgpt-empty",children:[d.jsx("div",{className:"chatgpt-empty-icon",children:d.jsx("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),d.jsx("div",{className:"chatgpt-empty-text",children:"Ready when you are."})]}):d.jsxs(d.Fragment,{children:[De.map(pt=>{const xt=pt.role==="assistant"&&i==="conversational"&&r!=="general"?D.find(Bt=>Bt.id===r):null;return d.jsxs("div",{className:`chatgpt-message ${pt.role}`,children:[d.jsx("div",{className:"chatgpt-message-avatar",children:pt.role==="user"?d.jsx("div",{className:"chatgpt-avatar-user",children:"DN"}):d.jsx("div",{className:"chatgpt-avatar-assistant",children:xt?.icon||""})}),d.jsx("div",{className:"chatgpt-message-content",children:d.jsx("div",{className:"chatgpt-message-text",children:pt.role==="assistant"?d.jsx("div",{dangerouslySetInnerHTML:{__html:Nt(pt.message).replace(/\n/g,"<br>")}}):d.jsx("div",{children:pt.message})})})]},pt.id)}),v&&!g&&d.jsxs("div",{className:"chatgpt-message assistant",children:[d.jsx("div",{className:"chatgpt-message-avatar",children:d.jsx("div",{className:"chatgpt-avatar-assistant",children:""})}),d.jsx("div",{className:"chatgpt-message-content",children:d.jsxs("div",{className:"chatgpt-typing-indicator",children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]})})]})]}),d.jsx("div",{ref:J})]}),d.jsx("div",{className:"chatgpt-input-container",children:d.jsxs("div",{className:"chatgpt-input-wrapper",children:[d.jsx("input",{ref:ht,type:"text",className:"chatgpt-input",placeholder:"Ask anything",value:f,onChange:pt=>m(pt.target.value),onKeyPress:pt=>pt.key==="Enter"&&!pt.shiftKey&&ft()}),d.jsx("div",{className:"chatgpt-input-actions",children:d.jsx("button",{onClick:ft,disabled:!f.trim(),title:"Send",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M22 2L11 13"}),d.jsx("path",{d:"M22 2l-7 20-4-9-9-4 20-7z"})]})})})]})})]})]})}function $_(n="top_stories",e=50,a=9e5){const[i,o]=C.useState(null),[r,u]=C.useState(!0),[f,m]=C.useState(null);return C.useEffect(()=>{const g=async()=>{try{u(!0),m(null);const v=await R1.getNews(n,e);v.success&&v.data?o(v.data):m(v.error||"Failed to load news"),u(!1)}catch(v){console.error("Error fetching news:",v),m(v.message),u(!1)}};g();const y=setInterval(g,a);return()=>clearInterval(y)},[n,e,a]),{news:i,loading:r,error:f}}function J_(n){return Ls({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(n)}function t6(){const{news:n,loading:e,error:a}=$_("top_stories",50),[i,o]=C.useState(null),[r,u]=C.useState(null),[f,m]=C.useState(null),[g,y]=C.useState(!1),v=async(S,j)=>{if(o(S),m(S.title),S.summary){u(S.summary),m(S.summary_title||S.title);return}y(!0);try{const M=await R1.summarizeArticle(S.link,S.title);M.success&&M.summary?(u(M.summary),m(M.title||S.title)):(console.error("Error summarizing article:",M.error),u(`Error: ${M.error||"Failed to generate summary"}`))}catch(M){console.error("Error summarizing article:",M),u(`Error: ${M.message||"Failed to generate summary"}`)}finally{y(!1)}},x=S=>{if(!S)return"";try{return new Date(S).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch{return S}};return d.jsx("div",{className:"news-page",children:d.jsx("div",{className:"news-container",children:d.jsxs("div",{className:"news-content-split",children:[d.jsxs("div",{className:"news-articles-pane",children:[e&&d.jsx("div",{className:"news-placeholder",children:"Loading news..."}),a&&d.jsxs("div",{className:"news-error",children:["Error loading news: ",a]}),!e&&!a&&n&&n.articles&&n.articles.length>0?d.jsx("div",{className:"news-articles",children:n.articles.map((S,j)=>{const M=i?.link===S.link;return d.jsxs("div",{className:`news-article ${M?"news-article-selected":""}`,onClick:()=>v(S),children:[S.image_url&&d.jsx("div",{className:"news-article-image",children:d.jsx("img",{src:S.image_url,alt:S.title,onError:N=>{N.target.style.display="none"}})}),d.jsxs("div",{className:"news-article-content",children:[d.jsxs("div",{className:"news-article-header",children:[d.jsx("h3",{className:"news-article-title",children:S.title}),S.link&&d.jsx("a",{href:S.link,target:"_blank",rel:"noopener noreferrer",className:"news-article-external-link",onClick:N=>N.stopPropagation(),children:d.jsx(J_,{})})]}),S.published_date&&d.jsx("div",{className:"news-article-date",children:x(S.published_date)}),S.description&&d.jsxs("div",{className:"news-article-description",children:[S.description.replace(/<[^>]*>/g,"").substring(0,200),S.description.length>200?"...":""]})]})]},j)})}):!e&&!a&&d.jsx("div",{className:"news-placeholder",children:"No news available"})]}),d.jsx("div",{className:"news-summary-pane",children:i?d.jsxs("div",{className:"news-summary-content",children:[d.jsx("h2",{className:"news-summary-title",children:f}),g?d.jsx("div",{className:"news-summary-loading",children:"Generating summary..."}):r?d.jsx("div",{className:"news-summary-text",children:r}):d.jsx("div",{className:"news-summary-placeholder",children:"Click an article to view its summary"})]}):d.jsx("div",{className:"news-summary-placeholder",children:"Select an article to view its summary"})})]})})})}const e6=["# === System message ===","You are an AI assistant designed to classify input and return a JSON object describing the type of request. You only output JSON. Do not add extra text.","","Rules:","   Each rule has a trigger (the input text or pattern) and a type (task or question).","   When input matches a rule, return a JSON object with type and value.","   If input does not match any rule, classify it as a question by default.","   Each rule also has a reason: use it to confirm you chose the correct rule and to guide similar future queries. If multiple rules seem similar, pick the one whose reason best matches the user intent.","","Rules list (example):"].join(`
`),r1=[{trigger:"get time",type:"task",value:"get_time",reason:"User asked for current time"},{trigger:"what is the capital of china",type:"question",value:"what is the capital of china",reason:"User asked a geography fact"},{trigger:"get date",type:"task",value:"get_date",reason:"User asked for current date"}];function n6(n){const e=[];if(!n)return{rules:e,basePrompt:n||""};const a=n.split(/\r?\n/),i=new Set;for(let u=0;u<a.length;u++)if((a[u]||"").trim().replace(/^\s*/,"").toLowerCase().startsWith("trigger:")){const m=a[u].replace(/^\s*/,"").split(":").slice(1).join(":").trim();let g="",y="",v="";for(let x=u+1;x<Math.min(u+6,a.length);x++){const S=(a[x]||"").trim().replace(/^\s*/,"").toLowerCase();S.startsWith("type:")&&!g?(g=a[x].replace(/^\s*/,"").split(":").slice(1).join(":").trim(),i.add(x)):S.startsWith("value:")&&!y?(y=a[x].replace(/^\s*/,"").split(":").slice(1).join(":").trim(),i.add(x)):S.startsWith("reason:")&&!v&&(v=a[x].replace(/^\s*/,"").split(":").slice(1).join(":").trim(),i.add(x))}e.push({trigger:m,type:g,value:y,reason:v}),i.add(u)}const r=a.filter((u,f)=>!i.has(f)).join(`
`).trim();return{rules:e,basePrompt:r}}function s6(n,e){let a=(n||"").trim();return e&&e.length&&(a+=`

# Rules
`,e.forEach(i=>{a+=`trigger: ${i.trigger||""}
`,a+=`type: ${i.type||""}
`,a+=`value: ${i.value||""}
`,i.reason&&(a+=`reason: ${i.reason}
`),a+=`
`}),a=a.trimEnd()),a}function a6(n){const[e,a]=C.useState(!1),[i,o]=C.useState(null),[r,u]=C.useState(!1),[f,m]=C.useState(null),[g,y]=C.useState(""),[v,x]=C.useState(""),[S,j]=C.useState(""),[M,N]=C.useState(""),[k,H]=C.useState(""),[z,Q]=C.useState([]);return C.useEffect(()=>{if(!n)return;(async()=>{a(!0),o(null);try{const J=(await kg.getRouterConfig())?.anthropic||{};y(J.anthropic_model||""),x(J.temperature===void 0||J.temperature===null?"":String(J.temperature)),j(J.top_p===void 0||J.top_p===null?"":String(J.top_p)),N(J.max_tokens===void 0||J.max_tokens===null?"":String(J.max_tokens));const ht=(J.prompt_context||""||"").replace(/\\n/g,`
`),{rules:ot,basePrompt:ct}=n6(ht||""),D=ct&&ct.trim()?ct:e6,K=ot.length>=r1.length?ot:r1;H(D),Q(K)}catch(rt){console.error("Error loading router config:",rt),o("Failed to load router config")}finally{a(!1)}})()},[n]),{loading:e,error:i,saving:r,success:f,model:g,temperature:v,topP:S,maxTokens:M,basePrompt:k,rules:z,setModel:y,setTemperature:x,setTopP:j,setMaxTokens:N,setBasePrompt:H,saveRouter:async()=>{u(!0),o(null),m(null);try{const tt={title:"router",anthropic:{anthropic_model:g||void 0,temperature:v===""?void 0:Number(v),top_p:S===""?void 0:Number(S),max_tokens:M===""?void 0:Number(M),prompt_context:s6(k,z||[])}};await kg.saveRouterConfig(tt),m("Router config saved")}catch(tt){console.error("Error saving router config:",tt),o(tt.message||"Failed to save router config")}finally{u(!1)}},addRule:()=>{Q(tt=>[...tt,{trigger:"",type:"",value:"",reason:""}])},updateRule:(tt,rt,J)=>{Q(V=>V.map((ht,ot)=>ot===tt?{...ht,[rt]:J}:ht))},removeRule:tt=>{Q(rt=>rt.filter((J,V)=>V!==tt))}}}function i6({onNavigate:n}){const[e,a]=C.useState("personas"),[i,o]=C.useState([]),[r,u]=C.useState(null),[f,m]=C.useState(""),[g,y]=C.useState({}),[v,x]=C.useState(""),[S,j]=C.useState(!1),[M,N]=C.useState(""),[k,H]=C.useState(""),[z,Q]=C.useState({}),[U,Z]=C.useState(!1),[P,nt]=C.useState(!1),[tt,rt]=C.useState(!1),[J,V]=C.useState(null),[ht,ot]=C.useState(null),[ct,D]=C.useState(!1),[K,E]=C.useState(""),[Y,st]=C.useState("router"),[A,F]=C.useState(!1),[lt,ut]=C.useState(""),[bt,Nt]=C.useState(""),[ft,Tt]=C.useState({}),[gt,fe]=C.useState({}),[He,Ze]=C.useState({}),[$e,Qe]=C.useState([]),[De,pt]=C.useState(""),[xt,Bt]=C.useState(!1),[Yt,Mt]=C.useState(null),[Ht,Ne]=C.useState([]),[Ot,Vt]=C.useState(null),[Ft,Ue]=C.useState(null),[we,ze]=C.useState(1),[cn]=C.useState(15),[yn,en]=C.useState(null),[vn,Ve]=C.useState({}),he=C.useRef(null),{model:nn,temperature:Ce,topP:is,maxTokens:Si,basePrompt:_i,rules:bs,setModel:Yn,setTemperature:ua,setTopP:On,setMaxTokens:ls,setBasePrompt:os,loading:Bs,error:Fa,saving:_e,success:Ae,saveRouter:xs,addRule:rs,updateRule:Ss,removeRule:ji}=a6(Y==="router"),ye=C.useCallback(async(T,yt=1)=>{if(!T)return;const St=`${T}-${yt}`;if(he.current===St){console.log("Already loading this table/page, skipping");return}console.log("loadTableData called:",T,yt),he.current=St;try{nt(!0),V(null);const At=await Vd.getTableData(T,yt,cn);console.log("Table data result:",At),At&&At.success?(console.log("Setting table data:",At.data?.length,"rows"),console.log("Table data structure:",{success:At.success,columns:At.columns?.length,data:At.data?.length}),console.log("BEFORE setTableData - result:",At),Ue(At),console.log("AFTER setTableData called"),V(null),setTimeout(()=>{console.log("After setTableData - current tableData state should be set now")},100)):(console.error("Table data result not successful:",At),V("Failed to load table data"))}catch(At){console.error("Error loading table data:",At),console.error("Error details:",At.response?.data||At.message),V(At.response?.data?.detail||At.message||"Failed to load table data")}finally{nt(!1),he.current=null,console.log("loadTableData finished")}},[cn]);C.useEffect(()=>{bn(),pl(),Ni(),Fs(),e==="database"&&_s()},[e]),C.useEffect(()=>{console.log("useEffect fired - selectedTable:",Ot,"activeTab:",e,"tablePage:",we),Ot&&e==="database"?(console.log("useEffect triggered - Loading table data:",Ot,"page:",we),ye(Ot,we)):e!=="database"&&(console.log("Clearing table data - activeTab is not database"),Ue(null),Vt(null),ze(1),he.current=null)},[Ot,we,e,ye]);const bn=async()=>{try{const T=await ms.getPersonas();o(T.personas||[])}catch(T){console.error("Error loading personas:",T),V("Failed to load personas")}},Pa=async T=>{Z(!0),V(null);try{const yt=await ms.getPersonaConfig(T);m(JSON.stringify(yt,null,2)),y(yt),u(T),await Hs(T)}catch(yt){console.error("Error loading persona config:",yt),V(`Failed to load config for ${T}`)}finally{Z(!1)}},Hs=async T=>{if(!T){Qe([]);return}try{console.log("Loading filler words for persona:",T);const yt=await ll.getFillerWords(T);if(console.log("Filler words result:",yt),yt&&yt.success){const St=yt.filler_words||[];console.log(`Found ${St.length} filler words:`,St),Qe(St)}else console.warn("Filler words request not successful:",yt),Qe([])}catch(yt){console.error("Error loading filler words:",yt),console.error("Error details:",yt.response?.data||yt.message),Qe([])}},sn=async(T,yt)=>{try{Mt(yt);const St=ll.getFillerWordAudio(T,yt),At=new Audio(St);At.onended=()=>{Mt(null)},At.onerror=()=>{Mt(null),V("Failed to play audio")},await At.play()}catch(St){console.error("Error playing filler word:",St),Mt(null),V("Failed to play audio")}},Xt=async(T,yt)=>{if(confirm(`Delete filler word "${yt}"?`))try{await ll.deleteFillerWord(T,yt),await Hs(T),ot("Filler word deleted")}catch(St){console.error("Error deleting filler word:",St),V("Failed to delete filler word")}},me=async()=>{if(!De.trim()||!r){V("Please enter text for the filler word");return}Bt(!0),V(null);try{await ll.createFillerWord(r,De.trim()),pt(""),await Hs(r),ot("Filler word created successfully")}catch(T){console.error("Error creating filler word:",T),V(T.response?.data?.detail||"Failed to create filler word")}finally{Bt(!1)}},_s=async()=>{try{Z(!0);const T=await Vd.getTables();T.success&&Ne(T.tables||[])}catch(T){console.error("Error loading database tables:",T),V("Failed to load database tables")}finally{Z(!1)}},Us=(T,yt,St)=>{en({rowId:T,column:yt}),Ve(At=>({...At,[T]:{...At[T],[yt]:St}}))},Vs=async(T,yt)=>{try{rt(!0),await Vd.updateTableRow(Ot,T,yt),ot("Row updated successfully"),en(null),Ve(St=>{const At={...St};return delete At[T],At}),await ye(Ot,we)}catch(St){console.error("Error updating row:",St),V(St.response?.data?.detail||"Failed to update row")}finally{rt(!1)}},pl=async()=>{try{const T=await ms.getLocationConfig();N(JSON.stringify(T,null,2)),Ze(T)}catch(T){console.error("Error loading location config:",T)}},Ni=async()=>{try{const T=await ms.getApiKeysConfig();H(JSON.stringify(T,null,2)),Q(T)}catch(T){console.error("Error loading API keys config:",T)}},Fs=async()=>{try{const T=await ms.getSystemConfig();Nt(JSON.stringify(T,null,2)),Tt(T)}catch(T){console.error("Error loading system config:",T)}},Xn=async()=>{if(r){rt(!0),V(null),ot(null);try{await ms.savePersonaConfig(r,g),ot(`Saved ${r} config successfully`),await bn()}catch(T){console.error("Error saving persona config:",T),V(T.message||"Failed to save config.")}finally{rt(!1)}}},js=async()=>{if(!v.trim()){V("Persona name is required");return}rt(!0),V(null),ot(null);try{const T={title:v.charAt(0).toUpperCase()+v.slice(1),anthropic:{anthropic_model:"claude-3-5-haiku-20241022",prompt_context:`# === System message ===
You are an AI assistant.

CRITICAL: Your responses must consist solely of natural, spoken words and basic punctuation. Do NOT use any markdown formatting.

# === Response guidelines ===
- Be clear and concise
- Use plain text only
- Avoid formatting symbols`,temperature:.6,top_p:.9,max_tokens:650},fish_audio:{voice_id:"f19179ec09af4963bb6c4f7359af8d1e",voice_engine:"s1"},filler:{answer_question:"let_me_check_my_data_stores.mp3",wake_word_confirmation:"yes.mp3",translating:"translating.mp3"}};await ms.createPersona(v,T),ot(`Created persona ${v} successfully`),x(""),j(!1),await bn(),await Pa(v)}catch(T){console.error("Error creating persona:",T),V(T.message||"Failed to create persona")}finally{rt(!1)}},xn=async()=>{rt(!0),V(null),ot(null);try{const T=JSON.parse(M);await ms.saveLocationConfig(T),ot("Location config saved successfully")}catch(T){console.error("Error saving location config:",T),V(T.message||"Failed to save config. Check JSON syntax.")}finally{rt(!1)}},Ps=async()=>{rt(!0),V(null),ot(null);try{await ms.saveApiKeysConfig(z),ot("API keys config saved successfully")}catch(T){console.error("Error saving API keys config:",T),V(T.message||"Failed to save config.")}finally{rt(!1)}},cs=async()=>{rt(!0),V(null),ot(null);try{await ms.saveSystemConfig(ft),ot("System config saved successfully")}catch(T){console.error("Error saving system config:",T),V(T.message||"Failed to save config.")}finally{rt(!1)}},ne=(T,yt)=>{const St=T.split("."),At={...g};let Zt=At;for(let ge=0;ge<St.length-1;ge++)Zt[St[ge]]||(Zt[St[ge]]={}),Zt=Zt[St[ge]];const Dt=parseFloat(yt);Zt[St[St.length-1]]=!isNaN(Dt)&&yt!==""?Dt:yt,y(At)},Dn=(T,yt)=>{const St=T.split("."),At={...z};let Zt=At;for(let Dt=0;Dt<St.length-1;Dt++)Zt[St[Dt]]||(Zt[St[Dt]]={}),Zt=Zt[St[Dt]];Zt[St[St.length-1]]=yt,Q(At)},ve=(T,yt)=>{const St=T.split("."),At={...ft};let Zt=At;for(let ge=0;ge<St.length-1;ge++)Zt[St[ge]]||(Zt[St[ge]]={}),Zt=Zt[St[ge]];const Dt=parseFloat(yt);Zt[St[St.length-1]]=!isNaN(Dt)&&yt!==""&&typeof ft[St[0]]?.[St[1]]=="number"?Dt:yt,Tt(At)},Gn=async()=>{D(!0),E("");try{const T=await _c.restart();if(E(T?.message||"Restart scheduled"),window.caches){const yt=await caches.keys();await Promise.all(yt.map(St=>caches.delete(St)))}localStorage.clear(),sessionStorage.clear(),setTimeout(()=>{window.location.reload(!0)},1e3)}catch(T){console.error("Failed to restart server:",T),E("Failed to restart server")}finally{D(!1)}},Ee=T=>{fe(yt=>({...yt,[T]:!yt[T]}))},yl=async()=>{F(!0),ut("");try{console.log("Music scan: starting request to /api/music/scan");const T=await pe.scanMusic();console.log("Music scan: response",T),T?.success?ut("Music library scanned successfully."):ut(T?.error||"Music scan failed.")}catch(T){console.error("Music scan failed:",T),ut(T?.message||"Music scan failed.")}finally{F(!1)}},qa=async()=>{if(confirm("Are you sure you want to clear all music data? This will delete all artists, albums, songs, and playlists from the database.")){F(!0),ut("");try{console.log("Music clear: starting request to /api/music/clear");const T=await pe.clearMusic();console.log("Music clear: response",T),T?.success?ut("Music library cleared successfully. You can now scan to rebuild it."):ut(T?.error||"Music clear failed.")}catch(T){console.error("Music clear failed:",T),ut(T?.message||"Music clear failed.")}finally{F(!1)}}};return d.jsx("div",{className:"settings-page",children:d.jsxs("div",{className:"settings-container",children:[d.jsx("div",{className:"settings-header",children:d.jsx("h2",{children:"Settings"})}),d.jsxs("div",{className:"settings-tabs",children:[d.jsx("button",{className:e==="personas"?"active":"",onClick:()=>a("personas"),children:"Personas"}),d.jsx("button",{className:e==="location"?"active":"",onClick:()=>a("location"),children:"Location"}),d.jsx("button",{className:e==="api_keys"?"active":"",onClick:()=>a("api_keys"),children:"API Keys"}),d.jsx("button",{className:e==="music"?"active":"",onClick:()=>a("music"),children:"Music"}),d.jsx("button",{className:e==="router"?"active":"",onClick:()=>a("router"),children:"Router"}),d.jsx("button",{className:e==="system"?"active":"",onClick:()=>a("system"),children:"System"}),d.jsx("button",{className:e==="database"?"active":"",onClick:()=>a("database"),children:"Database"})]}),d.jsxs("div",{className:"settings-content",children:[J&&d.jsx("div",{className:"settings-message error",children:J}),ht&&d.jsx("div",{className:"settings-message success",children:ht}),e==="router"&&d.jsxs("div",{className:"settings-panel",children:[d.jsxs("div",{className:"settings-panel-header",children:[d.jsx("h3",{children:"Router Configuration"}),d.jsxs("div",{className:"settings-panel-actions",children:[d.jsx("button",{onClick:rs,className:"save-button",disabled:Bs||_e,children:"+ Add Rule"}),d.jsx("button",{onClick:xs,className:"save-button",disabled:_e||Bs,children:_e?"Saving":"Save"})]})]}),Fa&&d.jsx("div",{className:"settings-message error",children:Fa}),Ae&&d.jsx("div",{className:"settings-message success",children:Ae}),Bs?d.jsx("div",{className:"loading",children:"Loading router config..."}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Model"}),d.jsx("input",{value:nn,onChange:T=>Yn(T.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Temperature"}),d.jsx("input",{value:Ce,onChange:T=>ua(T.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Top P"}),d.jsx("input",{value:is,onChange:T=>On(T.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Max Tokens"}),d.jsx("input",{value:Si,onChange:T=>ls(T.target.value)})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"System Prompt (base)"}),d.jsx("textarea",{value:_i,onChange:T=>os(T.target.value),className:"config-textarea",rows:6})]}),d.jsx("div",{className:"rules-actions",children:d.jsx("button",{onClick:rs,className:"save-button",disabled:Bs||_e,children:"+ Add Rule"})}),d.jsxs("div",{className:"rules-list",children:[d.jsxs("div",{className:"rules-header",children:[d.jsx("span",{children:"#"}),d.jsx("span",{children:"Trigger"}),d.jsx("span",{children:"Type"}),d.jsx("span",{children:"Value"}),d.jsx("span",{children:"Reason"}),d.jsx("span",{})]}),bs.map((T,yt)=>d.jsxs("div",{className:"rule-row",children:[d.jsxs("div",{className:"rule-index",children:["#",yt+1]}),d.jsx("input",{placeholder:"trigger",value:T.trigger,onChange:St=>Ss(yt,"trigger",St.target.value)}),d.jsx("input",{placeholder:"type (task|question)",value:T.type,onChange:St=>Ss(yt,"type",St.target.value)}),d.jsx("input",{placeholder:"value",value:T.value,onChange:St=>Ss(yt,"value",St.target.value)}),d.jsx("input",{placeholder:"reason (why this route applies)",value:T.reason||"",onChange:St=>Ss(yt,"reason",St.target.value)}),d.jsx("button",{className:"delete-button",onClick:()=>ji(yt),disabled:bs.length<=1,title:"Remove rule",children:""})]},yt))]}),d.jsx("div",{className:"rules-actions bottom",children:d.jsx("button",{onClick:xs,className:"save-button",disabled:_e||Bs,children:_e?"Saving":"Save"})})]})]}),e==="personas"&&d.jsxs("div",{className:"settings-panel",children:[d.jsxs("div",{className:"settings-panel-header",children:[d.jsx("h3",{children:"Persona Configurations"}),d.jsx("button",{className:"create-button",onClick:()=>j(!S),children:S?"Cancel":"+ New Persona"})]}),S&&d.jsxs("div",{className:"create-persona-form",children:[d.jsx("input",{type:"text",placeholder:"Persona name (e.g., my_ai)",value:v,onChange:T=>x(T.target.value),className:"persona-name-input"}),d.jsx("button",{onClick:js,disabled:tt||!v.trim(),className:"save-button",children:tt?"Creating...":"Create Persona"})]}),d.jsx("div",{className:"persona-list-settings",children:d.jsxs("select",{value:r||"",onChange:T=>{T.target.value?Pa(T.target.value):(u(null),m(""))},className:"persona-select",children:[d.jsx("option",{value:"",children:"Select a persona to edit..."}),i.map(T=>d.jsx("option",{value:T.name,children:T.title||T.name},T.name))]})}),r&&d.jsxs("div",{className:"config-editor",children:[d.jsxs("div",{className:"config-editor-header",children:[d.jsxs("span",{children:["Editing: ",r,".config"]}),d.jsx("button",{onClick:Xn,disabled:tt||U,className:"save-button",children:tt?"Saving...":"Save"})]}),U?d.jsx("div",{className:"loading",children:"Loading config..."}):d.jsxs("div",{className:"config-form-container",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("h4",{className:"config-section-title",children:"General"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Display Title"}),d.jsx("input",{type:"text",value:g.title||"",onChange:T=>ne("title",T.target.value)})]})]}),g.anthropic&&d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("persona-anthropic"),children:[d.jsx("span",{className:"collapse-icon",children:gt["persona-anthropic"]?"":""}),"AI Configuration (Anthropic)"]}),gt["persona-anthropic"]&&d.jsxs("div",{children:[d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Model"}),d.jsx("input",{type:"text",value:g.anthropic.anthropic_model||"",onChange:T=>ne("anthropic.anthropic_model",T.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Temperature"}),d.jsx("input",{type:"number",step:"0.1",min:"0",max:"2",value:g.anthropic.temperature||0,onChange:T=>ne("anthropic.temperature",T.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Top P"}),d.jsx("input",{type:"number",step:"0.1",min:"0",max:"1",value:g.anthropic.top_p||0,onChange:T=>ne("anthropic.top_p",T.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Max Tokens"}),d.jsx("input",{type:"number",value:g.anthropic.max_tokens||0,onChange:T=>ne("anthropic.max_tokens",T.target.value)})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"System Prompt"}),d.jsx("textarea",{value:g.anthropic.prompt_context||"",onChange:T=>ne("anthropic.prompt_context",T.target.value),className:"config-textarea",rows:8})]})]})]}),g.fish_audio&&d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("persona-fish"),children:[d.jsx("span",{className:"collapse-icon",children:gt["persona-fish"]?"":""}),"Voice Configuration (Fish Audio)"]}),gt["persona-fish"]&&d.jsx("div",{children:d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Voice ID"}),d.jsx("input",{type:"text",value:g.fish_audio.voice_id||"",onChange:T=>ne("fish_audio.voice_id",T.target.value)})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Voice Engine"}),d.jsx("input",{type:"text",value:g.fish_audio.voice_engine||"",onChange:T=>ne("fish_audio.voice_engine",T.target.value)})]})]})})]}),g.filler&&d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("persona-filler"),children:[d.jsx("span",{className:"collapse-icon",children:gt["persona-filler"]?"":""}),"Filler Audio Files"]}),gt["persona-filler"]&&d.jsx("div",{children:d.jsxs("div",{className:"filler-words-section",style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[d.jsx("h5",{style:{color:"#fff",marginBottom:"16px",fontSize:"1em",fontWeight:600},children:"Filler Words"}),d.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[d.jsx("label",{children:"Add New Filler Word"}),d.jsxs("div",{style:{display:"flex",gap:"8px"},children:[d.jsx("input",{type:"text",value:De,onChange:T=>pt(T.target.value),placeholder:"Enter text for filler word (e.g., 'let me think')",onKeyPress:T=>{T.key==="Enter"&&!xt&&me()},style:{flex:1}}),d.jsx("button",{onClick:me,disabled:xt||!De.trim(),className:"save-button",style:{minWidth:"100px"},children:xt?"Creating...":"Create"})]}),d.jsx("span",{className:"form-help",children:"Text will be converted to speech using this persona's voice"})]}),$e.length===0?d.jsx("div",{style:{color:"rgba(255,255,255,0.5)",padding:"20px",textAlign:"center"},children:"No filler words yet. Add one above."}):d.jsx("div",{className:"filler-words-list",children:$e.map((T,yt)=>d.jsxs("div",{className:"filler-word-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",marginBottom:"8px"},children:[d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{color:"#fff",fontWeight:500,marginBottom:"4px"},children:T.text}),d.jsx("div",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.85em"},children:T.filename})]}),d.jsxs("div",{style:{display:"flex",gap:"8px"},children:[d.jsx("button",{onClick:()=>sn(r,T.filename),disabled:Yt===T.filename,className:"save-button",style:{padding:"6px 12px",fontSize:"0.9em",background:Yt===T.filename?"#2563eb":"#3b82f6",minWidth:"70px"},children:Yt===T.filename?"Playing...":" Play"}),d.jsx("button",{onClick:()=>Xt(r,T.filename),className:"save-button",style:{padding:"6px 12px",fontSize:"0.9em",background:"#dc3545",minWidth:"70px"},children:" Delete"})]})]},yt))})]})})]})]})]})]}),e==="location"&&d.jsxs("div",{className:"settings-panel",children:[d.jsxs("div",{className:"settings-panel-header",children:[d.jsx("h3",{children:"Location Configuration"}),d.jsx("button",{onClick:xn,disabled:tt,className:"save-button",children:tt?"Saving...":"Save"})]}),ht&&d.jsx("div",{className:"settings-message success",children:ht}),J&&d.jsx("div",{className:"settings-message error",children:J}),d.jsx("div",{className:"config-form-container",children:d.jsxs("div",{className:"config-section",children:[d.jsx("h4",{className:"config-section-title",children:"Location Details"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"City"}),d.jsx("input",{type:"text",value:He.city||"",onChange:T=>updateLocationField("city",T.target.value),placeholder:"e.g., London"}),d.jsx("span",{className:"form-help",children:"Your city or town name"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Region"}),d.jsx("input",{type:"text",value:He.region||"",onChange:T=>updateLocationField("region",T.target.value),placeholder:"e.g., Greater London"}),d.jsx("span",{className:"form-help",children:"County, state, or region"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Postcode"}),d.jsx("input",{type:"text",value:He.postcode||"",onChange:T=>updateLocationField("postcode",T.target.value),placeholder:"e.g., SW1A 1AA"}),d.jsx("span",{className:"form-help",children:"Your postcode or ZIP code"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"BBC Weather Location ID (Optional)"}),d.jsx("input",{type:"text",value:He.location_id||"",onChange:T=>updateLocationField("location_id",T.target.value),placeholder:"e.g., 2643743"}),d.jsx("span",{className:"form-help",children:"BBC Weather location ID for weather data. Leave empty to auto-detect from postcode."})]})]})})]}),e==="api_keys"&&d.jsxs("div",{className:"settings-panel",children:[d.jsxs("div",{className:"settings-panel-header",children:[d.jsx("h3",{children:"API Keys Configuration"}),d.jsx("button",{onClick:Ps,disabled:tt,className:"save-button",children:tt?"Saving...":"Save"})]}),d.jsxs("div",{className:"config-form-container",children:[d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("api-anthropic"),children:[d.jsx("span",{className:"collapse-icon",children:gt["api-anthropic"]?"":""}),"Anthropic (Claude AI)"]}),gt["api-anthropic"]&&d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"API Key"}),d.jsx("input",{type:"password",value:z.anthropic?.api_key||"",onChange:T=>Dn("anthropic.api_key",T.target.value),placeholder:"sk-ant-..."})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("api-perplexity"),children:[d.jsx("span",{className:"collapse-icon",children:gt["api-perplexity"]?"":""}),"Perplexity AI"]}),gt["api-perplexity"]&&d.jsx("div",{children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"API Key"}),d.jsx("input",{type:"password",value:z.perplexity?.api_key||"",onChange:T=>Dn("perplexity.api_key",T.target.value),placeholder:"pplx-..."})]})})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("api-fish"),children:[d.jsx("span",{className:"collapse-icon",children:gt["api-fish"]?"":""}),"Fish Audio (Text-to-Speech)"]}),gt["api-fish"]&&d.jsxs("div",{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"API Key"}),d.jsx("input",{type:"password",value:z.fish_audio?.api_key||"",onChange:T=>Dn("fish_audio.api_key",T.target.value),placeholder:"Enter Fish Audio API key"})]}),d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Voice ID"}),d.jsx("input",{type:"text",value:z.fish_audio?.voice_id||"",onChange:T=>Dn("fish_audio.voice_id",T.target.value),placeholder:"Voice ID"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Voice Engine"}),d.jsx("input",{type:"text",value:z.fish_audio?.voice_engine||"",onChange:T=>Dn("fish_audio.voice_engine",T.target.value),placeholder:"s1"})]})]})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("api-weather"),children:[d.jsx("span",{className:"collapse-icon",children:gt["api-weather"]?"":""}),"BBC Weather"]}),gt["api-weather"]&&d.jsx("div",{children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Location ID"}),d.jsx("input",{type:"text",value:z.bbc_weather?.location_id||"",onChange:T=>Dn("bbc_weather.location_id",T.target.value),placeholder:"2637891"})]})})]})]})]}),e==="music"&&d.jsxs("div",{className:"settings-panel",children:[d.jsxs("div",{className:"settings-panel-header",children:[d.jsx("h3",{children:"Music Configuration"}),d.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d.jsx("button",{onClick:cs,disabled:tt,className:"save-button",children:tt?"Saving...":"Save Config"}),d.jsx("button",{onClick:yl,disabled:A,className:"save-button",children:A?"Scanning":"Scan Library"}),d.jsx("button",{onClick:qa,disabled:A,className:"save-button",style:{background:"#dc3545"},children:"Clear Library"})]})]}),lt&&d.jsx("div",{className:"settings-message info",children:lt}),d.jsxs("div",{className:"config-form-container",children:[d.jsxs("div",{className:"config-section",children:[d.jsx("h4",{className:"config-section-title",children:"Music Library Path"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Music Directory"}),d.jsx("input",{type:"text",value:ft.paths?.music_directory||"",onChange:T=>ve("paths.music_directory",T.target.value),placeholder:"/Users/username/Music"}),d.jsx("span",{className:"form-help",children:"Path to your music library folder. Save config before scanning."})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("h4",{className:"config-section-title",children:"Library Management"}),d.jsx("p",{className:"settings-help",children:"Scan your music directory for artists, albums, and songs to update the library metadata."})]}),d.jsxs("div",{className:"config-section",children:[d.jsx("h4",{className:"config-section-title",children:"Music Tools"}),d.jsxs("div",{className:"form-group",children:[d.jsx("button",{onClick:()=>{n&&n("music-editor")},className:"save-button",style:{marginRight:"12px"},children:" Open Music Editor"}),d.jsx("button",{onClick:()=>{n&&n("analytics")},className:"save-button",children:" View Analytics"})]}),d.jsx("p",{className:"settings-help",children:"Use the Music Editor to modify artist names, album titles, song titles, and other metadata."})]})]})]}),e==="system"&&d.jsxs("div",{className:"settings-panel",children:[d.jsxs("div",{className:"settings-panel-header",children:[d.jsx("h3",{children:"System Configuration"}),d.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d.jsx("button",{onClick:cs,disabled:tt,className:"save-button",children:tt?"Saving...":"Save Config"}),d.jsx("button",{className:"save-button secondary",onClick:Gn,disabled:ct,title:"Restart server and clear caches",children:ct?"Restarting":"Restart Server"})]})]}),K&&d.jsx("div",{className:"settings-message info",children:K}),d.jsxs("div",{className:"config-form-container",children:[d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("paths"),children:[d.jsx("span",{className:"collapse-icon",children:gt.paths?"":""}),"Directory Paths"]}),gt.paths&&d.jsxs("div",{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Audio Output Directory"}),d.jsx("input",{type:"text",value:ft.paths?.audio_directory||"",onChange:T=>ve("paths.audio_directory",T.target.value),placeholder:"data/audio"}),d.jsx("span",{className:"form-help",children:"Where generated audio files are stored"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Data Directory"}),d.jsx("input",{type:"text",value:ft.paths?.data_directory||"",onChange:T=>ve("paths.data_directory",T.target.value),placeholder:"data"}),d.jsx("span",{className:"form-help",children:"Base directory for application data"})]})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("alarm"),children:[d.jsx("span",{className:"collapse-icon",children:gt.alarm?"":""}),"Alarm Settings"]}),gt.alarm&&d.jsx("div",{children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Default Alarm Audio File"}),d.jsx("input",{type:"text",value:ft.alarm_audio_file||"",onChange:T=>ve("alarm_audio_file",T.target.value),placeholder:"/path/to/alarm.mp3"}),d.jsx("span",{className:"form-help",children:"Path to audio file to play when alarms trigger. Leave empty to use default beep sound."})]})})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("server"),children:[d.jsx("span",{className:"collapse-icon",children:gt.server?"":""}),"Server Settings"]}),gt.server&&d.jsxs("div",{children:[d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Host"}),d.jsx("input",{type:"text",value:ft.server?.host||"",onChange:T=>ve("server.host",T.target.value),placeholder:"0.0.0.0"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Port"}),d.jsx("input",{type:"number",value:ft.server?.port||"",onChange:T=>ve("server.port",T.target.value),placeholder:"1337"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"WebSocket Port"}),d.jsx("input",{type:"number",value:ft.server?.websocket_port||"",onChange:T=>ve("server.websocket_port",T.target.value),placeholder:"8765"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Log Level"}),d.jsxs("select",{value:ft.server?.log_level||"INFO",onChange:T=>ve("server.log_level",T.target.value),children:[d.jsx("option",{value:"DEBUG",children:"DEBUG"}),d.jsx("option",{value:"INFO",children:"INFO"}),d.jsx("option",{value:"WARNING",children:"WARNING"}),d.jsx("option",{value:"ERROR",children:"ERROR"})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Database URL"}),d.jsx("input",{type:"text",value:ft.server?.database_url||"",onChange:T=>ve("server.database_url",T.target.value),placeholder:"postgresql+asyncpg://user:pass@localhost:5432/dragonfly"}),d.jsx("span",{className:"form-help",children:"PostgreSQL or SQLite database connection string"})]})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("ai"),children:[d.jsx("span",{className:"collapse-icon",children:gt.ai?"":""}),"AI & Processing"]}),gt.ai&&d.jsx("div",{children:d.jsxs("div",{className:"form-grid",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Default AI Model"}),d.jsx("input",{type:"text",value:ft.ai?.default_model||"",onChange:T=>ve("ai.default_model",T.target.value),placeholder:"claude-3-5-haiku-20241022"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Max Concurrent Jobs"}),d.jsx("input",{type:"number",value:ft.processing?.max_concurrent_jobs||"",onChange:T=>ve("processing.max_concurrent_jobs",T.target.value),placeholder:"10"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Job Timeout (seconds)"}),d.jsx("input",{type:"number",value:ft.processing?.job_timeout||"",onChange:T=>ve("processing.job_timeout",T.target.value),placeholder:"300"})]})]})})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("music"),children:[d.jsx("span",{className:"collapse-icon",children:gt.music?"":""}),"Music Player Settings"]}),gt.music&&d.jsxs("div",{children:[d.jsx("div",{className:"form-group",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:ft.music?.auto_scan_on_startup||!1,onChange:T=>ve("music.auto_scan_on_startup",T.target.checked)}),d.jsx("span",{style:{marginLeft:"8px"},children:"Auto-scan music library on startup"})]})}),d.jsx("div",{className:"form-group",children:d.jsxs("label",{children:[d.jsx("input",{type:"checkbox",checked:ft.music?.cache_album_covers||!0,onChange:T=>ve("music.cache_album_covers",T.target.checked)}),d.jsx("span",{style:{marginLeft:"8px"},children:"Cache album cover images"})]})})]})]}),d.jsxs("div",{className:"config-section",children:[d.jsxs("h4",{className:"config-section-title collapsible",onClick:()=>Ee("octopus"),children:[d.jsx("span",{className:"collapse-icon",children:gt.octopus?"":""}),"Octopus Energy"]}),gt.octopus&&d.jsxs("div",{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Account Number (Optional - for auto-detection)"}),d.jsx("input",{type:"text",value:ft.octopus?.account_number||"",onChange:T=>ve("octopus.account_number",T.target.value),placeholder:"A-12345678"}),d.jsx("span",{className:"form-help",children:"Your Octopus Energy account number. If provided, tariff codes and meter details will be auto-detected from the account endpoint."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Meter Point (MPAN)"}),d.jsx("input",{type:"text",value:ft.octopus?.meter_point||"",onChange:T=>ve("octopus.meter_point",T.target.value),placeholder:"2343383923410"}),d.jsx("span",{className:"form-help",children:"Your electricity meter point administration number"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Meter Serial Number"}),d.jsx("input",{type:"text",value:ft.octopus?.meter_serial||"",onChange:T=>ve("octopus.meter_serial",T.target.value),placeholder:"22L4381884"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tariff Code (Optional)"}),d.jsx("input",{type:"text",value:ft.octopus?.tariff_code||"",onChange:T=>ve("octopus.tariff_code",T.target.value),placeholder:"PREPAY-TWIN2-VAR-25-07-01"}),d.jsx("span",{className:"form-help",children:"Leave empty to auto-detect from account endpoint or agreements API, or enter manually if auto-detection fails"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Unit Rate Override (pence per kWh)"}),d.jsx("input",{type:"number",step:"0.01",value:ft.octopus?.unit_rate_override||"",onChange:T=>ve("octopus.unit_rate_override",T.target.value?parseFloat(T.target.value):""),placeholder:""}),d.jsx("span",{className:"form-help",children:"If set, this rate will be used instead of fetching from API. Leave empty to use API rate."})]})]})]})]})]}),e==="database"&&d.jsxs("div",{className:"settings-panel",children:[d.jsx("div",{className:"settings-panel-header",children:d.jsx("h3",{children:"Database Management"})}),J&&d.jsx("div",{className:"settings-message error",children:J}),ht&&d.jsx("div",{className:"settings-message success",children:ht}),U&&!Ft&&d.jsx("div",{style:{padding:"20px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Loading tables..."}),!U&&Ht.length===0&&d.jsx("div",{style:{padding:"20px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"No tables found"}),!U&&Ht.length>0&&d.jsx("div",{className:"database-tables-list",style:{display:"grid",gap:"12px",padding:"20px"},children:Ht.map(T=>d.jsxs("div",{children:[d.jsx("div",{onClick:()=>{Ot===T.name?(Vt(null),Ue(null)):(ze(1),Vt(T.name))},className:`database-table-card ${Ot===T.name?"active":""}`,style:{padding:"16px",background:Ot===T.name?"rgba(59, 130, 246, 0.2)":"rgba(255, 255, 255, 0.03)",border:`1px solid ${Ot===T.name?"rgba(59, 130, 246, 0.4)":"rgba(255, 255, 255, 0.1)"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},children:d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:600,color:"#fff",marginBottom:"4px"},children:T.name}),d.jsxs("div",{style:{fontSize:"0.85em",color:"rgba(255,255,255,0.5)"},children:[T.row_count," rows  ",T.columns.length," columns"]})]}),d.jsx("div",{style:{fontSize:"0.9em",color:"rgba(255,255,255,0.4)"},children:Ot===T.name?"":""})]})}),Ot===T.name&&d.jsxs("div",{style:{marginTop:"12px",padding:"16px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",border:"1px solid rgba(59, 130, 246, 0.3)",overflow:"hidden"},children:[P&&!Ft&&d.jsx("div",{style:{padding:"40px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"Loading data..."}),!P&&!Ft&&d.jsx("div",{style:{padding:"40px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:J?`Error: ${J}`:"No data available"}),Ft&&d.jsx("div",{className:"database-table-view",children:Ft.data&&Ft.data.length===0?d.jsx("div",{style:{padding:"40px",textAlign:"center",color:"rgba(255,255,255,0.5)"},children:"No data in this table"}):Ft.data&&Ft.data.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{overflowX:"auto",marginBottom:"16px",maxWidth:"100%",WebkitOverflowScrolling:"touch"},children:d.jsxs("table",{style:{width:"100%",minWidth:"600px",borderCollapse:"collapse",fontSize:"0.9em"},children:[d.jsx("thead",{children:d.jsxs("tr",{style:{borderBottom:"2px solid rgba(255,255,255,0.1)"},children:[Ft.columns.map(yt=>d.jsx("th",{style:{padding:"12px",textAlign:"left",color:"#fff",fontWeight:600,background:"rgba(255,255,255,0.05)"},children:yt},yt)),d.jsx("th",{style:{padding:"12px",width:"100px"}})]})}),d.jsx("tbody",{children:Ft.data.map((yt,St)=>{const At=Ht.find(Lt=>Lt.name===Ot),Zt=At?.columns.find(Lt=>Lt.primary_key),Dt=Zt?yt[Zt.name]:yt[Ft.columns[0]],ge=vn[Dt]||{};return d.jsxs("tr",{style:{borderBottom:"1px solid rgba(255,255,255,0.05)",background:yn?.rowId===Dt?"rgba(59, 130, 246, 0.1)":"transparent"},children:[Ft.columns.map(Lt=>{const zn=yn?.rowId===Dt&&yn?.column===Lt,Rn=ge[Lt]!==void 0?ge[Lt]:yt[Lt];return d.jsx("td",{style:{padding:"8px 12px",color:"rgba(255,255,255,0.8)"},children:zn?d.jsx("input",{type:"text",value:Rn||"",onChange:Ie=>Us(Dt,Lt,Ie.target.value),onBlur:()=>{ge[Lt]!==void 0&&ge[Lt]!==yt[Lt]?Vs(Dt,{[Lt]:ge[Lt]}):en(null)},onKeyPress:Ie=>{Ie.key==="Enter"?ge[Lt]!==void 0&&ge[Lt]!==yt[Lt]?Vs(Dt,{[Lt]:ge[Lt]}):en(null):Ie.key==="Escape"&&(en(null),Ve(da=>{const se={...da};return se[Dt]&&(delete se[Dt][Lt],Object.keys(se[Dt]).length===0&&delete se[Dt]),se}))},autoFocus:!0,style:{width:"100%",padding:"4px 8px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(59, 130, 246, 0.5)",borderRadius:"4px",color:"#fff"}}):d.jsx("div",{onClick:()=>{Ht.find(se=>se.name===Ot)?.columns.find(se=>se.name===Lt)?.primary_key||Us(Dt,Lt,yt[Lt])},style:{cursor:Ht.find(se=>se.name===Ot)?.columns.find(se=>se.name===Lt)?.primary_key?"default":"pointer",padding:"4px",borderRadius:"4px",transition:"background 0.2s"},onMouseEnter:Ie=>{Ht.find(us=>us.name===Ot)?.columns.find(us=>us.name===Lt)?.primary_key||(Ie.target.style.background="rgba(255,255,255,0.05)")},onMouseLeave:Ie=>{Ie.target.style.background="transparent"},children:Rn!=null?String(Rn).substring(0,100):"NULL"})},Lt)}),d.jsx("td",{style:{padding:"8px"},children:yn?.rowId===Dt?d.jsxs("div",{style:{display:"flex",gap:"4px"},children:[d.jsx("button",{onClick:()=>{const Lt=ge;Object.keys(Lt).some(Rn=>Lt[Rn]!==yt[Rn])?Vs(Dt,Lt):en(null)},className:"save-button",style:{padding:"4px 8px",fontSize:"0.85em",minWidth:"50px"},disabled:tt,children:tt?"Saving...":"Save"}),d.jsx("button",{onClick:()=>{en(null),Ve(Lt=>{const zn={...Lt};return delete zn[Dt],zn})},className:"save-button",style:{padding:"4px 8px",fontSize:"0.85em",minWidth:"50px",background:"rgba(255,255,255,0.1)"},children:"Cancel"})]}):d.jsx("button",{onClick:()=>{const Lt=Ft.columns.find(zn=>!At?.columns.find(Ie=>Ie.name===zn)?.primary_key);Lt&&Us(Dt,Lt,yt[Lt])},className:"save-button",style:{padding:"4px 8px",fontSize:"0.85em",minWidth:"60px",background:"rgba(255,255,255,0.1)"},children:"Edit"})})]},St)})})]})}),Ft.pagination.total_pages>1&&d.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"12px",marginTop:"20px"},children:[d.jsx("button",{onClick:()=>ze(yt=>Math.max(1,yt-1)),disabled:Ft.pagination.page===1,className:"save-button",style:{padding:"6px 12px",fontSize:"0.9em"},children:" Previous"}),d.jsxs("span",{style:{color:"rgba(255,255,255,0.7)",fontSize:"0.9em"},children:["Page ",Ft.pagination.page," of ",Ft.pagination.total_pages," ","(",Ft.pagination.total_rows," total rows)"]}),d.jsx("button",{onClick:()=>ze(yt=>Math.min(Ft.pagination.total_pages,yt+1)),disabled:Ft.pagination.page===Ft.pagination.total_pages,className:"save-button",style:{padding:"6px 12px",fontSize:"0.9em"},children:"Next "})]})]}):null})]})]},T.name))})]})]})]})})}const c1=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function l6(){const[n,e]=C.useState([]),[a,i]=C.useState(!1),[o,r]=C.useState(null),[u,f]=C.useState(null),[m,g]=C.useState(""),[y,v]=C.useState(""),[x,S]=C.useState([]),[j,M]=C.useState(!1),[N,k]=C.useState(null),H=C.useRef(null),z=C.useRef(null),[Q,U]=C.useState("");C.useEffect(()=>{P(),Z();const E=setInterval(()=>{nt()},1e4);return()=>{clearInterval(E),z.current&&clearInterval(z.current)}},[]),C.useEffect(()=>()=>{H.current&&(H.current.pause(),H.current=null),z.current&&clearInterval(z.current)},[]);const Z=async()=>{try{const E=await ms.getSystemConfig();U(E?.alarm_audio_file||"")}catch(E){console.error("Error loading default alarm audio:",E)}},P=async()=>{i(!0),r(null);try{const E=await oo.getAlarms();E.success?e(E.alarms||[]):r(E.error||"Failed to load alarms")}catch(E){console.error("Error loading alarms:",E),r(E.message||"Failed to load alarms")}finally{i(!1)}},nt=async()=>{try{const E=await oo.checkAlarms();if(E.success&&E.alarms&&E.alarms.length>0){for(const Y of E.alarms)tt(Y);await P()}}catch(E){console.error("Error checking alarms:",E)}},tt=E=>{console.log("Triggering alarm:",E),k(E);const Y=E.audio_file||Q;if(Y){const st=new Audio(Y);st.loop=!0,H.current=st,st.play().catch(A=>{console.error("Error playing alarm audio:",A),rt()})}else rt();"Notification"in window&&Notification.permission==="granted"?new Notification("Alarm",{body:E.reason||"Alarm triggered",icon:"/vite.svg"}):"Notification"in window&&Notification.permission!=="denied"&&Notification.requestPermission().then(st=>{st==="granted"&&new Notification("Alarm",{body:E.reason||"Alarm triggered",icon:"/vite.svg"})})},rt=()=>{H.current&&H.current.pause();const E=()=>{const Y=new(window.AudioContext||window.webkitAudioContext),st=Y.createOscillator(),A=Y.createGain();st.connect(A),A.connect(Y.destination),st.frequency.value=800,st.type="sine",A.gain.setValueAtTime(.3,Y.currentTime),A.gain.exponentialRampToValueAtTime(.01,Y.currentTime+.5),st.start(Y.currentTime),st.stop(Y.currentTime+.5)};E(),z.current=setInterval(()=>{E()},1500)},J=()=>{H.current&&(H.current.pause(),H.current.currentTime=0,H.current=null),z.current&&(clearInterval(z.current),z.current=null),k(null)},V=E=>{S(Y=>Y.includes(E)?Y.filter(st=>st!==E):[...Y,E].sort())},ht=async()=>{if(!m){r("Time is required");return}r(null),f(null),M(!0);try{const E=new Date,[Y,st]=m.split(":"),A=new Date(E.getFullYear(),E.getMonth(),E.getDate(),parseInt(Y),parseInt(st)),F=await oo.createAlarm({alarm_type:"time",alarm_time:A.toISOString(),reason:y.trim()||null,recurring_days:x.length>0?x:null});F.success?(f("Alarm created successfully"),g(""),v(""),S([]),M(!1),await P()):(r(F.error||"Failed to create alarm"),M(!1))}catch(E){console.error("Error creating alarm:",E),r(E.message||"Failed to create alarm"),M(!1)}},ot=async E=>{if(confirm("Are you sure you want to delete this alarm?"))try{const Y=await oo.deleteAlarm(E);Y.success?(f("Alarm deleted successfully"),await P()):r(Y.error||"Failed to delete alarm")}catch(Y){console.error("Error deleting alarm:",Y),r(Y.message||"Failed to delete alarm")}},ct=async E=>{try{const Y=await oo.toggleAlarm(E);Y.success?await P():r(Y.error||"Failed to toggle alarm")}catch(Y){console.error("Error toggling alarm:",Y),r(Y.message||"Failed to toggle alarm")}},D=E=>new Date(E).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),K=E=>!E||E.length===0?"Once":E.length===7?"Every day":E.map(Y=>c1[Y]).join(", ");return d.jsxs("div",{className:"alerts-page",children:[N&&d.jsx("div",{className:"alarm-popup-overlay",children:d.jsxs("div",{className:"alarm-popup",children:[d.jsx("div",{className:"alarm-popup-icon",children:""}),d.jsx("div",{className:"alarm-popup-title",children:"Alarm"}),d.jsx("div",{className:"alarm-popup-message",children:N.reason||"Alarm"}),d.jsx("div",{className:"alarm-popup-time",children:D(N.alarm_time)}),d.jsx("button",{className:"alarm-popup-stop",onClick:J,children:"Stop"})]})}),d.jsxs("div",{className:"alerts-container",children:[d.jsx("div",{className:"alerts-header",children:d.jsx("h2",{children:"Alarms"})}),d.jsxs("div",{className:"alarm-card",children:[d.jsx("div",{className:"alarm-card-header",children:d.jsx("h3",{children:"New Alarm"})}),o&&d.jsx("div",{className:"alerts-message error",children:o}),u&&d.jsx("div",{className:"alerts-message success",children:u}),d.jsxs("div",{className:"alarm-form-android",children:[d.jsx("div",{className:"alarm-time-picker",children:d.jsx("input",{type:"time",value:m,onChange:E=>g(E.target.value),className:"alarm-time-input",required:!0})}),d.jsxs("div",{className:"alarm-input-group",children:[d.jsx("label",{children:"Label"}),d.jsx("input",{type:"text",value:y,onChange:E=>v(E.target.value),placeholder:"Alarm name",className:"alarm-text-input"})]}),d.jsxs("div",{className:"alarm-input-group",children:[d.jsx("label",{children:"Repeat"}),d.jsx("div",{className:"alarm-days-selector",children:c1.map((E,Y)=>d.jsx("button",{type:"button",className:`alarm-day-button ${x.includes(Y)?"active":""}`,onClick:()=>V(Y),children:E[0]},Y))}),x.length===0&&d.jsx("div",{className:"alarm-hint",children:"Tap days to repeat, or leave empty for one-time alarm"})]}),d.jsx("button",{onClick:ht,disabled:j||!m,className:"alarm-create-button",children:j?"Creating...":"Save"})]})]}),d.jsxs("div",{className:"alarms-list-android",children:[a&&d.jsx("div",{className:"loading",children:"Loading alarms..."}),!a&&n.length===0&&d.jsx("div",{className:"alerts-empty",children:"No alarms set"}),!a&&n.map(E=>d.jsxs("div",{className:`alarm-card-compact ${E.is_active?"":"inactive"}`,children:[d.jsx("div",{className:"alarm-time-display-compact",children:D(E.alarm_time)}),d.jsxs("div",{className:"alarm-details-compact",children:[E.reason&&d.jsx("div",{className:"alarm-label-compact",children:E.reason}),d.jsx("div",{className:"alarm-repeat-compact",children:K(E.recurring_days)})]}),d.jsxs("div",{className:"alarm-actions-compact",children:[d.jsxs("label",{className:"android-switch-compact",children:[d.jsx("input",{type:"checkbox",checked:E.is_active,onChange:()=>ct(E.id)}),d.jsx("span",{className:"android-switch-slider-compact"})]}),d.jsx("button",{className:"alarm-delete-icon-compact",onClick:()=>ot(E.id),title:"Delete",children:""})]})]},E.id))]})]})]})}function o6({status:n}){const e=C.useRef(null),a=C.useRef(null),i=C.useRef([]);return C.useEffect(()=>{console.log("WaveformMic status:",n)},[n]),C.useEffect(()=>{i.current=Array.from({length:32},(r,u)=>({angle:u*360/32,height:.3+Math.random()*.2,velocity:.01+Math.random()*.02,phase:Math.random()*Math.PI*2}))},[]),C.useEffect(()=>{const o=e.current;if(!o)return;const r=o.getContext("2d"),u=160,f=u/2,m=u/2,g=35,y=40;o.width=u,o.height=u;const v=n==="listening"||n==="playing",x=n==="listening",S=n==="playing";let j=0;const M=()=>{r.clearRect(0,0,u,u),r.beginPath(),r.arc(f,m,g+5,0,Math.PI*2),r.fillStyle="#0a0a0f",r.fill(),r.strokeStyle=x?"rgba(74, 144, 226, 0.6)":S?"rgba(22, 199, 130, 0.6)":"#333",r.lineWidth=3,r.stroke(),v?(j+=.15,i.current.forEach(N=>{x?N.height=.4+Math.sin(j*N.velocity*2+N.phase)*.35+Math.random()*.15:S&&(N.height=.6+Math.sin(j*N.velocity*4+N.phase)*.5+Math.random()*.2);const k=N.angle*Math.PI/180,H=N.height*y,z=f+Math.cos(k)*g,Q=m+Math.sin(k)*g,U=f+Math.cos(k)*(g+H),Z=m+Math.sin(k)*(g+H);if(r.beginPath(),r.moveTo(z,Q),r.lineTo(U,Z),x){const P=r.createLinearGradient(z,Q,U,Z);P.addColorStop(0,"rgba(74, 144, 226, 0.4)"),P.addColorStop(1,"rgba(74, 144, 226, 1)"),r.strokeStyle=P}else if(S){const P=r.createLinearGradient(z,Q,U,Z);P.addColorStop(0,"rgba(22, 199, 130, 0.4)"),P.addColorStop(1,"rgba(22, 199, 130, 1)"),r.strokeStyle=P}r.lineWidth=3,r.lineCap="round",r.stroke(),r.shadowBlur=8,r.shadowColor=x?"rgba(74, 144, 226, 0.8)":"rgba(22, 199, 130, 0.8)",r.stroke(),r.shadowBlur=0})):(r.fillStyle="#666",r.beginPath(),r.roundRect(f-8,m-15,16,22,8),r.fill(),r.fillStyle="#555",r.beginPath(),r.roundRect(f-10,m+8,20,4,2),r.fill(),r.beginPath(),r.moveTo(f,m+12),r.lineTo(f,m+22),r.strokeStyle="#555",r.lineWidth=3,r.lineCap="round",r.stroke(),r.beginPath(),r.moveTo(f-8,m+22),r.lineTo(f+8,m+22),r.stroke()),a.current=requestAnimationFrame(M)};return M(),()=>{a.current&&cancelAnimationFrame(a.current)}},[n]),d.jsx("canvas",{ref:e,style:{width:"160px",height:"160px",display:"block"}})}function r6(){const[n,e]=C.useState(()=>{const ft=localStorage.getItem("chatSessionId");if(ft)return ft;const Tt=`session-${Date.now()}`;return localStorage.setItem("chatSessionId",Tt),Tt}),[a,i]=C.useState(!1),[o,r]=C.useState(!1),[u,f]=C.useState(null),[m,g]=C.useState("idle"),[y,v]=C.useState(""),[x,S]=C.useState(""),[j,M]=C.useState(""),[N,k]=C.useState(""),[H,z]=C.useState(null),[Q,U]=C.useState(null),[Z,P]=C.useState(0),[nt,tt]=C.useState("question"),[rt,J]=C.useState("dashboard"),[V,ht]=C.useState(!0),[ot,ct]=C.useState(""),[D,K]=C.useState(""),{selectPersona:E,currentTitle:Y}=jc(),st=q_();C.useEffect(()=>{localStorage.getItem("chatSessionId")||localStorage.setItem("chatSessionId",n)},[n]),C.useEffect(()=>()=>{H&&H.pause()},[H]);const A=()=>{i(!0)},F=async ft=>{await E(ft),i(!1)},lt=()=>{const ft=!o;if(r(ft),ft){if(window.dispatchEvent(new CustomEvent("enterFocusMode")),document.querySelectorAll("audio").forEach(gt=>{try{gt.paused||(gt.pause(),gt.currentTime=0)}catch(fe){console.warn("Error stopping audio:",fe)}}),H)try{H.pause(),H.currentTime=0}catch(gt){console.warn("Error stopping audioObj:",gt)}if(Q)try{Q.pause(),Q.currentTime=0}catch(gt){console.warn("Error stopping fillerAudioObj:",gt)}}else window.dispatchEvent(new CustomEvent("exitFocusMode"))},ut=async()=>{try{console.log("[FILLER] Requesting filler audio...");const Tt=(await Lg.getFillerAudio())?.data;if(Tt&&Tt.size>0){const gt=URL.createObjectURL(Tt),fe=new Audio(gt);U(fe),fe.onended=()=>{console.log("[FILLER] Filler audio ended"),U(null)},await fe.play(),console.log("[FILLER] Playing filler audio")}}catch(ft){console.error("[FILLER] Failed to play filler audio:",ft)}},bt=()=>{Q&&(console.log("[FILLER] Stopping filler audio"),Q.pause(),Q.currentTime=0,U(null))},Nt=()=>{o||r(!0),["listening","processing","playing"].includes(m)||(g("listening"),P(ft=>ft+1))};return C.useEffect(()=>{let ft=!1,Tt,gt,fe,He=0,Ze,$e=[];const Qe=async()=>{Tt&&Tt.state!=="inactive"&&Tt.stop()},De=async()=>{v(""),S(""),k("Listening...");try{const xt=await navigator.mediaDevices.getUserMedia({audio:!0});if(ft){xt.getTracks().forEach(Mt=>Mt.stop());return}f(xt),fe=new AudioContext;const Bt=fe.createMediaStreamSource(xt);gt=fe.createAnalyser(),gt.fftSize=2048,Bt.connect(gt),Tt=new MediaRecorder(xt),$e=[],Tt.ondataavailable=Mt=>{Mt.data.size>0&&$e.push(Mt.data)},Tt.onstop=async()=>{if($e.length===0)return;ut();const Mt=new Blob($e,{type:"audio/webm"});await pt(Mt)},Tt.start();const Yt=()=>{const Mt=new Uint8Array(gt.fftSize);gt.getByteTimeDomainData(Mt);let Ht=0;for(let Ft=0;Ft<Mt.length;Ft++){const Ue=(Mt[Ft]-128)/128;Ht+=Ue*Ue}const Ne=Math.sqrt(Ht/Mt.length),Ot=.04,Vt=performance.now();if(Ne<Ot){if(He===0&&(He=Vt),Vt-He>2e3){Qe();return}}else He=0;Ze=requestAnimationFrame(Yt)};Ze=requestAnimationFrame(Yt)}catch(xt){g("error"),v(xt?.message||"Microphone access denied")}},pt=async xt=>{g("processing");try{const Bt=new FormData;Bt.append("file",xt,"audio.webm");const Mt=await(await fetch("/api/transcribe",{method:"POST",body:Bt})).json();if(console.log("Transcribe response",Mt),(Mt.router_model||Mt.router_prompt||Mt.router_input)&&console.log("Router meta",{model:Mt.router_model,prompt:Mt.router_prompt,input:Mt.router_input,output_raw:Mt.router_answer,output_parsed:Mt.router_parsed,error:Mt.router_error}),Mt.success){const Ht=Mt.transcript||"";if(console.log("Transcript:",Ht),k("Thinking..."),nt==="question")try{console.log("[QUESTION MODE] Starting streaming pipeline...");const Ne=Date.now();let Ot="",Vt=null,Ft=null;if(console.log("[STREAM] Streaming text response..."),await Lg.askQuestionStream({question:Ht},Ue=>{if(Ue.chunk)Vt===null&&(Vt=Date.now()-Ne,console.log(`[STREAM] First text chunk in ${Vt}ms`)),Ot+=Ue.chunk,k(Ot);else if(Ue.done){const we=Date.now()-Ne;console.log(`[STREAM] Text complete in ${we}ms, length: ${Ot.length}`),Ot=Ue.full_text||Ot,k(Ot)}}),Ot){console.log("[STREAM] Starting audio generation from completed text...");const Ue=Date.now(),we=await fetch("/api/ai/text-to-audio-stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:Ot})});if(!we.ok)throw new Error(`HTTP ${we.status}: ${we.statusText}`);console.log("[STREAM] Audio stream started");const ze=new MediaSource,cn=new Audio;cn.src=URL.createObjectURL(ze),z(cn);let yn=null,en=!1;const vn=[];let Ve=!1;ze.addEventListener("sourceopen",async()=>{console.log("[STREAM] MediaSource opened"),yn=ze.addSourceBuffer("audio/mpeg"),yn.addEventListener("updateend",()=>{if(Ve=!1,vn.length>0&&!Ve){Ve=!0;const Ce=vn.shift();yn.appendBuffer(Ce)}else vn.length===0&&ze.readyState==="open"&&(we.body.locked||ze.endOfStream())});const he=we.body.getReader();let nn=0;for(;;){const{done:Ce,value:is}=await he.read();if(Ce){console.log(`[STREAM] Audio stream complete, total: ${nn} bytes`),vn.length===0&&!Ve&&ze.readyState==="open"&&ze.endOfStream();break}if(Ft===null&&(Ft=Date.now()-Ne,console.log(`[STREAM] First audio chunk in ${Ft}ms`),bt(),g("playing")),nn+=is.length,Ve||vn.length>0?vn.push(is):(Ve=!0,yn.appendBuffer(is)),!en&&nn>8192){en=!0;try{await cn.play(),console.log(`[STREAM] Audio playback started in ${Date.now()-Ne}ms`)}catch(Si){console.error("[STREAM] Audio play failed:",Si)}}}}),cn.onended=()=>{console.log("[STREAM] Audio ended"),g("idle"),k(""),URL.revokeObjectURL(cn.src)},cn.onerror=he=>{console.error("[STREAM] Audio error:",he,cn.error),g("idle"),k("")}}else console.log("[STREAM] No text to generate audio from"),g("idle")}catch(Ne){console.error("[STREAM] Streaming failed:",Ne),bt(),g("idle"),k("")}else{console.log("[TASK MODE] Using router..."),bt();const Ne=Mt.router_parsed,Ot=Mt.router_answer,Vt=Mt.router_error,Ft=Ht,Ue=Ne&&(Ne.value||Ne.type||JSON.stringify(Ne))||Ot&&Ot.trim()||Vt&&`Router error: ${Vt}`||"(no router output)";console.log("Router display:",Ue),k("Task mode is not yet implemented. Please use Question mode."),g("idle")}S(""),M("")}else console.warn("Transcription failed or empty; continuing to listen",Mt.error),g("listening"),v(Mt.error||"Transcription failed"),P(Ht=>Ht+1)}catch(Bt){console.error("Transcription failed",Bt),g("idle"),v(Bt?.message||"Transcription failed")}};return o&&m==="listening"?De():(u&&(u.getTracks().forEach(xt=>xt.stop()),f(null)),g("idle"),v(""),S(""),M(""),Ze&&cancelAnimationFrame(Ze),fe&&fe.close().catch(()=>{})),()=>{ft=!0,u&&u.getTracks().forEach(xt=>xt.stop()),Ze&&cancelAnimationFrame(Ze),fe&&fe.close().catch(()=>{}),Tt&&Tt.state!=="inactive"&&Tt.stop()}},[o,Z,m]),d.jsxs("div",{className:`app-shell ${o?"ai-focus":""}`,children:[d.jsx(Cx,{onSwitchAI:A,onSettingsClick:()=>J("settings"),onAiFocusClick:lt,activePage:rt,onNavigate:ft=>J(ft),onMusicSearch:ft=>ct(ft),onChatSearch:ft=>K(ft)}),rt==="music"?d.jsx(G_,{sessionId:n,audioQueue:st,onMicClick:lt,searchQuery:ot}):rt==="music-editor"?d.jsx(Q_,{}):rt==="analytics"?d.jsx(I_,{}):rt==="chat"?d.jsx(Z_,{sessionId:n,onMicClick:lt,searchQuery:D}):rt==="news"?d.jsx(t6,{}):rt==="settings"?d.jsx(i6,{onNavigate:ft=>J(ft)}):rt==="alerts"?d.jsx(l6,{}):d.jsxs("div",{className:"main-container",children:[V&&d.jsx("div",{className:"left-section",children:d.jsx(Jx,{})}),d.jsx("div",{className:"right-section",children:d.jsx(F_,{})})]}),!V&&d.jsx("div",{className:"collapse-toggle collapse-left",onClick:()=>ht(!0),title:"Show news and widgets",children:""}),d.jsx(P_,{open:a,onClose:()=>i(!1),onSelect:F}),o&&d.jsxs("div",{className:"ai-focus-overlay",children:[d.jsx("div",{className:"ai-focus-persona-name",children:Y||"AI Assistant"}),d.jsx("div",{className:`ai-focus-mic ${["listening","processing","playing"].includes(m)?"active":"off"}`,role:"button",tabIndex:0,onClick:Nt,onKeyDown:ft=>(ft.key==="Enter"||ft.key===" ")&&Nt(),title:"Start microphone",children:d.jsx(o6,{status:m})}),d.jsxs("div",{className:"ai-focus-status",children:[m==="listening"&&"Listening...",m==="error"&&`Mic error: ${y}`,m==="processing"&&"Transcribing...",m==="playing"&&"Playing response...",m==="idle"&&"Tap mic to start"]}),d.jsxs("div",{className:"ai-focus-mode-toggle",children:[d.jsx("button",{className:nt==="question"?"active":"",onClick:()=>tt("question"),disabled:m!=="idle",children:"Question"}),d.jsx("button",{className:nt==="task"?"active":"",onClick:()=>tt("task"),disabled:m!=="idle",children:"Task"})]}),N&&d.jsx("div",{className:"ai-response-text",children:N}),d.jsx("button",{className:"ai-focus-exit",onClick:lt,title:"Exit AI Focus Mode",children:""})]})]})}Gv.createRoot(document.getElementById("root")).render(d.jsx(C.StrictMode,{children:d.jsx(Y_,{children:d.jsx(r6,{})})}));
