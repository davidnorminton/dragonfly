*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:#0a0a0f;color:#e0e0e0;min-height:100vh;overflow:hidden}.top-bar{background:#141420;border-bottom:1px solid #2a2a3a;padding:12px 24px;display:flex;justify-content:space-between;align-items:center;height:48px}.top-bar-left{display:flex;align-items:center;gap:12px;flex-shrink:0}.logo-text{font-size:1.2em;font-weight:600;color:#e0e0e0;letter-spacing:2px}.status-indicator{width:8px;height:8px;border-radius:50%;background:#4caf50;box-shadow:0 0 8px #4caf5099}.top-bar-center{flex:1;text-align:center;color:#a0a0a0;font-size:.9em}.top-bar-right{display:flex;align-items:center;gap:16px;color:#a0a0a0;font-size:.9em}.settings-icon{cursor:pointer;font-size:1.2em;opacity:.7;transition:opacity .2s}.settings-icon:hover{opacity:1}.app-shell{display:flex;flex-direction:column;height:100vh;overflow:hidden;transition:background .3s ease}.main-container{display:grid;grid-template-columns:minmax(480px,640px) 4px 1fr;gap:0;padding:0 0 12px;flex:1;min-height:0;overflow:hidden}.panel-resizer{background:#2a2a3a;cursor:col-resize;position:relative;-webkit-user-select:none;user-select:none;transition:background .2s}.panel-resizer:hover{background:#3a3a4a}.panel-resizer:before{content:"";position:absolute;left:50%;top:0;bottom:0;width:2px;background:#4a4a5a;transform:translate(-50%)}.panel-resizer.resizing{background:#667eea}.left-panel{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;overflow-y:auto;height:100%;max-height:100%;padding-right:8px}.widget{background:#141420;border:1px solid #2a2a3a;border-radius:12px;padding:12px;flex-shrink:0}.widget-title{font-size:.85em;font-weight:600;color:#a0a0a0;margin-bottom:10px;text-transform:uppercase;letter-spacing:1px}.progress-bar{width:100%;height:6px;background:#1a1a2a;border-radius:3px;overflow:hidden;margin-bottom:8px}.progress-fill{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);transition:width .3s}.stat-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;font-size:.85em}.widget-content{display:flex;flex-direction:column;gap:4px}.stat-label{color:#a0a0a0}.stat-value{color:#e0e0e0;font-weight:500}.stat-boxes{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-top:10px}.stat-box{background:#2a2a3a4d;border:1px solid rgba(42,42,58,.5);border-radius:6px;padding:6px 4px;text-align:center}.stat-box-label{font-size:.65em;color:gray;margin-bottom:3px;line-height:1.2}.stat-box-value{font-size:.85em;font-weight:600;color:#e0e0e0;line-height:1.2}.weather-main{display:flex;align-items:center;gap:12px;margin-bottom:10px}.weather-icon-container{display:flex;align-items:center;justify-content:center}.weather-icon{font-size:3.5em;color:#667eea;filter:drop-shadow(0 2px 4px rgba(102,126,234,.3))}.weather-info{flex:1;display:flex;flex-direction:column;gap:4px}.weather-temp{font-size:1.8em;font-weight:600;color:#e0e0e0}.weather-condition{font-size:.85em;color:gray}.camera-preview{width:100%;aspect-ratio:16/9;background:#0a0a0f;border:1px solid #2a2a3a;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#404040;font-size:.8em;margin-bottom:8px}.uptime-display{font-size:1.5em;font-weight:600;color:#e0e0e0;text-align:center;font-variant-numeric:tabular-nums}.center-panel{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;gap:16px;padding:0;height:100%;min-height:0;overflow-y:auto}.news-container{background:#141420;border:1px solid #2a2a3a;border-radius:12px;display:flex;flex-direction:column;flex:1 1 auto;min-height:0;overflow:hidden;margin:12px;height:100%}.news-header{padding:12px 16px;border-bottom:1px solid #2a2a3a;flex-shrink:0}.news-title{font-size:.85em;font-weight:600;color:#a0a0a0;text-transform:uppercase;letter-spacing:1px}.news-content{flex:1 1 auto;overflow-y:auto;overflow-x:hidden;padding:12px;min-height:0}.news-placeholder{color:#606060;text-align:center;padding:40px;font-size:.9em}.news-error{color:#ff6b6b;text-align:center;padding:20px;font-size:.9em}.news-articles{display:flex;flex-direction:column;gap:16px}.news-article{padding:12px;background:#1a1a2a;border:1px solid #2a2a3a;border-radius:8px;transition:border-color .2s;display:flex;gap:12px}.news-article:hover{border-color:#3a3a4a}.news-article-image{flex-shrink:0;width:120px;height:68px;overflow:hidden;border-radius:4px;background-color:#2a2a3a80}.news-article-image img{width:100%;height:100%;object-fit:cover;display:block}.news-article-content{flex:1;min-width:0}.news-article-header{margin-bottom:8px}.news-article-title{font-size:.95em;font-weight:600;color:#e0e0e0;margin:0 0 4px}.news-article-link{color:#667eea;text-decoration:none;transition:color .2s}.news-article-link:hover{color:#764ba2;text-decoration:underline}.news-article-date{font-size:.75em;color:gray;margin-top:4px}.news-article-description{font-size:.85em;color:#a0a0a0;line-height:1.5;margin-top:8px}.news-summarize-button{margin-top:10px;padding:6px 12px;background:#667eea;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.85em;font-weight:500;transition:background .2s}.news-summarize-button:hover:not(:disabled){background:#5568d3}.news-summarize-button:disabled{background:#4a5568;cursor:not-allowed;opacity:.6}.news-article-summary{margin-top:12px;padding:10px;background:#667eea1a;border-left:3px solid #667eea;border-radius:4px;font-size:.9em;color:#d0d0d0;line-height:1.6}.cyber-audio-player{margin-top:16px;width:100%;max-width:300px}.cyber-audio-player audio{width:100%;outline:none}.cyber-center-button{position:absolute;width:60px;height:60px;border-radius:50%;background:#667eea;border:2px solid #764ba2;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.2em;color:#fff;box-shadow:0 0 12px #667eea99;transition:all .3s;z-index:10}.cyber-center-button:hover{background:#764ba2;border-color:#667eea;box-shadow:0 0 16px #764ba2cc;transform:scale(1.1)}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:5000;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s}.modal-overlay.active{opacity:1;visibility:visible}.modal-content{background:#141420;border:2px solid #2a2a3a;border-radius:16px;padding:32px;max-width:600px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 8px 32px #00000080;transform:scale(.9);transition:transform .3s;position:relative}.modal-overlay.active .modal-content{transform:scale(1)}.modal-close{position:absolute;top:16px;right:16px;background:transparent;border:none;color:#a0a0a0;font-size:1.5em;cursor:pointer;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.modal-close:hover{background:#2a2a3a;color:#e0e0e0}.modal-header{text-align:center;margin-bottom:24px}.modal-title{font-size:1.5em;font-weight:600;color:#e0e0e0;margin-bottom:8px}.modal-subtitle{font-size:.9em;color:#a0a0a0}.persona-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px}.persona-item{background:#1a1a2a;border:2px solid #2a2a3a;border-radius:12px;padding:16px;text-align:center;cursor:pointer;transition:all .2s}.persona-item:hover{border-color:#667eea;background:#1f1f2f;transform:translateY(-2px)}.persona-item.selected{border-color:#764ba2;background:#1f1f2f;box-shadow:0 0 12px #764ba266}.persona-image-placeholder{width:80px;height:80px;border-radius:50%;background:#2a2a3a;border:2px solid #3a3a4a;margin:0 auto 12px;display:flex;align-items:center;justify-content:center;font-size:2em;color:#667eea}.persona-name{font-size:.9em;font-weight:600;color:#e0e0e0;margin-bottom:4px}.persona-title{font-size:.75em;color:#a0a0a0}.right-panel{background:#141420;border:1px solid #2a2a3a;border-radius:12px;display:flex;flex-direction:column;overflow:hidden}.chat-footer{margin-top:8px;min-height:220px;position:relative}.chat-footer .right-panel{height:100%}.chat-resizer{height:6px;cursor:row-resize;background:#2a2a3a;border-top:1px solid #1e1e2a;border-bottom:1px solid #1e1e2a}.chat-resizer.resizing{background:#667eea}.collapse-toggle{position:fixed;background:#141420e6;color:#fff;border:1px solid rgba(255,255,255,.2);border-radius:6px;padding:6px 10px;cursor:pointer;box-shadow:0 6px 18px #0006;z-index:1300}.collapse-left{left:8px;top:45%}.collapse-right{right:8px;top:45%}.collapse-bottom{left:50%;transform:translate(-50%);bottom:12px}.chat-header-controls{padding:12px 16px;border-bottom:1px solid #2a2a3a;display:flex;flex-direction:column;gap:8px;background:#1a1a2a}.chat-header-row{display:flex;align-items:center;justify-content:space-between}.collapse-btn{background:#ffffff14;border:1px solid rgba(255,255,255,.2);color:#fff;border-radius:6px;padding:4px 10px;cursor:pointer}.collapse-btn:hover{background:#ffffff26}.mode-toggle{display:flex;align-items:center;gap:12px}.mode-toggle-label{display:flex;align-items:center;gap:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.mode-toggle-input{position:relative;appearance:none;width:44px;height:24px;background:#2a2a3a;border-radius:12px;cursor:pointer;transition:background .2s;outline:none}.mode-toggle-input:checked{background:#667eea}.mode-toggle-input:before{content:"";position:absolute;top:2px;left:2px;width:20px;height:20px;background:#fff;border-radius:50%;transition:transform .2s}.mode-toggle-input:checked:before{transform:translate(20px)}.mode-toggle-text{color:#e0e0e0;font-size:.85em;font-weight:500}.expert-type-selector{display:flex;align-items:center;gap:8px}.expert-type-selector label{color:#a0a0a0;font-size:.85em}.expert-type-select{flex:1;padding:6px 10px;background:#141420;border:1px solid #2a2a3a;border-radius:6px;color:#e0e0e0;font-size:.85em;cursor:pointer;transition:border-color .2s}.expert-type-select:focus{outline:none;border-color:#667eea}.chat-header{padding:16px;border-bottom:1px solid #2a2a3a;display:flex;justify-content:space-between;align-items:center}.chat-header-title{font-size:1em;font-weight:600;color:#e0e0e0}.chat-header-buttons{display:flex;gap:8px}.chat-header-btn{background:transparent;border:1px solid #2a2a3a;color:#a0a0a0;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:.8em;transition:all .2s}.chat-header-btn:hover{background:#1a1a2a;border-color:#3a3a4a;color:#e0e0e0}.chat-messages{flex:1;overflow-y:auto;padding:16px;display:flex;flex-direction:column;gap:12px}.chat-message{max-width:75%;padding:10px 14px;border-radius:12px;word-wrap:break-word;font-size:.9em;line-height:1.5}.chat-message.user{background:#667eea;color:#fff;align-self:flex-end;border-bottom-right-radius:4px}.chat-message.assistant{background:#1a1a2a;border:1px solid #2a2a3a;color:#e0e0e0;align-self:flex-start;border-bottom-left-radius:4px}.chat-message-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.role-header{display:flex;align-items:center;gap:6px}.expert-icon{font-size:1em;line-height:1}.chat-message .role{font-size:.75em;opacity:.7;margin-bottom:4px}.tts-button{padding:4px 8px;background:#2a2a3a;border:1px solid #3a3a4a;border-radius:4px;color:#667eea;font-size:.7em;cursor:pointer;opacity:.7;transition:opacity .2s}.tts-button:hover{opacity:1;background:#3a3a4a}.tts-button:disabled{opacity:.4;cursor:not-allowed}.chat-input-container{padding:16px;border-top:1px solid #2a2a3a;display:flex;gap:10px}.chat-input{flex:1;padding:10px 14px;background:#1a1a2a;border:1px solid #2a2a3a;border-radius:8px;color:#e0e0e0;font-size:.9em}.chat-input:focus{outline:none;border-color:#667eea}.chat-input::placeholder{color:#606060}.send-button{padding:10px 20px;background:#667eea;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:.9em;transition:background .2s}.send-button:hover{background:#764ba2}.chat-mic-inline{padding:8px 12px;background:#ffffff14;border:1px solid rgba(22,199,130,.4);border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}.chat-mic-inline:hover{background:#ffffff1f}.empty-state{text-align:center;padding:40px;color:#606060;font-size:.9em}.left-panel::-webkit-scrollbar,.chat-messages::-webkit-scrollbar,.news-content::-webkit-scrollbar{width:6px}.left-panel::-webkit-scrollbar-track,.chat-messages::-webkit-scrollbar-track,.news-content::-webkit-scrollbar-track{background:#0a0a0f}.left-panel::-webkit-scrollbar-thumb,.chat-messages::-webkit-scrollbar-thumb,.news-content::-webkit-scrollbar-thumb{background:#2a2a3a;border-radius:3px}.left-panel::-webkit-scrollbar-thumb:hover,.chat-messages::-webkit-scrollbar-thumb:hover,.news-content::-webkit-scrollbar-thumb:hover{background:#3a3a4a}.settings-icon-button{background:transparent;border:none;color:#a0a0a0;font-size:1.2em;cursor:pointer;padding:6px;border-radius:6px;transition:all .2s;margin-left:12px;display:flex;align-items:center;justify-content:center}.settings-icon-button:hover{color:#667eea;background:#667eea1a;transform:rotate(45deg)}.settings-icon-button svg{display:block;transition:transform .3s ease}.settings-modal{background:#1a1a2a;border:1px solid #2a2a3a;border-radius:12px;width:90%;max-width:1000px;max-height:90vh;display:flex;flex-direction:column;overflow:hidden}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #2a2a3a}.settings-header h2{margin:0;color:#e0e0e0;font-size:1.5em}.close-button{background:transparent;border:none;color:#a0a0a0;font-size:2em;cursor:pointer;line-height:1;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.close-button:hover{color:#e0e0e0;background:#ffffff1a}.settings-tabs{display:flex;gap:0;border-bottom:1px solid #2a2a3a;padding:0 24px}.settings-tabs button{background:transparent;border:none;color:gray;padding:12px 20px;cursor:pointer;border-bottom:2px solid transparent;transition:all .2s;font-size:.9em;font-weight:500}.settings-tabs button:hover{color:#a0a0a0}.settings-tabs button.active{color:#667eea;border-bottom-color:#667eea}.settings-content{flex:1;overflow-y:auto;padding:24px}.settings-message{padding:12px 16px;border-radius:6px;margin-bottom:16px;font-size:.9em}.settings-message.error{background:#ff00001a;border:1px solid rgba(255,0,0,.3);color:#ff6b6b}.settings-message.success{background:#00ff001a;border:1px solid rgba(0,255,0,.3);color:#51cf66}.settings-panel{display:flex;flex-direction:column;gap:16px}.settings-panel-header{display:flex;justify-content:space-between;align-items:center}.settings-panel-header h3{margin:0;color:#e0e0e0;font-size:1.2em}.create-button,.save-button{background:#667eea;border:1px solid #764ba2;color:#fff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:.9em;font-weight:500;transition:all .2s}.create-button:hover,.save-button:hover{background:#764ba2}.create-button:disabled,.save-button:disabled{opacity:.5;cursor:not-allowed}.create-persona-form{display:flex;gap:12px;padding:16px;background:#141420;border:1px solid #2a2a3a;border-radius:8px}.persona-name-input{flex:1;padding:8px 12px;background:#1a1a2a;border:1px solid #2a2a3a;border-radius:6px;color:#e0e0e0;font-size:.9em}.persona-name-input:focus{outline:none;border-color:#667eea}.persona-list-settings{margin-bottom:16px}.persona-select{width:100%;padding:10px 12px;background:#1a1a2a;border:1px solid #2a2a3a;border-radius:6px;color:#e0e0e0;font-size:.9em;cursor:pointer}.persona-select:focus{outline:none;border-color:#667eea}.config-editor{display:flex;flex-direction:column;gap:12px}.config-editor-header{display:flex;justify-content:space-between;align-items:center;color:#a0a0a0;font-size:.85em}.config-textarea{width:100%;padding:12px;background:#0a0a0f;border:1px solid #2a2a3a;border-radius:6px;color:#e0e0e0;font-family:Courier New,monospace;font-size:.85em;line-height:1.5;resize:vertical;min-height:180px}.config-textarea:focus{outline:none;border-color:#667eea}.rules-list{display:flex;flex-direction:column;gap:10px}.rules-header{display:grid;grid-template-columns:60px 1.2fr 1fr 1fr 1.5fr 40px;gap:8px;color:#8e8ea0;font-size:12px;text-transform:uppercase;letter-spacing:.5px}.rule-row{display:grid;grid-template-columns:60px 1.2fr 1fr 1fr 1.5fr 40px;gap:8px;padding:10px;border:1px solid #2a2a3a;border-radius:10px;background:linear-gradient(135deg,#0f101a,#0c0d16);box-shadow:0 6px 20px #00000040}.rule-row input{width:100%;padding:10px;border-radius:8px;border:1px solid #2d2d3a;background:#0c0c14;color:#e6e6ff}.rule-index{display:flex;align-items:center;justify-content:center;color:#a0a0b5;font-weight:600}.rules-list .delete-button{border:1px solid #3a3a4d;border-radius:8px;background:#1c1c28;color:#ff6b6b;font-weight:700}.rules-actions{display:flex;justify-content:flex-start;margin:8px 0}.rules-actions.bottom{justify-content:flex-end}.loading{padding:40px;text-align:center;color:gray}.devices-list{margin-top:12px;display:flex;flex-direction:column;gap:8px}.device-item{display:flex;align-items:center;gap:8px;padding:6px;background:#2a2a3a4d;border-radius:4px}.device-status{width:8px;height:8px;border-radius:50%;flex-shrink:0}.device-info{flex:1;min-width:0}.device-name{font-size:.85em;color:#e0e0e0;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.device-type{font-size:.75em;color:gray}.device-more{font-size:.75em;color:gray;text-align:center;padding:4px;font-style:italic}.health-stats{display:flex;gap:12px;margin-top:8px;flex-wrap:wrap}.health-stat{flex:1;min-width:60px;text-align:center;padding:8px;background:#2a2a3a4d;border-radius:4px}.health-stat-label{font-size:.7em;color:gray;margin-bottom:4px}.health-stat-value{font-size:1.1em;font-weight:600}.stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;margin-top:8px}.stat-card{background:#2a2a3a4d;border-radius:6px;padding:12px;text-align:center}.stat-card-value{font-size:1.3em;font-weight:600;color:#667eea;margin-bottom:4px}.stat-card-label{font-size:.75em;color:gray}.actions-grid{display:flex;flex-direction:column;gap:8px;margin-top:8px}.action-button{padding:8px 12px;background:#667eea;border:1px solid #764ba2;border-radius:6px;color:#fff;font-size:.85em;font-weight:500;cursor:pointer;transition:all .2s}.action-button:hover:not(:disabled){background:#764ba2}.action-button:disabled{opacity:.5;cursor:not-allowed}.action-message{padding:8px 12px;border-radius:6px;font-size:.8em;margin-bottom:8px}.action-message.success{background:#51cf661a;border:1px solid rgba(81,207,102,.3);color:#51cf66}.action-message.error{background:#ff6b6b1a;border:1px solid rgba(255,107,107,.3);color:#ff6b6b}.bottom-toolbar{position:fixed;bottom:0;left:0;right:0;height:90px;background:#0f0f14fa;border-top:1px solid rgba(255,255,255,.1);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;flex-direction:column;z-index:1000;box-shadow:0 -4px 20px #00000080}.toolbar-progress-wrapper{width:100%;padding:0;height:4px;cursor:pointer;transition:height .1s ease}.toolbar-progress-wrapper:hover{height:6px}.toolbar-content{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding:12px 24px;flex:1;gap:16px}.toolbar-controls{display:flex;align-items:center;justify-content:center;gap:4px}.toolbar-button{width:40px;height:40px;border:none;border-radius:50%;background:transparent;color:#fff;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .15s ease;padding:0;position:relative}.toolbar-button:hover:not(:disabled){background:#ffffff1a}.toolbar-button:active:not(:disabled){background:#ffffff26}.toolbar-button:disabled{opacity:.4;cursor:not-allowed}.play-button{width:48px;height:48px;font-size:24px;background:#ffffff1a}.play-button:hover:not(:disabled){background:#ffffff26}.prev-button,.next-button{font-size:18px}.stop-button{font-size:16px}.toolbar-progress-bar{width:100%;height:100%;background:#fff3;cursor:pointer;position:relative;overflow:visible}.toolbar-info{display:flex;align-items:center;gap:12px;flex-shrink:0}.toolbar-center{flex:1;display:flex;justify-content:center}.mic-button{width:48px;height:48px;font-size:22px;background:#ffffff14;border-radius:50%;border:1px solid rgba(22,199,130,.4);display:inline-flex;align-items:center;justify-content:center}.mic-button:hover:not(:disabled){background:#ffffff24}.toolbar-time{color:#ffffffb3;font-size:.75rem;font-variant-numeric:tabular-nums;font-weight:400;-webkit-user-select:none;user-select:none;white-space:nowrap}.toolbar-progress-fill{height:100%;background:red;border-radius:2px;transition:width .05s linear;position:relative}.toolbar-progress-fill:after{content:"";position:absolute;right:-6px;top:50%;transform:translateY(-50%);width:12px;height:12px;background:red;border-radius:50%;opacity:0;transition:opacity .15s ease;box-shadow:0 0 8px #ff000080}.toolbar-progress-wrapper:hover .toolbar-progress-fill:after{opacity:1}.toolbar-status{color:#fff9;font-size:.75rem;font-weight:400;white-space:nowrap}.mic-icon-svg{display:inline-flex;align-items:center;justify-content:center}.mic-icon-svg svg{width:32px;height:32px;filter:drop-shadow(0 0 8px rgba(22,199,130,.45))}.mic-icon-large svg{width:120px;height:120px;filter:drop-shadow(0 0 24px rgba(22,199,130,.55))}.loading-spinner{display:flex;align-items:center;padding:1rem;min-height:60px}.spinner{width:24px;height:24px;border:3px solid rgba(255,255,255,.3);border-top-color:#667eea;border-radius:50%;animation:spin .8s linear infinite}.top-bar,.left-panel,.right-panel,.center-panel,.bottom-toolbar,.panel-resizer,.chat-resizer{transition:transform .8s ease,opacity .75s ease}.app-shell.ai-focus .top-bar{transform:translateY(-140%);opacity:0;pointer-events:none}.app-shell.ai-focus .left-panel{transform:translate(-160%);opacity:0;pointer-events:none}.app-shell.ai-focus .right-panel{transform:translate(160%);opacity:0;pointer-events:none}.app-shell.ai-focus .panel-resizer,.app-shell.ai-focus .chat-resizer{transform:translateY(140%);opacity:0;pointer-events:none}.app-shell.ai-focus .center-panel{transform:translate(160%);opacity:0;pointer-events:none}.app-shell.ai-focus .chat-footer{transform:translateY(140%);opacity:0;pointer-events:none}.ai-focus-overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;background:radial-gradient(ellipse at center,#0000008c,#000000e6 70%);z-index:1200;animation:fadeInOverlay .6s ease forwards}.ai-focus-mic{font-size:96px;width:160px;height:160px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#7f5af0,#9a4dff,#ff4d4d);box-shadow:0 15px 50px #00000073,0 0 30px #7f5af0b3;color:#fff;animation:pulseMic 2.4s ease-in-out infinite;cursor:pointer}.ai-focus-mic.off{background:radial-gradient(circle at 30% 30%,#3a3a45,#1c1c22);box-shadow:0 10px 24px #0000008c,0 0 8px #50505a99;animation:none}.ai-focus-mic.active{animation:pulseMic 2.4s ease-in-out infinite}.ai-focus-status{margin-top:18px;color:#fffc;font-size:1rem;min-height:20px}.ai-focus-transcript{margin-top:16px;max-width:720px;padding:16px 20px;border-radius:12px;background:#ffffff14;border:1px solid rgba(255,255,255,.12);color:#fff;font-size:1rem;line-height:1.5;text-align:center}@keyframes pulseMic{0%{transform:scale(1);box-shadow:0 15px 50px #00000073,0 0 30px #7f5af0b3}50%{transform:scale(1.05);box-shadow:0 15px 50px #00000073,0 0 50px #7f5af0e6}to{transform:scale(1);box-shadow:0 15px 50px #00000073,0 0 30px #7f5af0b3}}@keyframes fadeInOverlay{0%{opacity:0}to{opacity:1}}.ai-focus-revert{position:absolute;bottom:40px;left:50%;transform:translate(-50%);padding:12px 24px;border-radius:10px;border:1px solid rgba(255,255,255,.3);background:#0006;color:#fff;font-size:.95rem;cursor:pointer;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);transition:background .2s ease,transform .2s ease,box-shadow .2s ease}.ai-focus-revert:hover{background:#ffffff1f;box-shadow:0 0 12px #7f5af099;transform:translate(-50%) translateY(-2px)}.ai-focus-revert:active{transform:translate(-50%) translateY(0)}.top-nav{display:flex;gap:8px;margin-left:12px}.nav-button{background:transparent;border:1px solid rgba(255,255,255,.2);color:#fff;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:.85em;transition:all .15s ease;white-space:nowrap}.nav-button:hover{border-color:#ffffff59;background:#ffffff14}.nav-button.active{background:#667eea;border-color:#764ba2;box-shadow:0 6px 18px #764ba259}.music-page{padding:16px 20px 120px;min-height:calc(100vh - 70px)}.music-header{margin-bottom:16px}.music-header h2{margin:0 0 6px}.music-header p{margin:0;color:#9da7b8}.music-main{background:#141420d9;border:1px solid rgba(255,255,255,.06);border-radius:10px;padding:0;height:calc(100vh - 100px);overflow-y:scroll;overflow-x:hidden;position:relative}.music-tracklist{padding:16px;min-height:calc(100vh - 200px)}.music-hero{display:flex;align-items:flex-end;gap:16px;padding:16px;background:linear-gradient(180deg,#0b8be6,#052f6b);background-size:cover;background-position:center;background-repeat:no-repeat;transition:all .3s ease;min-height:280px;flex-shrink:0}.music-hero.scrolled{position:sticky;top:0;z-index:100;min-height:80px;padding:12px 16px;background:#0b8be6f2!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 10px #0000004d}.music-hero.scrolled{align-items:center;gap:16px}.music-hero.scrolled .album-hero{display:none}.music-hero.scrolled .hero-text{gap:0;flex-direction:row;align-items:center;order:2;flex:1}.music-hero.scrolled .album-label{display:none}.music-hero.scrolled .hero-title{font-size:1.2rem;margin:0}.music-hero.scrolled .album-artist{display:none}.music-hero.scrolled .hero-actions{gap:12px;order:1;flex-shrink:0}.music-hero.scrolled .hero-play{width:48px;height:48px}.music-hero.scrolled .hero-icon:not(.hero-play){display:none}.album-hero{width:180px;height:180px;object-fit:cover;border-radius:12px;box-shadow:0 10px 30px #00000080;transition:all .3s ease}.hero-text{display:flex;flex-direction:column;gap:8px;transition:all .3s ease}.album-label{font-size:.8em;color:#cfe6ff;text-transform:uppercase;letter-spacing:.08em;transition:all .3s ease}.hero-title{margin:0;font-size:2.8rem;color:#fff;letter-spacing:.04em;transition:all .3s ease}.album-artist{color:#e5f2ff;transition:all .3s ease}.hero-actions{display:flex;gap:12px;align-items:center;transition:all .3s ease}.hero-play{background:#1db954;color:#fff;border:none;border-radius:50%;width:52px;height:52px;font-size:1.4rem;cursor:pointer;box-shadow:0 10px 24px #0006}.hero-icon{background:#ffffff1f;color:#fff;border:none;border-radius:50%;width:36px;height:36px;cursor:pointer}.tracklist-header{display:grid;grid-template-columns:40px 1.4fr 80px 40px;color:#9da7b8;font-size:.85em;border-bottom:1px solid rgba(255,255,255,.08);padding:6px 8px}.tracklist-header.playlist-view,.track-row.playlist-view{grid-template-columns:40px 2fr 1.2fr 60px 40px}.track-row.playlist-view .col-title{display:flex;flex-direction:column;gap:2px;justify-content:center}.track-row.playlist-view .title-main{font-size:16px;font-weight:400;color:#fff;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.track-row.playlist-view.active .title-main{color:#1db954}.track-row.playlist-view .title-sub{font-size:14px;font-weight:400;color:#b3b3b3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.track-row.playlist-view .col-album{color:#b3b3b3;font-size:14px}.track-row.playlist-view .col-length{color:#b3b3b3;font-size:14px;text-align:right;justify-content:flex-end;display:flex;align-items:center}.tracklist-header .col-length{justify-content:flex-end;display:flex;align-items:center}.playing-bars{display:flex;align-items:flex-end;justify-content:center;gap:2px;height:16px;width:16px}.playing-bars .bar{width:3px;background:#1db954;border-radius:2px;animation:sound-wave 0ms -.8s linear infinite alternate}.playing-bars .bar:nth-child(1){animation-duration:474ms}.playing-bars .bar:nth-child(2){animation-duration:433ms}.playing-bars .bar:nth-child(3){animation-duration:407ms}.playing-bars .bar:nth-child(4){animation-duration:458ms}@keyframes sound-wave{0%{height:3px}to{height:16px}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinning{animation:spin 1s linear infinite}.control-icon svg,.control-btn svg,.hero-icon svg,.hero-play svg,.volume-icon svg{display:block;transition:opacity .2s}.control-icon:hover svg,.control-btn:not(.play-btn):hover svg,.hero-icon:hover svg,.volume-icon:hover svg{opacity:1}.hero-play svg{margin:auto}.tracklist-body{overflow-y:auto;max-height:calc(100vh - 420px);padding:8px}.music-player-shell{margin-top:12px}.music-actions{display:flex;gap:12px;align-items:center;margin-top:8px}.scan-button{padding:8px 14px;background:linear-gradient(135deg,#667eea,#764ba2);border:1px solid #764ba2;border-radius:8px;color:#fff;cursor:pointer;font-weight:600;box-shadow:0 6px 16px #764ba259}.scan-button:disabled{opacity:.7;cursor:not-allowed}.music-error{color:#ff6b6b;font-size:.9em}.music-library{margin-top:16px;overflow:auto;max-height:calc(100vh - 208px)}.music-empty{color:#fff9;font-size:.95em}.music-row{display:flex;align-items:center;gap:6px;padding:6px 0;cursor:pointer}.music-row-title{display:flex;flex-direction:column;gap:2px}.music-row-title-line{display:flex;align-items:center;gap:8px}.music-row-sub{font-size:.8em;color:#9da7b8}.music-row-meta{margin-left:auto;color:#8ea0b5;font-size:.85em}.music-artist{margin-bottom:6px}.music-album{margin-left:18px;margin-bottom:4px}.music-song{margin-left:34px;color:#fffc;padding:4px 0;font-size:.95em;cursor:pointer}.music-song:hover{color:#fff;text-decoration:underline}.caret{width:14px;display:inline-block;color:#9da7b8}.album-thumb{width:28px;height:28px;object-fit:cover;border-radius:4px;margin-right:8px}.music-bottom-spacer{height:96px}.music-filters{display:flex;gap:8px;margin-bottom:8px}.filter-pill{padding:6px 10px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:#ffffff0a;color:#e0e0e0;cursor:pointer;font-size:.9em;transition:all .15s ease}.filter-pill.active{background:linear-gradient(135deg,#667eea,#764ba2);border-color:#764ba2;box-shadow:0 6px 16px #764ba259}.music-row.active{color:#fff;font-weight:600}.music-player-footer{position:fixed;left:0;right:0;bottom:0;padding:10px 18px;background:#121212;border-top:1px solid rgba(255,255,255,.08);box-shadow:0 -2px 12px #0006;z-index:1200;display:flex;align-items:center;justify-content:center;gap:20px}.music-layout{display:grid;grid-template-columns:280px 1fr;gap:16px;min-height:0}.music-sidebar{overflow-y:auto}.artist-only{padding:10px 12px;border-radius:8px;display:flex;align-items:center;gap:10px}.artist-only.active{background:#667eea2e}.playlist-actions{display:flex;justify-content:flex-start;padding:6px 4px 10px}.popular-section{margin-bottom:12px}.popular-title{display:flex;align-items:center;justify-content:space-between;gap:10px}.popular-actions{display:flex;align-items:center;gap:8px}.playlist-add-btn{background:#667eea33;color:#e0e0e0;border:1px solid rgba(255,255,255,.12);border-radius:8px;padding:6px 10px;cursor:pointer;transition:background .2s ease,border-color .2s ease}.playlist-add-btn:hover{background:#667eea59;border-color:#fff3}.music-error-inline{color:#ff9b9b;padding:6px 8px}.artist-thumb{width:32px;height:32px;object-fit:cover;border-radius:6px;flex-shrink:0;border:1px solid rgba(255,255,255,.06)}.music-main{background:#141420d9;border:1px solid rgba(255,255,255,.06);border-radius:10px;padding:12px;height:calc(100vh - 100px);overflow-y:scroll;overflow-x:hidden;position:relative}.music-main-header{display:flex;align-items:center;gap:12px}.album-label{font-size:.8em;color:#9da7b8;text-transform:uppercase;letter-spacing:.08em}.album-artist{color:#c2c8d0;margin-top:4px}.album-hero{width:120px;height:120px;object-fit:cover;border-radius:12px;margin-right:16px}.track-row{display:grid;grid-template-columns:40px 1.4fr 80px 40px;align-items:center;padding:8px;border-radius:6px;cursor:pointer}.track-row:hover{background:#ffffff0d}.track-row.active{background:#667eea26}.track-row.active .col-title{color:#1db954;font-weight:600}.col-index{color:#9da7b8;text-align:center}.col-title{color:#e0e0e0}.col-artist,.col-album{color:#b7c1d1;font-size:.9em}.col-length{color:#9da7b8;text-align:right;padding-right:6px}.col-add{text-align:center}.track-add{width:28px;height:28px;border-radius:50%;background:#ffffff14;color:#e0e0e0;border:1px solid rgba(255,255,255,.12);cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:background .2s ease,transform .1s ease}.track-add:hover{background:#fff3;transform:scale(1.05)}.album-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:20px;padding:16px 0}.album-card{background:#ffffff0d;border-radius:8px;padding:16px;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;gap:12px}.album-card:hover{background:#ffffff1a;transform:translateY(-4px)}.album-card-img{width:100%;aspect-ratio:1;object-fit:cover;border-radius:6px;background:#0000004d}.album-card-placeholder{width:100%;aspect-ratio:1;background:#ffffff0d;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#555}.album-card-title{font-size:16px;font-weight:600;color:#e0e0e0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.album-card-meta{font-size:14px;color:#9da7b8}.album-section-title{font-size:22px;font-weight:700;color:#fff;margin-bottom:12px;margin-top:20px}.about-section{margin-top:32px}.about-content{padding:16px;background:#ffffff0d;border-radius:8px;color:#e0e0e0;line-height:1.6;font-size:15px}.about-generate-btn{padding:12px 24px;background:#1db95433;color:#1db954;border:1px solid #1db954;border-radius:24px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease}.about-generate-btn:hover:not(:disabled){background:#1db9544d;transform:scale(1.05)}.about-generate-btn:disabled{opacity:.5;cursor:not-allowed}.discography-section{margin-top:32px}.discography-list{padding:16px;background:#ffffff0d;border-radius:8px}.discography-item{display:flex;align-items:center;gap:16px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,.05)}.discography-item:last-child{border-bottom:none}.discography-year{color:#9da7b8;font-size:14px;font-weight:600;min-width:50px}.discography-title{color:#b3b3b3;font-size:15px}.discography-title.linked{color:#e0e0e0;cursor:pointer;transition:color .2s ease}.discography-title.linked:hover{color:#1db954;text-decoration:underline}.playlist-modal-overlay{position:fixed;inset:0;background:#0000008c;display:flex;align-items:center;justify-content:center;z-index:3000}.playlist-modal{background:#141420;border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:16px;width:320px;box-shadow:0 12px 40px #00000080;display:flex;flex-direction:column;gap:12px}.playlist-modal h4{margin:0;color:#fff}.playlist-modal .form-group{display:flex;flex-direction:column;gap:6px}.playlist-modal input,.playlist-modal select{background:#ffffff0d;border:1px solid rgba(255,255,255,.12);border-radius:6px;padding:8px;color:#e0e0e0}.playlist-modal .modal-actions{display:flex;justify-content:flex-end;gap:10px}.save-button.secondary{background:#ffffff14;border:1px solid rgba(255,255,255,.12)}.music-player-left{display:flex;flex-direction:column;gap:4px;align-items:center;max-width:720px;width:100%}.music-controls-row{display:flex;align-items:center;gap:8px}.control-icon,.control-btn{background:transparent;border:none;color:#eaeaea;cursor:pointer;padding:8px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.05rem;transition:background .15s,color .15s;width:40px;height:40px}.control-btn.play-btn{width:52px;height:52px;font-size:1.2rem;background:#1db954;color:#000;box-shadow:0 6px 16px #1db95459}.control-btn.play-btn:hover{background:#1ed760}.control-btn:hover,.control-icon:hover{background:#ffffff14;color:#fff}.music-progress-container{display:flex;align-items:center;gap:8px;width:100%;max-width:520px;margin:0 auto}.music-progress{flex:1;height:6px;background:#535353;border-radius:999px;overflow:hidden;cursor:pointer;position:relative}.music-progress-fill{height:100%;background:#1db954;width:0%;border-radius:999px;transition:width .1s linear;pointer-events:none}.music-progress-handle{position:absolute;top:50%;width:12px;height:12px;border-radius:50%;background:#fff;transform:translate(-50%,-50%);box-shadow:0 0 8px #0006;pointer-events:none}.time-stamp{font-size:.75rem;color:#ffffffb3;white-space:nowrap;min-width:40px;text-align:left}.time-stamp:last-child{text-align:right}.music-volume-control{display:flex;align-items:center;gap:8px;min-width:120px;flex-shrink:0;margin-left:16px}.volume-icon{background:transparent;border:none;color:#fff;font-size:1.1rem;cursor:pointer;padding:8px;border-radius:50%;transition:background .2s;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.volume-icon:hover{background:#ffffff1a}.music-volume-slider{flex:1;height:6px;background:#535353;border-radius:999px;overflow:hidden;cursor:pointer;position:relative;min-width:80px;max-width:120px}.music-volume-fill{height:100%;background:#1db954;width:0%;border-radius:999px}.music-volume-handle{position:absolute;top:50%;width:12px;height:12px;border-radius:50%;background:#fff;transform:translate(-50%,-50%);opacity:0;transition:opacity .2s;pointer-events:none}.music-volume-slider:hover .music-volume-handle{opacity:1}
